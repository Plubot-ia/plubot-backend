2025-08-03 23:57:33,099 - werkzeug - INFO - 127.0.0.1 - - [03/Aug/2025 23:57:33] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-03 23:57:33,626 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-03 23:57:33,799 - werkzeug - INFO - 127.0.0.1 - - [03/Aug/2025 23:57:33] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-03 23:57:43,135 - werkzeug - INFO - 127.0.0.1 - - [03/Aug/2025 23:57:43] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-03 23:57:43,657 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-03 23:57:43,832 - werkzeug - INFO - 127.0.0.1 - - [03/Aug/2025 23:57:43] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-03 23:58:03,506 - werkzeug - INFO - 127.0.0.1 - - [03/Aug/2025 23:58:03] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-03 23:58:04,028 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-03 23:58:04,254 - werkzeug - INFO - 127.0.0.1 - - [03/Aug/2025 23:58:04] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-03 23:58:55,177 - werkzeug - INFO - 127.0.0.1 - - [03/Aug/2025 23:58:55] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-03 23:58:55,705 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-03 23:58:55,878 - werkzeug - INFO - 127.0.0.1 - - [03/Aug/2025 23:58:55] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-03 23:59:16,998 - werkzeug - INFO - 127.0.0.1 - - [03/Aug/2025 23:59:16] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-03 23:59:17,521 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-03 23:59:17,695 - werkzeug - INFO - 127.0.0.1 - - [03/Aug/2025 23:59:17] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:00:37,715 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:00:37] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:00:38,242 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:00:38,415 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:00:38] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:01:00,210 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:01:00] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:01:00,737 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:01:00,910 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:01:00] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:03:09,859 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:03:09] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:03:10,380 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:03:10,898 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 00:03:11,071 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 00:03:11,072 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:03:11,415 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:03:11] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:04:35,998 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:04:35] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:04:36,530 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:04:36,702 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:04:36] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:04:59,974 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:04:59] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:05:00,500 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:05:00,670 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:05:00] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:07:08,430 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:07:08] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:07:08,951 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:07:09,122 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:07:09] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:07:48,163 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:07:48] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:07:48,701 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:07:48,876 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:07:48] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:08:53,416 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:08:53] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:08:53,948 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:08:54,467 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 00:08:54,638 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 00:08:54,639 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:08:54,985 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:08:54] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:10:02,542 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:10:02] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:10:03,074 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:10:03,273 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:10:03] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:11:12,243 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:11:12] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:11:12,769 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:11:12,944 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:11:12] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:11:40,316 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:11:40] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:11:40,841 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:11:41,015 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:11:41] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:12:12,732 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:12:12] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:12:13,258 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'end-a3e615e8', 'label': 'Fin'}, 'id': 'end-a3e615e8', 'position': {'x': 588.1117989337396, 'y': -27.515908606245233}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'message-b69d9b69', 'label': 'Mensaje', 'lastUpdated': '2025-08-03T07:33:54.435Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-b69d9b69', 'position': {'x': 157.18803057338704, 'y': -778.5422865847025}, 'type': 'message', 'width': 226, 'height': 104}, {'data': {'conditions': [{'color': '#3498db', 'id': '85989e20-28c8-4194-a16e-36c5128b3c10', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-135f3c2e', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C\n'}, 'id': 'decision-135f3c2e', 'position': {'x': 127.39183875530406, 'y': -617.8915275813295}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': '85989e20-28c8-4194-a16e-36c5128b3c10', 'instruction': 'A', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'A'}, 'id': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'position': {'x': -176.72601316505276, 'y': -354.0353202045478}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'instruction': 'B', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'B'}, 'id': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'position': {'x': 111.74065400935692, 'y': -208.07874083342384}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'instruction': 'C', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'C'}, 'id': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'position': {'x': 388.2968394081166, 'y': -349.1579863997388}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'start-06a83ae8', 'label': 'Inicio'}, 'id': 'start-06a83ae8', 'position': {'x': -100.53052856054839, 'y': -911.4341995430312}, 'type': 'start', 'width': 229, 'height': 142}, {'id': 'start-4b807eb0', 'type': 'start', 'position': {'x': 652.2238259710585, 'y': -1045.1825459688828}, 'data': {'id': 'start-4b807eb0', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 142}, {'id': 'message-f5df8c93', 'type': 'message', 'position': {'x': 873.1729162860294, 'y': -914.5594494201792}, 'data': {'id': 'message-f5df8c93', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': True, 'positionAbsolute': {'x': 873.1729162860294, 'y': -914.5594494201792}, 'dragging': False}], 'edges': [{'id': '11538', 'source': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11539', 'source': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11540', 'source': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11541', 'source': 'start-06a83ae8', 'target': 'message-b69d9b69', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11542', 'source': 'message-b69d9b69', 'target': 'decision-135f3c2e', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11543', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'sourceHandle': 'output-85989e20-28c8-4194-a16e-36c5128b3c10', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11544', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'sourceHandle': 'output-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11545', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'sourceHandle': 'output-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-start-4b807eb0output-message-f5df8c93input', 'source': 'start-4b807eb0', 'target': 'message-f5df8c93', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-04 00:12:13,259 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=9, edges_count=9, name='N/A'
2025-08-04 00:12:13,949 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=9, edges_count=9, name='None'
2025-08-04 00:12:16,377 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 00:12:16,378 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 00:12:16,551 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:12:16] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:12:18,457 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:12:18] "OPTIONS /api/plubots/123/embed HTTP/1.1" 200 -
2025-08-04 00:12:18,458 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:12:18] "OPTIONS /api/plubots/123/embed HTTP/1.1" 200 -
2025-08-04 00:12:18,462 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:12:18] "[31m[1mPOST /api/plubots/123/embed HTTP/1.1[0m" 405 -
2025-08-04 00:12:18,463 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:12:18] "[31m[1mPOST /api/plubots/123/embed HTTP/1.1[0m" 405 -
2025-08-04 00:16:15,231 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:16:15] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:16:15,757 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:16:16,278 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-04 00:16:16,451 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-04 00:16:16,451 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:16:16,796 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:16:16] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:16:47,735 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:16:47] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:16:48,279 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'end-a3e615e8', 'label': 'Fin'}, 'id': 'end-a3e615e8', 'position': {'x': 588.1117989337396, 'y': -27.515908606245233}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'message-b69d9b69', 'label': 'Mensaje', 'lastUpdated': '2025-08-03T07:33:54.435Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-b69d9b69', 'position': {'x': 157.18803057338704, 'y': -778.5422865847025}, 'type': 'message', 'width': 226, 'height': 104}, {'data': {'conditions': [{'color': '#3498db', 'id': '85989e20-28c8-4194-a16e-36c5128b3c10', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-135f3c2e', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C\n'}, 'id': 'decision-135f3c2e', 'position': {'x': 138.557829250421, 'y': -612.372339006589}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 138.557829250421, 'y': -612.372339006589}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': '85989e20-28c8-4194-a16e-36c5128b3c10', 'instruction': 'A', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'A'}, 'id': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'position': {'x': -251.1659497991658, 'y': -375.1266355842132}, 'type': 'option', 'width': 320, 'height': 127, 'selected': True, 'positionAbsolute': {'x': -251.1659497991658, 'y': -375.1266355842132}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'instruction': 'B', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'B'}, 'id': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'position': {'x': 111.74065400935692, 'y': -208.07874083342384}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'instruction': 'C', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'C'}, 'id': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'position': {'x': 452.8114511576813, 'y': -365.28663933712994}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 452.8114511576813, 'y': -365.28663933712994}, 'dragging': False}, {'data': {'id': 'message-f5df8c93', 'label': 'Mensaje'}, 'id': 'message-f5df8c93', 'position': {'x': 906.6708877713803, 'y': -878.5801467136913}, 'type': 'message', 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 906.6708877713803, 'y': -878.5801467136913}, 'dragging': False}, {'data': {'id': 'start-4b807eb0', 'label': 'Inicio'}, 'id': 'start-4b807eb0', 'position': {'x': 652.2238259710585, 'y': -1045.1825459688828}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'start-06a83ae8', 'label': 'Inicio'}, 'id': 'start-06a83ae8', 'position': {'x': -100.53052856054839, 'y': -911.4341995430312}, 'type': 'start', 'width': 229, 'height': 142}, {'id': 'decision-92c1386b', 'type': 'decision', 'position': {'x': 878.2981399797193, 'y': -720.0718883621919}, 'data': {'id': 'decision-92c1386b', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '583a87d6-a588-4845-a40d-04969919fd85', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': '945bcf38-c203-4912-9a62-6e62b8874d43', 'text': 'Opci√≥n B', 'color': '#e74c3c'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 878.2981399797193, 'y': -720.0718883621919}, 'dragging': False}, {'id': 'option-decision-92c1386b-583a87d6-a588-4845-a40d-04969919fd85', 'type': 'option', 'position': {'x': 764.1569038074124, 'y': -338.44079476313095}, 'data': {'sourceNode': 'decision-92c1386b', 'conditionId': '583a87d6-a588-4845-a40d-04969919fd85', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db'}, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 764.1569038074124, 'y': -338.44079476313095}, 'dragging': False}, {'id': 'option-decision-92c1386b-945bcf38-c203-4912-9a62-6e62b8874d43', 'type': 'option', 'position': {'x': 1071.841975228413, 'y': -424.6899865793167}, 'data': {'sourceNode': 'decision-92c1386b', 'conditionId': '945bcf38-c203-4912-9a62-6e62b8874d43', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c'}, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1071.841975228413, 'y': -424.6899865793167}, 'dragging': False}], 'edges': [{'id': '11580', 'source': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11581', 'source': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11582', 'source': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11583', 'source': 'start-06a83ae8', 'target': 'message-b69d9b69', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11584', 'source': 'message-b69d9b69', 'target': 'decision-135f3c2e', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11585', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'sourceHandle': 'output-85989e20-28c8-4194-a16e-36c5128b3c10', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11586', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'sourceHandle': 'output-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11587', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'sourceHandle': 'output-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11588', 'source': 'start-4b807eb0', 'target': 'message-f5df8c93', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': 'edge-decision-92c1386b-583a87d6-a588-4845-a40d-04969919fd85', 'source': 'decision-92c1386b', 'target': 'option-decision-92c1386b-583a87d6-a588-4845-a40d-04969919fd85', 'sourceHandle': 'output-583a87d6-a588-4845-a40d-04969919fd85', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-92c1386b-945bcf38-c203-4912-9a62-6e62b8874d43', 'source': 'decision-92c1386b', 'target': 'option-decision-92c1386b-945bcf38-c203-4912-9a62-6e62b8874d43', 'sourceHandle': 'output-945bcf38-c203-4912-9a62-6e62b8874d43', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'reactflow__edge-message-f5df8c93default-decision-92c1386binput', 'source': 'message-f5df8c93', 'target': 'decision-92c1386b', 'sourceHandle': 'default', 'targetHandle': 'input'}]}
2025-08-04 00:16:48,279 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=12, edges_count=12, name='N/A'
2025-08-04 00:16:48,983 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=12, edges_count=12, name='None'
2025-08-04 00:16:52,424 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 00:16:52,425 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 00:16:52,495 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:16:52] "OPTIONS /api/plubots/123/embed HTTP/1.1" 200 -
2025-08-04 00:16:52,496 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:16:52] "OPTIONS /api/plubots/123/embed HTTP/1.1" 200 -
2025-08-04 00:16:52,500 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:16:52] "[31m[1mPOST /api/plubots/123/embed HTTP/1.1[0m" 405 -
2025-08-04 00:16:52,500 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:16:52] "[31m[1mPOST /api/plubots/123/embed HTTP/1.1[0m" 405 -
2025-08-04 00:16:52,598 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:16:52] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:18:48,127 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:18:48] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:18:48,661 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:18:49,337 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 00:18:49,509 - api.flow_api - INFO - DB query for edges returned 12 items.
2025-08-04 00:18:49,510 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:18:49,864 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:18:49] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:22:01,211 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:22:01] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:22:01,739 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:22:01,914 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:22:01] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:23:02,994 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:23:02] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:23:03,521 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:23:03,695 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:23:03] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:24:41,508 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:24:41] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:24:42,048 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:24:42,731 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 00:24:42,906 - api.flow_api - INFO - DB query for edges returned 12 items.
2025-08-04 00:24:42,906 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:24:43,253 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:24:43] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:29:06,264 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:29:06] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:29:06,805 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:29:06,981 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:29:06] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:29:29,573 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:29:29] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:29:30,106 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:29:30,281 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:29:30] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:32:50,215 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:32:50] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:32:50,761 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:32:51,436 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 00:32:51,609 - api.flow_api - INFO - DB query for edges returned 12 items.
2025-08-04 00:32:51,609 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:32:51,953 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:32:51] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:33:24,036 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:33:24] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:33:24,567 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:33:24,741 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:33:24] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:38:09,813 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:38:09] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:38:10,335 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:38:11,011 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 00:38:11,183 - api.flow_api - INFO - DB query for edges returned 12 items.
2025-08-04 00:38:11,183 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:38:11,528 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:38:11] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:38:56,023 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:38:56] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:38:56,548 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:38:56,724 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:38:56] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:39:09,434 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:39:09] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:39:09,996 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'end-a3e615e8', 'label': 'Fin'}, 'id': 'end-a3e615e8', 'position': {'x': 588.1117989337396, 'y': -27.515908606245233}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'message-b69d9b69', 'label': 'Mensaje', 'lastUpdated': '2025-08-03T07:33:54.435Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-b69d9b69', 'position': {'x': 157.18803057338704, 'y': -778.5422865847025}, 'type': 'message', 'width': 226, 'height': 104}, {'data': {'conditions': [{'color': '#3498db', 'id': '85989e20-28c8-4194-a16e-36c5128b3c10', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-135f3c2e', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C\n'}, 'id': 'decision-135f3c2e', 'position': {'x': 120.4056732689676, 'y': -621.4484169973157}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 120.4056732689676, 'y': -621.4484169973157}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': '85989e20-28c8-4194-a16e-36c5128b3c10', 'instruction': 'A', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'A'}, 'id': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'position': {'x': -251.1659497991658, 'y': -375.1266355842132}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'instruction': 'B', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'B'}, 'id': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'position': {'x': 111.74065400935692, 'y': -208.07874083342384}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'instruction': 'C', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'C'}, 'id': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'position': {'x': 452.8114511576813, 'y': -365.28663933712994}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'message-f5df8c93', 'label': 'Mensaje'}, 'id': 'message-f5df8c93', 'position': {'x': 906.6708877713803, 'y': -878.5801467136913}, 'type': 'message', 'width': 212, 'height': 101}, {'data': {'color': '#3498db', 'conditionId': '583a87d6-a588-4845-a40d-04969919fd85', 'instruction': 'Opci√≥n A', 'sourceNode': 'decision-92c1386b', 'text': 'Opci√≥n A'}, 'id': 'option-decision-92c1386b-583a87d6-a588-4845-a40d-04969919fd85', 'position': {'x': 1018.2870875477596, 'y': -334.81036356684024}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1018.2870875477596, 'y': -334.81036356684024}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': '945bcf38-c203-4912-9a62-6e62b8874d43', 'instruction': 'Opci√≥n B', 'sourceNode': 'decision-92c1386b', 'text': 'Opci√≥n B'}, 'id': 'option-decision-92c1386b-945bcf38-c203-4912-9a62-6e62b8874d43', 'position': {'x': 1362.276470931667, 'y': -442.8421425607701}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1362.276470931667, 'y': -442.8421425607701}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': '583a87d6-a588-4845-a40d-04969919fd85', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': '945bcf38-c203-4912-9a62-6e62b8874d43', 'text': 'Opci√≥n B'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-92c1386b', 'label': 'Decisi√≥n'}, 'id': 'decision-92c1386b', 'position': {'x': 1248.6021220013681, 'y': -698.2893011844478}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': True, 'positionAbsolute': {'x': 1248.6021220013681, 'y': -698.2893011844478}, 'dragging': False}, {'data': {'id': 'start-4b807eb0', 'label': 'Inicio'}, 'id': 'start-4b807eb0', 'position': {'x': 652.2238259710585, 'y': -1045.1825459688828}, 'type': 'start', 'width': 229, 'height': 156}, {'data': {'id': 'start-06a83ae8', 'label': 'Inicio'}, 'id': 'start-06a83ae8', 'position': {'x': -100.53052856054839, 'y': -911.4341995430312}, 'type': 'start', 'width': 229, 'height': 156}], 'edges': [{'id': '11589', 'source': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11590', 'source': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11591', 'source': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11592', 'source': 'start-06a83ae8', 'target': 'message-b69d9b69', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11593', 'source': 'message-b69d9b69', 'target': 'decision-135f3c2e', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11594', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'sourceHandle': 'output-85989e20-28c8-4194-a16e-36c5128b3c10', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11595', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'sourceHandle': 'output-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11596', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'sourceHandle': 'output-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11597', 'source': 'start-4b807eb0', 'target': 'message-f5df8c93', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11598', 'source': 'decision-92c1386b', 'target': 'option-decision-92c1386b-583a87d6-a588-4845-a40d-04969919fd85', 'sourceHandle': 'output-583a87d6-a588-4845-a40d-04969919fd85', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11599', 'source': 'decision-92c1386b', 'target': 'option-decision-92c1386b-945bcf38-c203-4912-9a62-6e62b8874d43', 'sourceHandle': 'output-945bcf38-c203-4912-9a62-6e62b8874d43', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11600', 'source': 'message-f5df8c93', 'target': 'decision-92c1386b', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 00:39:09,997 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=12, edges_count=12, name='N/A'
2025-08-04 00:39:10,685 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=12, edges_count=12, name='None'
2025-08-04 00:39:11,923 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'end-a3e615e8', 'label': 'Fin'}, 'id': 'end-a3e615e8', 'position': {'x': 588.1117989337396, 'y': -27.515908606245233}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'message-b69d9b69', 'label': 'Mensaje', 'lastUpdated': '2025-08-03T07:33:54.435Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-b69d9b69', 'position': {'x': 157.18803057338704, 'y': -778.5422865847025}, 'type': 'message', 'width': 226, 'height': 104}, {'data': {'conditions': [{'color': '#3498db', 'id': '85989e20-28c8-4194-a16e-36c5128b3c10', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-135f3c2e', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C\n'}, 'id': 'decision-135f3c2e', 'position': {'x': 120.4056732689676, 'y': -621.4484169973157}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 120.4056732689676, 'y': -621.4484169973157}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': '85989e20-28c8-4194-a16e-36c5128b3c10', 'instruction': 'A', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'A'}, 'id': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'position': {'x': -251.1659497991658, 'y': -375.1266355842132}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'instruction': 'B', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'B'}, 'id': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'position': {'x': 111.74065400935692, 'y': -208.07874083342384}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'instruction': 'C', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'C'}, 'id': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'position': {'x': 452.8114511576813, 'y': -365.28663933712994}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'message-f5df8c93', 'label': 'Mensaje'}, 'id': 'message-f5df8c93', 'position': {'x': 906.6708877713803, 'y': -878.5801467136913}, 'type': 'message', 'width': 212, 'height': 101}, {'data': {'color': '#3498db', 'conditionId': '583a87d6-a588-4845-a40d-04969919fd85', 'instruction': 'Opci√≥n A', 'sourceNode': 'decision-92c1386b', 'text': 'Opci√≥n A'}, 'id': 'option-decision-92c1386b-583a87d6-a588-4845-a40d-04969919fd85', 'position': {'x': 1018.2870875477596, 'y': -334.81036356684024}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1018.2870875477596, 'y': -334.81036356684024}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': '945bcf38-c203-4912-9a62-6e62b8874d43', 'instruction': 'Opci√≥n B', 'sourceNode': 'decision-92c1386b', 'text': 'Opci√≥n B'}, 'id': 'option-decision-92c1386b-945bcf38-c203-4912-9a62-6e62b8874d43', 'position': {'x': 1362.276470931667, 'y': -442.8421425607701}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1362.276470931667, 'y': -442.8421425607701}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': '583a87d6-a588-4845-a40d-04969919fd85', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': '945bcf38-c203-4912-9a62-6e62b8874d43', 'text': 'Opci√≥n B'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-92c1386b', 'label': 'Decisi√≥n'}, 'id': 'decision-92c1386b', 'position': {'x': 1248.6021220013681, 'y': -698.2893011844478}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': True, 'positionAbsolute': {'x': 1248.6021220013681, 'y': -698.2893011844478}, 'dragging': False}, {'data': {'id': 'start-4b807eb0', 'label': 'Inicio'}, 'id': 'start-4b807eb0', 'position': {'x': 652.2238259710585, 'y': -1045.1825459688828}, 'type': 'start', 'width': 229, 'height': 156}, {'data': {'id': 'start-06a83ae8', 'label': 'Inicio'}, 'id': 'start-06a83ae8', 'position': {'x': -100.53052856054839, 'y': -911.4341995430312}, 'type': 'start', 'width': 229, 'height': 156}], 'edges': [{'id': '11589', 'source': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11590', 'source': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11591', 'source': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11592', 'source': 'start-06a83ae8', 'target': 'message-b69d9b69', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11593', 'source': 'message-b69d9b69', 'target': 'decision-135f3c2e', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11594', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'sourceHandle': 'output-85989e20-28c8-4194-a16e-36c5128b3c10', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11595', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'sourceHandle': 'output-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11596', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'sourceHandle': 'output-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11597', 'source': 'start-4b807eb0', 'target': 'message-f5df8c93', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11598', 'source': 'decision-92c1386b', 'target': 'option-decision-92c1386b-583a87d6-a588-4845-a40d-04969919fd85', 'sourceHandle': 'output-583a87d6-a588-4845-a40d-04969919fd85', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11599', 'source': 'decision-92c1386b', 'target': 'option-decision-92c1386b-945bcf38-c203-4912-9a62-6e62b8874d43', 'sourceHandle': 'output-945bcf38-c203-4912-9a62-6e62b8874d43', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11600', 'source': 'message-f5df8c93', 'target': 'decision-92c1386b', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 00:39:11,924 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=12, edges_count=12, name='N/A'
2025-08-04 00:39:13,505 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=12, edges_count=12, name='None'
2025-08-04 00:39:14,136 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 00:39:14,136 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 00:39:14,310 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:39:14] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:39:14,987 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 00:39:14,987 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 00:39:15,158 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:39:15] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:41:26,240 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:41:26] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:41:26,757 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:41:27,434 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 00:41:27,612 - api.flow_api - INFO - DB query for edges returned 12 items.
2025-08-04 00:41:27,612 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:41:27,958 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:41:27] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:42:54,266 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:42:54] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:42:54,784 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:42:54,955 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:42:54] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:45:34,499 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:34] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:45:34,512 - app - WARNING - Authentication error: Signature has expired
2025-08-04 00:45:34,513 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:34] "[31m[1mGET /api/flow/256 HTTP/1.1[0m" 401 -
2025-08-04 00:45:34,521 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:34] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-04 00:45:34,522 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:34] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-04 00:45:34,525 - app - WARNING - Authentication error: Signature has expired
2025-08-04 00:45:34,525 - app - WARNING - Authentication error: Signature has expired
2025-08-04 00:45:34,526 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:34] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-04 00:45:34,526 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:34] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-04 00:45:34,542 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:34] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-04 00:45:34,546 - app - WARNING - Authentication error: Signature has expired
2025-08-04 00:45:34,547 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:34] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-04 00:45:37,238 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:37] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 00:45:38,351 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:38] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-04 00:45:38,926 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:45:39,097 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:45:39] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:46:35,140 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:46:35] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:46:35,659 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:46:36,338 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 00:46:36,510 - api.flow_api - INFO - DB query for edges returned 12 items.
2025-08-04 00:46:36,510 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:46:36,854 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:46:36] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:51:08,715 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:51:08] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:51:09,236 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:51:09,409 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:51:09] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:52:22,414 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:52:22] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:52:22,935 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:52:23,611 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 00:52:23,781 - api.flow_api - INFO - DB query for edges returned 12 items.
2025-08-04 00:52:23,782 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:52:24,129 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:52:24] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:53:13,663 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:53:13] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:53:14,194 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:53:14,365 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:53:14] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:54:54,072 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:54:54] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:54:54,596 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:54:54,769 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:54:54] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:54:59,426 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:54:59] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:54:59,947 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'end-a3e615e8', 'label': 'Fin'}, 'id': 'end-a3e615e8', 'position': {'x': 588.1117989337396, 'y': -27.515908606245233}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'message-b69d9b69', 'label': 'Mensaje', 'lastUpdated': '2025-08-03T07:33:54.435Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-b69d9b69', 'position': {'x': 157.18803057338704, 'y': -778.5422865847025}, 'type': 'message', 'width': 226, 'height': 104}, {'data': {'conditions': [{'color': '#3498db', 'id': '85989e20-28c8-4194-a16e-36c5128b3c10', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-135f3c2e', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C\n'}, 'id': 'decision-135f3c2e', 'position': {'x': 120.4056732689676, 'y': -621.4484169973157}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': '85989e20-28c8-4194-a16e-36c5128b3c10', 'instruction': 'A', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'A'}, 'id': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'position': {'x': -251.1659497991658, 'y': -375.1266355842132}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'instruction': 'B', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'B'}, 'id': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'position': {'x': 111.74065400935692, 'y': -208.07874083342384}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'instruction': 'C', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'C'}, 'id': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'position': {'x': 452.8114511576813, 'y': -365.28663933712994}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'start-06a83ae8', 'label': 'Inicio'}, 'id': 'start-06a83ae8', 'position': {'x': -100.53052856054839, 'y': -911.4341995430312}, 'type': 'start', 'width': 229, 'height': 142}], 'edges': [{'id': '11601', 'source': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11602', 'source': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11603', 'source': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11604', 'source': 'start-06a83ae8', 'target': 'message-b69d9b69', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11605', 'source': 'message-b69d9b69', 'target': 'decision-135f3c2e', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11606', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'sourceHandle': 'output-85989e20-28c8-4194-a16e-36c5128b3c10', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11607', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'sourceHandle': 'output-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11608', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'sourceHandle': 'output-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 00:54:59,948 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 00:55:00,638 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 00:55:06,989 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 00:55:06,990 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 00:55:07,161 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:55:07] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:55:25,541 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:55:25] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:55:26,055 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:55:26,576 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 00:55:26,756 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 00:55:26,756 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:55:27,097 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:55:27] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:56:09,697 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:56:09] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:56:10,221 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:56:10,392 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:56:10] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:56:31,532 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:56:31] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:56:32,049 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'end-a3e615e8', 'label': 'Fin'}, 'id': 'end-a3e615e8', 'position': {'x': 783.042899575672, 'y': 231.44365575019043}, 'type': 'end', 'width': 304, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 783.042899575672, 'y': 231.44365575019043}, 'dragging': False}, {'data': {'id': 'message-b69d9b69', 'label': 'Mensaje', 'lastUpdated': '2025-08-03T07:33:54.435Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-b69d9b69', 'position': {'x': 157.18803057338704, 'y': -778.5422865847025}, 'type': 'message', 'width': 226, 'height': 104}, {'data': {'conditions': [{'color': '#3498db', 'id': '85989e20-28c8-4194-a16e-36c5128b3c10', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-135f3c2e', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C\n'}, 'id': 'decision-135f3c2e', 'position': {'x': 120.4056732689676, 'y': -621.4484169973157}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': '85989e20-28c8-4194-a16e-36c5128b3c10', 'instruction': 'A', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'A'}, 'id': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'position': {'x': -251.1659497991658, 'y': -375.1266355842132}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'instruction': 'B', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'B'}, 'id': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'position': {'x': 111.74065400935692, 'y': -208.07874083342384}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'instruction': 'C', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'C'}, 'id': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'position': {'x': 452.8114511576813, 'y': -365.28663933712994}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'start-06a83ae8', 'label': 'Inicio'}, 'id': 'start-06a83ae8', 'position': {'x': -100.53052856054839, 'y': -911.4341995430312}, 'type': 'start', 'width': 229, 'height': 142}, {'id': 'start-62202743', 'type': 'start', 'position': {'x': 580.8553436729337, 'y': -951.2741325209445}, 'data': {'id': 'start-62202743', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 142}, {'id': 'message-9d9d6c8c', 'type': 'message', 'position': {'x': 859.7348745183259, 'y': -779.1087078663911}, 'data': {'id': 'message-9d9d6c8c', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 859.7348745183259, 'y': -779.1087078663911}, 'dragging': False}, {'id': 'decision-b38e1509', 'type': 'decision', 'position': {'x': 1014.8260421823451, 'y': -709.3888251550432}, 'data': {'id': 'decision-b38e1509', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': '4561e90e-7600-4513-99d8-c8aced8229c3', 'text': 'Opci√≥n B', 'color': '#e74c3c'}, {'id': 'condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1014.8260421823451, 'y': -709.3888251550432}, 'dragging': False}, {'id': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'type': 'option', 'position': {'x': 669.4947739851957, 'y': -130.90946186486786}, 'data': {'sourceNode': 'decision-b38e1509', 'conditionId': '8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db', 'lastUpdated': '2025-08-04T03:56:18.046Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 669.4947739851957, 'y': -130.90946186486786}, 'dragging': False}, {'id': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'type': 'option', 'position': {'x': 1031.9002991728794, 'y': -179.2865233380482}, 'data': {'sourceNode': 'decision-b38e1509', 'conditionId': '4561e90e-7600-4513-99d8-c8aced8229c3', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c', 'lastUpdated': '2025-08-04T03:56:18.046Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1031.9002991728794, 'y': -179.2865233380482}, 'dragging': False}, {'id': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'type': 'option', 'position': {'x': 1436.9914668368986, 'y': -166.4808305951475}, 'data': {'sourceNode': 'decision-b38e1509', 'conditionId': 'condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-04T03:56:18.046Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': True, 'positionAbsolute': {'x': 1436.9914668368986, 'y': -166.4808305951475}, 'dragging': False}], 'edges': [{'id': '11613', 'source': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11614', 'source': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11615', 'source': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11616', 'source': 'start-06a83ae8', 'target': 'message-b69d9b69', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11617', 'source': 'message-b69d9b69', 'target': 'decision-135f3c2e', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11618', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'sourceHandle': 'output-85989e20-28c8-4194-a16e-36c5128b3c10', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11619', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'sourceHandle': 'output-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11620', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'sourceHandle': 'output-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-start-62202743output-message-9d9d6c8cinput', 'source': 'start-62202743', 'target': 'message-9d9d6c8c', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-message-9d9d6c8cdefault-decision-b38e1509input', 'source': 'message-9d9d6c8c', 'target': 'decision-b38e1509', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'edge-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'sourceHandle': 'output-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'sourceHandle': 'output-4561e90e-7600-4513-99d8-c8aced8229c3', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'sourceHandle': 'output-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53source-end-a3e615e8input', 'source': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3source-end-a3e615e8input', 'source': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601source-end-a3e615e8input', 'source': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-04 00:56:32,051 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=13, edges_count=16, name='N/A'
2025-08-04 00:56:32,741 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=13, edges_count=16, name='None'
2025-08-04 00:56:36,029 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 00:56:36,029 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 00:56:36,200 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:56:36] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:56:36,785 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 00:56:37,462 - api.flow_api - INFO - DB query for flows returned 13 items.
2025-08-04 00:56:37,635 - api.flow_api - INFO - DB query for edges returned 16 items.
2025-08-04 00:56:37,635 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 00:56:37,978 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:56:37] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:57:40,164 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:57:40] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:57:40,678 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:57:40,849 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:57:40] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:59:28,615 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:59:28] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 00:59:29,139 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 00:59:29,312 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 00:59:29] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:00:22,985 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:00:22] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:00:23,495 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:00:23,665 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:00:23] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:02:15,559 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:02:15] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:02:16,090 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:02:16,770 - api.flow_api - INFO - DB query for flows returned 13 items.
2025-08-04 01:02:16,944 - api.flow_api - INFO - DB query for edges returned 16 items.
2025-08-04 01:02:16,944 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:02:17,287 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:02:17] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:03:09,936 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:03:09] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:03:10,449 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:03:10,619 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:03:10] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:04:47,736 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:04:47] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:04:48,268 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:04:48,451 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:04:48] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:05:14,115 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:05:14] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:05:14,635 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:05:14,805 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:05:14] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:09:06,970 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:09:06] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:09:07,486 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:09:08,163 - api.flow_api - INFO - DB query for flows returned 13 items.
2025-08-04 01:09:08,335 - api.flow_api - INFO - DB query for edges returned 16 items.
2025-08-04 01:09:08,335 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:09:08,677 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:09:08] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:12:09,647 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:12:09] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:12:10,165 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:12:10,343 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:12:10] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:12:23,990 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:12:23] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:12:24,502 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:12:24,671 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:12:24] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:12:45,019 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:12:45] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:12:45,537 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:12:45,707 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:12:45] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:17:01,187 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:01] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 01:17:03,438 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:03] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 01:17:04,999 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:04] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 01:17:16,170 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:16] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 01:17:17,333 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:17] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-04 01:17:41,599 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:41] "OPTIONS /api/plubots/create HTTP/1.1" 200 -
2025-08-04 01:17:43,433 - services.grok_service - INFO - Successfully connected to Redis for caching.
2025-08-04 01:17:48,854 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:48] "POST /api/plubots/create HTTP/1.1" 200 -
2025-08-04 01:17:48,873 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:48] "OPTIONS /api/auth/profile HTTP/1.1" 200 -
2025-08-04 01:17:50,242 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:50] "GET /api/auth/profile HTTP/1.1" 200 -
2025-08-04 01:17:51,574 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:51] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:17:51,577 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:51] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:17:52,099 - api.flow_api - INFO - Cache miss for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:17:52,614 - api.flow_api - INFO - DB query for flows returned 0 items.
2025-08-04 01:17:52,795 - api.flow_api - INFO - DB query for edges returned 0 items.
2025-08-04 01:17:52,796 - api.flow_api - INFO - Flow data for plubot 258 stored in cache with key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:17:53,135 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:53] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:17:53,651 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:17:53,820 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:17:53] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:18:02,559 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:18:02] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:18:02,560 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:18:02] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:18:03,088 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:18:03,256 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:18:03] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:18:03,767 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:18:03,935 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:18:03] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:19:01,523 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:19:01] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:19:02,043 - api.flow_api - INFO - [PATCH /api/flow/258] Received raw data: {'plubotId': '258', 'flowName': 'Vida ', 'nodes': [{'id': 'start-4b79349d', 'type': 'start', 'position': {'x': 663.4101359232902, 'y': -142.06081502710657}, 'data': {'id': 'start-4b79349d', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 663.4101359232902, 'y': -142.06081502710657}, 'dragging': False}, {'id': 'message-81f6d1fa', 'type': 'message', 'position': {'x': 965.0649640302821, 'y': 28.345798749403855}, 'data': {'id': 'message-81f6d1fa', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 965.0649640302821, 'y': 28.345798749403855}, 'dragging': False}, {'id': 'decision-da32b34a', 'type': 'decision', 'position': {'x': 895.8876822021768, 'y': 236.13300124227487}, 'data': {'id': 'decision-da32b34a', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '2c4b9252-b045-487c-b45f-3ff90ba915f6', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': 'f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'text': 'Opci√≥n B', 'color': '#e74c3c'}, {'id': 'condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 895.8876822021768, 'y': 236.13300124227487}, 'dragging': False}, {'id': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'type': 'option', 'position': {'x': 450.133548591858, 'y': 505.4237750741823}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': '2c4b9252-b045-487c-b45f-3ff90ba915f6', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 450.133548591858, 'y': 505.4237750741823}, 'dragging': False}, {'id': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'type': 'option', 'position': {'x': 864.0200565880559, 'y': 527.8540659700418}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': 'f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 864.0200565880559, 'y': 527.8540659700418}, 'dragging': False}, {'id': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'type': 'option', 'position': {'x': 1235.3108304199634, 'y': 465.36233319067986}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': 'condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1235.3108304199634, 'y': 465.36233319067986}, 'dragging': False}, {'id': 'end-aa07dc03', 'type': 'end', 'position': {'x': 1631.3530933543768, 'y': 1137.2108787113827}, 'data': {'id': 'end-aa07dc03', 'label': 'Fin'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 304, 'height': 132, 'selected': True, 'positionAbsolute': {'x': 1631.3530933543768, 'y': 1137.2108787113827}, 'dragging': False}, {'id': 'start-c246ef56', 'type': 'start', 'position': {'x': 1473.674136725536, 'y': 10.467614465679588}, 'data': {'id': 'start-c246ef56', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 1473.674136725536, 'y': 10.467614465679588}, 'dragging': False}, {'id': 'message-5d4f0050', 'type': 'message', 'position': {'x': 1728.0097191439995, 'y': 165.55028667205966}, 'data': {'id': 'message-5d4f0050', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 1728.0097191439995, 'y': 165.55028667205966}, 'dragging': False}, {'id': 'decision-a73a8920', 'type': 'decision', 'position': {'x': 1672.1799571497027, 'y': 350.09866659765197}, 'data': {'id': 'decision-a73a8920', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': '6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'text': 'Opci√≥n B', 'color': '#e74c3c'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1672.1799571497027, 'y': 350.09866659765197}, 'dragging': False}, {'id': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'type': 'option', 'position': {'x': 1610.1468882671504, 'y': 719.9425162367534}, 'data': {'sourceNode': 'decision-a73a8920', 'conditionId': '1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db'}, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1610.1468882671504, 'y': 719.9425162367534}, 'dragging': False}, {'id': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'type': 'option', 'position': {'x': 1921.8630594019744, 'y': 654.1648043627561}, 'data': {'sourceNode': 'decision-a73a8920', 'conditionId': '6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c'}, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1921.8630594019744, 'y': 654.1648043627561}, 'dragging': False}], 'edges': [{'id': 'reactflow__edge-start-4b79349doutput-message-81f6d1fainput', 'source': 'start-4b79349d', 'target': 'message-81f6d1fa', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-message-81f6d1fadefault-decision-da32b34ainput', 'source': 'message-81f6d1fa', 'target': 'decision-da32b34a', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'edge-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'sourceHandle': 'output-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'sourceHandle': 'output-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'sourceHandle': 'output-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154source-end-aa07dc03input', 'source': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'reactflow__edge-option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6source-end-aa07dc03input', 'source': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'reactflow__edge-option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfasource-end-aa07dc03input', 'source': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'edge-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'source': 'decision-a73a8920', 'target': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'sourceHandle': 'output-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'source': 'decision-a73a8920', 'target': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'sourceHandle': 'output-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'reactflow__edge-message-5d4f0050default-decision-a73a8920input', 'source': 'message-5d4f0050', 'target': 'decision-a73a8920', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'reactflow__edge-start-c246ef56output-message-5d4f0050input', 'source': 'start-c246ef56', 'target': 'message-5d4f0050', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6source-end-aa07dc03input', 'source': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3source-end-aa07dc03input', 'source': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-04 01:19:02,044 - api.flow_api - INFO - [PATCH /api/flow/258] Extracted: nodes_count=12, edges_count=14, name='N/A'
2025-08-04 01:19:02,728 - api.flow_api - INFO - [update_full_flow - plubot_id=258] Starting update. Received: nodes_count=12, edges_count=14, name='None'
2025-08-04 01:19:05,466 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 258
2025-08-04 01:19:05,466 - api.flow_api - INFO - Flujo actualizado para plubot 258 por usuario 76
2025-08-04 01:19:05,636 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:19:05] "PATCH /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:20:12,408 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:20:12] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:20:12,922 - api.flow_api - INFO - [PATCH /api/flow/258] Received raw data: {'plubotId': '258', 'flowName': 'Vida ', 'nodes': [{'id': 'start-4b79349d', 'type': 'start', 'position': {'x': 562.6063989891431, 'y': -166.8740425801274}, 'data': {'id': 'start-4b79349d', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 157, 'selected': False, 'positionAbsolute': {'x': 562.6063989891431, 'y': -166.8740425801274}, 'dragging': False}, {'id': 'message-81f6d1fa', 'type': 'message', 'position': {'x': 898.3794149815386, 'y': 28.345798749403855}, 'data': {'id': 'message-81f6d1fa', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 898.3794149815386, 'y': 28.345798749403855}, 'dragging': False}, {'id': 'decision-da32b34a', 'type': 'decision', 'position': {'x': 874.1761080932836, 'y': 233.03134779814724}, 'data': {'id': 'decision-da32b34a', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '2c4b9252-b045-487c-b45f-3ff90ba915f6', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': 'f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'text': 'Opci√≥n B', 'color': '#e74c3c'}, {'id': 'condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 874.1761080932836, 'y': 233.03134779814724}, 'dragging': False}, {'id': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'type': 'option', 'position': {'x': 512.16661747441, 'y': 474.4072406329063}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': '2c4b9252-b045-487c-b45f-3ff90ba915f6', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 512.16661747441, 'y': 474.4072406329063}, 'dragging': False}, {'id': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'type': 'option', 'position': {'x': 864.020056588056, 'y': 614.7003624056147}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': 'f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 864.020056588056, 'y': 614.7003624056147}, 'dragging': False}, {'id': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'type': 'option', 'position': {'x': 1263.2257114171118, 'y': 459.1590263024246}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': 'condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1263.2257114171118, 'y': 459.1590263024246}, 'dragging': False}, {'id': 'end-aa07dc03', 'type': 'end', 'position': {'x': 1713.5469096237584, 'y': 1138.7617054334464}, 'data': {'id': 'end-aa07dc03', 'label': 'Fin'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 304, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1713.5469096237584, 'y': 1138.7617054334464}, 'dragging': False}, {'id': 'start-c246ef56', 'type': 'start', 'position': {'x': 1501.5890177226845, 'y': -211.30060678944392}, 'data': {'id': 'start-c246ef56', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 157, 'selected': False, 'positionAbsolute': {'x': 1501.5890177226845, 'y': -211.30060678944392}, 'dragging': False}, {'id': 'message-5d4f0050', 'type': 'message', 'position': {'x': 1842.7708965767208, 'y': 120.57631173220943}, 'data': {'id': 'message-5d4f0050', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 1842.7708965767208, 'y': 120.57631173220943}, 'dragging': False}, {'id': 'decision-a73a8920', 'type': 'decision', 'position': {'x': 1827.262629356083, 'y': 346.9970131535244}, 'data': {'id': 'decision-a73a8920', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': '6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'text': 'Opci√≥n B', 'color': '#e74c3c'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': True, 'positionAbsolute': {'x': 1827.262629356083, 'y': 346.9970131535244}, 'dragging': False}, {'id': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'type': 'option', 'position': {'x': 1610.1468882671504, 'y': 719.9425162367534}, 'data': {'sourceNode': 'decision-a73a8920', 'conditionId': '1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db'}, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1610.1468882671504, 'y': 719.9425162367534}, 'dragging': False}, {'id': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'type': 'option', 'position': {'x': 1921.8630594019744, 'y': 654.1648043627561}, 'data': {'sourceNode': 'decision-a73a8920', 'conditionId': '6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c'}, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1921.8630594019744, 'y': 654.1648043627561}, 'dragging': False}], 'edges': [{'id': 'reactflow__edge-start-4b79349doutput-message-81f6d1fainput', 'source': 'start-4b79349d', 'target': 'message-81f6d1fa', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-message-81f6d1fadefault-decision-da32b34ainput', 'source': 'message-81f6d1fa', 'target': 'decision-da32b34a', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'edge-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'sourceHandle': 'output-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'sourceHandle': 'output-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'sourceHandle': 'output-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154source-end-aa07dc03input', 'source': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'reactflow__edge-option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6source-end-aa07dc03input', 'source': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'reactflow__edge-option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfasource-end-aa07dc03input', 'source': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'edge-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'source': 'decision-a73a8920', 'target': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'sourceHandle': 'output-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'source': 'decision-a73a8920', 'target': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'sourceHandle': 'output-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'reactflow__edge-message-5d4f0050default-decision-a73a8920input', 'source': 'message-5d4f0050', 'target': 'decision-a73a8920', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'reactflow__edge-start-c246ef56output-message-5d4f0050input', 'source': 'start-c246ef56', 'target': 'message-5d4f0050', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6source-end-aa07dc03input', 'source': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3source-end-aa07dc03input', 'source': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-04 01:20:12,923 - api.flow_api - INFO - [PATCH /api/flow/258] Extracted: nodes_count=12, edges_count=14, name='N/A'
2025-08-04 01:20:13,618 - api.flow_api - INFO - [update_full_flow - plubot_id=258] Starting update. Received: nodes_count=12, edges_count=14, name='None'
2025-08-04 01:20:13,928 - api.flow_api - INFO - [PATCH /api/flow/258] Received raw data: {'plubotId': '258', 'flowName': 'Vida ', 'nodes': [{'id': 'start-4b79349d', 'type': 'start', 'position': {'x': 562.6063989891431, 'y': -166.8740425801274}, 'data': {'id': 'start-4b79349d', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 157, 'selected': False, 'positionAbsolute': {'x': 562.6063989891431, 'y': -166.8740425801274}, 'dragging': False}, {'id': 'message-81f6d1fa', 'type': 'message', 'position': {'x': 898.3794149815386, 'y': 28.345798749403855}, 'data': {'id': 'message-81f6d1fa', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 898.3794149815386, 'y': 28.345798749403855}, 'dragging': False}, {'id': 'decision-da32b34a', 'type': 'decision', 'position': {'x': 874.1761080932836, 'y': 233.03134779814724}, 'data': {'id': 'decision-da32b34a', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '2c4b9252-b045-487c-b45f-3ff90ba915f6', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': 'f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'text': 'Opci√≥n B', 'color': '#e74c3c'}, {'id': 'condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 874.1761080932836, 'y': 233.03134779814724}, 'dragging': False}, {'id': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'type': 'option', 'position': {'x': 512.16661747441, 'y': 474.4072406329063}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': '2c4b9252-b045-487c-b45f-3ff90ba915f6', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 512.16661747441, 'y': 474.4072406329063}, 'dragging': False}, {'id': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'type': 'option', 'position': {'x': 864.020056588056, 'y': 614.7003624056147}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': 'f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 864.020056588056, 'y': 614.7003624056147}, 'dragging': False}, {'id': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'type': 'option', 'position': {'x': 1263.2257114171118, 'y': 459.1590263024246}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': 'condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1263.2257114171118, 'y': 459.1590263024246}, 'dragging': False}, {'id': 'end-aa07dc03', 'type': 'end', 'position': {'x': 1713.5469096237584, 'y': 1138.7617054334464}, 'data': {'id': 'end-aa07dc03', 'label': 'Fin'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 304, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1713.5469096237584, 'y': 1138.7617054334464}, 'dragging': False}, {'id': 'start-c246ef56', 'type': 'start', 'position': {'x': 1501.5890177226845, 'y': -211.30060678944392}, 'data': {'id': 'start-c246ef56', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 157, 'selected': False, 'positionAbsolute': {'x': 1501.5890177226845, 'y': -211.30060678944392}, 'dragging': False}, {'id': 'message-5d4f0050', 'type': 'message', 'position': {'x': 1842.7708965767208, 'y': 120.57631173220943}, 'data': {'id': 'message-5d4f0050', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 1842.7708965767208, 'y': 120.57631173220943}, 'dragging': False}, {'id': 'decision-a73a8920', 'type': 'decision', 'position': {'x': 1827.262629356083, 'y': 346.9970131535244}, 'data': {'id': 'decision-a73a8920', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': '6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'text': 'Opci√≥n B', 'color': '#e74c3c'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': True, 'positionAbsolute': {'x': 1827.262629356083, 'y': 346.9970131535244}, 'dragging': False}, {'id': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'type': 'option', 'position': {'x': 1610.1468882671504, 'y': 719.9425162367534}, 'data': {'sourceNode': 'decision-a73a8920', 'conditionId': '1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db'}, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1610.1468882671504, 'y': 719.9425162367534}, 'dragging': False}, {'id': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'type': 'option', 'position': {'x': 1921.8630594019744, 'y': 654.1648043627561}, 'data': {'sourceNode': 'decision-a73a8920', 'conditionId': '6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c'}, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1921.8630594019744, 'y': 654.1648043627561}, 'dragging': False}], 'edges': [{'id': 'reactflow__edge-start-4b79349doutput-message-81f6d1fainput', 'source': 'start-4b79349d', 'target': 'message-81f6d1fa', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-message-81f6d1fadefault-decision-da32b34ainput', 'source': 'message-81f6d1fa', 'target': 'decision-da32b34a', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'edge-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'sourceHandle': 'output-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'sourceHandle': 'output-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'sourceHandle': 'output-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154source-end-aa07dc03input', 'source': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'reactflow__edge-option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6source-end-aa07dc03input', 'source': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'reactflow__edge-option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfasource-end-aa07dc03input', 'source': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'edge-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'source': 'decision-a73a8920', 'target': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'sourceHandle': 'output-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'source': 'decision-a73a8920', 'target': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'sourceHandle': 'output-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'reactflow__edge-message-5d4f0050default-decision-a73a8920input', 'source': 'message-5d4f0050', 'target': 'decision-a73a8920', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'reactflow__edge-start-c246ef56output-message-5d4f0050input', 'source': 'start-c246ef56', 'target': 'message-5d4f0050', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6source-end-aa07dc03input', 'source': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3source-end-aa07dc03input', 'source': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-04 01:20:13,930 - api.flow_api - INFO - [PATCH /api/flow/258] Extracted: nodes_count=12, edges_count=14, name='N/A'
2025-08-04 01:20:14,619 - api.flow_api - INFO - [update_full_flow - plubot_id=258] Starting update. Received: nodes_count=12, edges_count=14, name='None'
2025-08-04 01:20:15,883 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 258
2025-08-04 01:20:15,883 - api.flow_api - INFO - Flujo actualizado para plubot 258 por usuario 76
2025-08-04 01:20:16,054 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:20:16] "PATCH /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:20:17,751 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 258
2025-08-04 01:20:17,751 - api.flow_api - INFO - Flujo actualizado para plubot 258 por usuario 76
2025-08-04 01:20:17,920 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:20:17] "PATCH /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:20:24,197 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:20:24] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:20:24,711 - api.flow_api - INFO - [PATCH /api/flow/258] Received raw data: {'plubotId': '258', 'flowName': 'Vida ', 'nodes': [{'id': 'start-4b79349d', 'type': 'start', 'position': {'x': 562.6063989891431, 'y': -166.8740425801274}, 'data': {'id': 'start-4b79349d', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 157, 'selected': False, 'positionAbsolute': {'x': 562.6063989891431, 'y': -166.8740425801274}, 'dragging': False}, {'id': 'message-81f6d1fa', 'type': 'message', 'position': {'x': 898.3794149815386, 'y': 28.345798749403855}, 'data': {'id': 'message-81f6d1fa', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 898.3794149815386, 'y': 28.345798749403855}, 'dragging': False}, {'id': 'decision-da32b34a', 'type': 'decision', 'position': {'x': 874.1761080932836, 'y': 233.03134779814724}, 'data': {'id': 'decision-da32b34a', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '2c4b9252-b045-487c-b45f-3ff90ba915f6', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': 'f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'text': 'Opci√≥n B', 'color': '#e74c3c'}, {'id': 'condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 874.1761080932836, 'y': 233.03134779814724}, 'dragging': False}, {'id': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'type': 'option', 'position': {'x': 512.16661747441, 'y': 474.4072406329063}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': '2c4b9252-b045-487c-b45f-3ff90ba915f6', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 512.16661747441, 'y': 474.4072406329063}, 'dragging': False}, {'id': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'type': 'option', 'position': {'x': 864.020056588056, 'y': 614.7003624056147}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': 'f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 864.020056588056, 'y': 614.7003624056147}, 'dragging': False}, {'id': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'type': 'option', 'position': {'x': 1263.2257114171118, 'y': 459.1590263024246}, 'data': {'sourceNode': 'decision-da32b34a', 'conditionId': 'condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-04T04:18:11.943Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1263.2257114171118, 'y': 459.1590263024246}, 'dragging': False}, {'id': 'end-aa07dc03', 'type': 'end', 'position': {'x': 1713.5469096237584, 'y': 1138.7617054334464}, 'data': {'id': 'end-aa07dc03', 'label': 'Fin'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 304, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1713.5469096237584, 'y': 1138.7617054334464}, 'dragging': False}, {'id': 'start-c246ef56', 'type': 'start', 'position': {'x': 1551.215472828726, 'y': -43.811320806553425}, 'data': {'id': 'start-c246ef56', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 231, 'height': 159, 'selected': True, 'positionAbsolute': {'x': 1551.215472828726, 'y': -43.811320806553425}, 'dragging': False}, {'id': 'message-5d4f0050', 'type': 'message', 'position': {'x': 1847.423376742912, 'y': 36.83166874076423}, 'data': {'id': 'message-5d4f0050', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 1847.423376742912, 'y': 36.83166874076423}, 'dragging': False}, {'id': 'decision-a73a8920', 'type': 'decision', 'position': {'x': 1811.754362135445, 'y': 289.61642443716374}, 'data': {'id': 'decision-a73a8920', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': '6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'text': 'Opci√≥n B', 'color': '#e74c3c'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1811.754362135445, 'y': 289.61642443716374}, 'dragging': False}, {'id': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'type': 'option', 'position': {'x': 1653.570036484937, 'y': 571.0631509186285}, 'data': {'sourceNode': 'decision-a73a8920', 'conditionId': '1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db'}, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1653.570036484937, 'y': 571.0631509186285}, 'dragging': False}, {'id': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'type': 'option', 'position': {'x': 2035.073410112632, 'y': 513.0395726549502}, 'data': {'sourceNode': 'decision-a73a8920', 'conditionId': '6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c'}, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 2035.073410112632, 'y': 513.0395726549502}, 'dragging': False}], 'edges': [{'id': 'reactflow__edge-start-4b79349doutput-message-81f6d1fainput', 'source': 'start-4b79349d', 'target': 'message-81f6d1fa', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-message-81f6d1fadefault-decision-da32b34ainput', 'source': 'message-81f6d1fa', 'target': 'decision-da32b34a', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'edge-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'sourceHandle': 'output-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'sourceHandle': 'output-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'source': 'decision-da32b34a', 'target': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'sourceHandle': 'output-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154source-end-aa07dc03input', 'source': 'option-decision-da32b34a-f5e8fa0d-0637-4fe4-be13-5f3ba3bfe154', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'reactflow__edge-option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6source-end-aa07dc03input', 'source': 'option-decision-da32b34a-2c4b9252-b045-487c-b45f-3ff90ba915f6', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'reactflow__edge-option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfasource-end-aa07dc03input', 'source': 'option-decision-da32b34a-condition-aa64140a-7457-42f8-a9b6-025fb2bcfcfa', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge'}, {'id': 'edge-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'source': 'decision-a73a8920', 'target': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'sourceHandle': 'output-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'source': 'decision-a73a8920', 'target': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'sourceHandle': 'output-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'reactflow__edge-message-5d4f0050default-decision-a73a8920input', 'source': 'message-5d4f0050', 'target': 'decision-a73a8920', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'reactflow__edge-start-c246ef56output-message-5d4f0050input', 'source': 'start-c246ef56', 'target': 'message-5d4f0050', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6source-end-aa07dc03input', 'source': 'option-decision-a73a8920-1b9a66c8-f430-42e7-aa70-611afd91b0d6', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3source-end-aa07dc03input', 'source': 'option-decision-a73a8920-6c49c0d5-97ce-444e-89da-ff104a50a8d3', 'target': 'end-aa07dc03', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-04 01:20:24,712 - api.flow_api - INFO - [PATCH /api/flow/258] Extracted: nodes_count=12, edges_count=14, name='N/A'
2025-08-04 01:20:25,399 - api.flow_api - INFO - [update_full_flow - plubot_id=258] Starting update. Received: nodes_count=12, edges_count=14, name='None'
2025-08-04 01:20:26,782 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 258
2025-08-04 01:20:26,782 - api.flow_api - INFO - Flujo actualizado para plubot 258 por usuario 76
2025-08-04 01:20:26,952 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:20:26] "PATCH /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:21:58,753 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:21:58] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:21:58,754 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:21:58] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:21:58,841 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:21:58] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:21:59,295 - api.flow_api - INFO - Cache miss for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:21:59,363 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:22:00,043 - api.flow_api - INFO - DB query for flows returned 13 items.
2025-08-04 01:22:00,051 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 01:22:00,217 - api.flow_api - INFO - DB query for edges returned 16 items.
2025-08-04 01:22:00,218 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:22:00,222 - api.flow_api - INFO - DB query for edges returned 14 items.
2025-08-04 01:22:00,222 - api.flow_api - INFO - Flow data for plubot 258 stored in cache with key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:22:00,562 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:22:00] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:22:00,563 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:22:00] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:22:01,098 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:22:01,269 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:22:01] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:25:01,001 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:25:01] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:25:01,002 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:25:01] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:25:01,570 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:25:01,746 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:25:01] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:25:02,262 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:25:02,432 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:25:02] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:27:08,296 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:27:08] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:27:08,299 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:27:08] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:27:08,835 - api.flow_api - INFO - Cache miss for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:27:09,519 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 01:27:09,697 - api.flow_api - INFO - DB query for edges returned 14 items.
2025-08-04 01:27:09,698 - api.flow_api - INFO - Flow data for plubot 258 stored in cache with key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:27:10,048 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:27:10] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:27:10,566 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:27:10,743 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:27:10] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:31:40,708 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:31:40] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:31:40,711 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:31:40] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:31:41,237 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:31:41,407 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:31:41] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:31:41,925 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:31:42,096 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:31:42] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:32:04,445 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:32:04] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:32:04,446 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:32:04] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:32:04,964 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:32:05,135 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:32:05] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:32:05,656 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:32:05,827 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:32:05] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:33:53,393 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:33:53] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:33:53,395 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:33:53] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:33:53,949 - api.flow_api - INFO - Cache miss for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:33:54,616 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 01:33:54,787 - api.flow_api - INFO - DB query for edges returned 14 items.
2025-08-04 01:33:54,787 - api.flow_api - INFO - Flow data for plubot 258 stored in cache with key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:33:55,126 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:33:55] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:33:55,654 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:33:55,826 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:33:55] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:34:23,231 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:23] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:34:23,255 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:23] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:34:23,285 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:23] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:34:23,812 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:34:23,822 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:34:23,983 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:23] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:34:24,498 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:34:24,506 - api.flow_api - INFO - DB query for flows returned 13 items.
2025-08-04 01:34:24,668 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:24] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:34:24,680 - api.flow_api - INFO - DB query for edges returned 16 items.
2025-08-04 01:34:24,680 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:34:25,030 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:25] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:34:28,035 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:34:28,205 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:28] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:34:28,782 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:34:28,954 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:28] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:34:35,844 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:35] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:34:35,845 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:35] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:34:36,360 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:34:36,531 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:36] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:34:37,051 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:34:37,224 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:34:37] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:37:09,864 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:37:09] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:37:10,055 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:37:10] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:37:10,057 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:37:10] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:37:10,381 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:37:10,552 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:37:10] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:37:10,579 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:37:10,752 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:37:10] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:37:11,280 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:37:11,452 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:37:11] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:37:20,412 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:37:20] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:37:20,413 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:37:20] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:37:20,938 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:37:21,110 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:37:21] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:37:21,634 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:37:21,806 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:37:21] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:00,284 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:00] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:00,288 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:00] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:00,827 - api.flow_api - INFO - Cache miss for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:39:01,496 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 01:39:01,667 - api.flow_api - INFO - DB query for edges returned 14 items.
2025-08-04 01:39:01,668 - api.flow_api - INFO - Flow data for plubot 258 stored in cache with key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:39:02,007 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:02] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:02,525 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:39:02,696 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:02] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:28,606 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:28] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:39:28,799 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:28] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:28,804 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:28] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:29,127 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:39:29,321 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:39:29,492 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:29] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:29,810 - api.flow_api - INFO - DB query for flows returned 13 items.
2025-08-04 01:39:29,984 - api.flow_api - INFO - DB query for edges returned 16 items.
2025-08-04 01:39:29,984 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:39:30,008 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:39:30,178 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:30] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:30,333 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:30] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:39:42,714 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:42] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:42,715 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:42] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:43,238 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:39:43,410 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:43] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:43,927 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:39:44,099 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:44] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:39:55,887 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:55] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:39:56,404 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:39:56,577 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:39:56] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:40:53,661 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:40:53] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:40:54,177 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:40:54,348 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:40:54] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:41:24,453 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:41:24] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:41:24,973 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:41:25,147 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:41:25] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:41:47,862 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:41:47] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:41:48,379 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:41:48,551 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:41:48] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:42:29,662 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:42:29] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:42:29,662 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:42:29] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:42:30,183 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:42:30,355 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:42:30] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:42:30,872 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:42:31,044 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:42:31] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 01:43:48,591 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:43:48] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:43:49,109 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:43:49,280 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:43:49] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:46:57,989 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:46:57] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:46:57,994 - app - WARNING - Authentication error: Signature has expired
2025-08-04 01:46:57,994 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:46:57] "[31m[1mGET /api/flow/256 HTTP/1.1[0m" 401 -
2025-08-04 01:46:58,005 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:46:58] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-04 01:46:58,006 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:46:58] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-04 01:46:58,010 - app - WARNING - Authentication error: Signature has expired
2025-08-04 01:46:58,011 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:46:58] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-04 01:46:58,012 - app - WARNING - Authentication error: Signature has expired
2025-08-04 01:46:58,012 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:46:58] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-04 01:46:58,021 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:46:58] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-04 01:46:58,024 - app - WARNING - Authentication error: Signature has expired
2025-08-04 01:46:58,024 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:46:58] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-04 01:46:59,971 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:46:59] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 01:47:01,091 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:47:01] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-04 01:47:01,679 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:47:02,365 - api.flow_api - INFO - DB query for flows returned 13 items.
2025-08-04 01:47:02,540 - api.flow_api - INFO - DB query for edges returned 16 items.
2025-08-04 01:47:02,541 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:47:02,885 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:47:02] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:49:58,910 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:49:58] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:49:59,428 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:49:59,599 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:49:59] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:52:23,045 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:52:23] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:52:23,571 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:52:24,241 - api.flow_api - INFO - DB query for flows returned 13 items.
2025-08-04 01:52:24,411 - api.flow_api - INFO - DB query for edges returned 16 items.
2025-08-04 01:52:24,412 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:52:24,750 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:52:24] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:52:58,165 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:52:58] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:52:58,685 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'end-a3e615e8', 'label': 'Fin'}, 'id': 'end-a3e615e8', 'position': {'x': 783.042899575672, 'y': 231.44365575019043}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'message-b69d9b69', 'label': 'Mensaje', 'lastUpdated': '2025-08-03T07:33:54.435Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-b69d9b69', 'position': {'x': 157.18803057338704, 'y': -778.5422865847025}, 'type': 'message', 'width': 226, 'height': 104}, {'data': {'conditions': [{'color': '#3498db', 'id': '85989e20-28c8-4194-a16e-36c5128b3c10', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-135f3c2e', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C\n'}, 'id': 'decision-135f3c2e', 'position': {'x': 120.4056732689676, 'y': -621.4484169973157}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': '85989e20-28c8-4194-a16e-36c5128b3c10', 'instruction': 'A', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'A'}, 'id': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'position': {'x': -251.1659497991658, 'y': -375.1266355842132}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'instruction': 'B', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'B'}, 'id': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'position': {'x': 111.74065400935692, 'y': -208.07874083342384}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'instruction': 'C', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'C'}, 'id': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'position': {'x': 452.8114511576813, 'y': -365.28663933712994}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'message-9d9d6c8c', 'label': 'Mensaje'}, 'id': 'message-9d9d6c8c', 'position': {'x': 1014.0272276809131, 'y': -753.3933156726266}, 'type': 'message', 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 1014.0272276809131, 'y': -753.3933156726266}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': '8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': '4561e90e-7600-4513-99d8-c8aced8229c3', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-b38e1509', 'label': 'Decisi√≥n'}, 'id': 'decision-b38e1509', 'position': {'x': 989.1106499885806, 'y': -503.66568760492675}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 989.1106499885806, 'y': -503.66568760492675}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': '8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-04T03:56:18.046Z', 'sourceNode': 'decision-b38e1509', 'text': 'Opci√≥n A'}, 'id': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'position': {'x': 669.4947739851957, 'y': -130.90946186486786}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': '4561e90e-7600-4513-99d8-c8aced8229c3', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-04T03:56:18.046Z', 'sourceNode': 'decision-b38e1509', 'text': 'Opci√≥n B'}, 'id': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'position': {'x': 1031.9002991728794, 'y': -179.2865233380482}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-04T03:56:18.046Z', 'sourceNode': 'decision-b38e1509', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'position': {'x': 1436.9914668368986, 'y': -166.4808305951475}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'start-62202743', 'label': 'Inicio'}, 'id': 'start-62202743', 'position': {'x': 658.0015202542274, 'y': -909.7338835925556}, 'type': 'start', 'width': 231, 'height': 158, 'selected': True, 'positionAbsolute': {'x': 658.0015202542274, 'y': -909.7338835925556}, 'dragging': False}, {'data': {'id': 'start-06a83ae8', 'label': 'Inicio'}, 'id': 'start-06a83ae8', 'position': {'x': -100.53052856054839, 'y': -911.4341995430312}, 'type': 'start', 'width': 229, 'height': 156}], 'edges': [{'id': '11621', 'source': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11622', 'source': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11623', 'source': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11624', 'source': 'start-06a83ae8', 'target': 'message-b69d9b69', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11625', 'source': 'message-b69d9b69', 'target': 'decision-135f3c2e', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11626', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'sourceHandle': 'output-85989e20-28c8-4194-a16e-36c5128b3c10', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11627', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'sourceHandle': 'output-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11628', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'sourceHandle': 'output-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11629', 'source': 'start-62202743', 'target': 'message-9d9d6c8c', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11630', 'source': 'message-9d9d6c8c', 'target': 'decision-b38e1509', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11631', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'sourceHandle': 'output-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11632', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'sourceHandle': 'output-4561e90e-7600-4513-99d8-c8aced8229c3', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11633', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'sourceHandle': 'output-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11634', 'source': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11635', 'source': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11636', 'source': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 01:52:58,686 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=13, edges_count=16, name='N/A'
2025-08-04 01:52:59,382 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=13, edges_count=16, name='None'
2025-08-04 01:53:01,661 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'end-a3e615e8', 'label': 'Fin'}, 'id': 'end-a3e615e8', 'position': {'x': 783.042899575672, 'y': 231.44365575019043}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'message-b69d9b69', 'label': 'Mensaje', 'lastUpdated': '2025-08-03T07:33:54.435Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-b69d9b69', 'position': {'x': 157.18803057338704, 'y': -778.5422865847025}, 'type': 'message', 'width': 226, 'height': 104}, {'data': {'conditions': [{'color': '#3498db', 'id': '85989e20-28c8-4194-a16e-36c5128b3c10', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-135f3c2e', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C\n'}, 'id': 'decision-135f3c2e', 'position': {'x': 120.4056732689676, 'y': -621.4484169973157}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': '85989e20-28c8-4194-a16e-36c5128b3c10', 'instruction': 'A', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'A'}, 'id': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'position': {'x': -251.1659497991658, 'y': -375.1266355842132}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'instruction': 'B', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'B'}, 'id': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'position': {'x': 111.74065400935692, 'y': -208.07874083342384}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'instruction': 'C', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'C'}, 'id': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'position': {'x': 452.8114511576813, 'y': -365.28663933712994}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'message-9d9d6c8c', 'label': 'Mensaje'}, 'id': 'message-9d9d6c8c', 'position': {'x': 1014.0272276809131, 'y': -753.3933156726266}, 'type': 'message', 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 1014.0272276809131, 'y': -753.3933156726266}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': '8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': '4561e90e-7600-4513-99d8-c8aced8229c3', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-b38e1509', 'label': 'Decisi√≥n'}, 'id': 'decision-b38e1509', 'position': {'x': 989.1106499885806, 'y': -503.66568760492675}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 989.1106499885806, 'y': -503.66568760492675}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': '8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-04T03:56:18.046Z', 'sourceNode': 'decision-b38e1509', 'text': 'Opci√≥n A'}, 'id': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'position': {'x': 669.4947739851957, 'y': -130.90946186486786}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': '4561e90e-7600-4513-99d8-c8aced8229c3', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-04T03:56:18.046Z', 'sourceNode': 'decision-b38e1509', 'text': 'Opci√≥n B'}, 'id': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'position': {'x': 1031.9002991728794, 'y': -179.2865233380482}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-04T03:56:18.046Z', 'sourceNode': 'decision-b38e1509', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'position': {'x': 1436.9914668368986, 'y': -166.4808305951475}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'start-62202743', 'label': 'Inicio'}, 'id': 'start-62202743', 'position': {'x': 824.1625159677831, 'y': -1028.4203091022382}, 'type': 'start', 'width': 231, 'height': 158, 'selected': True, 'positionAbsolute': {'x': 824.1625159677831, 'y': -1028.4203091022382}, 'dragging': False}, {'data': {'id': 'start-06a83ae8', 'label': 'Inicio'}, 'id': 'start-06a83ae8', 'position': {'x': -100.53052856054839, 'y': -911.4341995430312}, 'type': 'start', 'width': 229, 'height': 156}], 'edges': [{'id': '11621', 'source': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11622', 'source': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11623', 'source': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11624', 'source': 'start-06a83ae8', 'target': 'message-b69d9b69', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11625', 'source': 'message-b69d9b69', 'target': 'decision-135f3c2e', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11626', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'sourceHandle': 'output-85989e20-28c8-4194-a16e-36c5128b3c10', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11627', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'sourceHandle': 'output-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11628', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'sourceHandle': 'output-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11629', 'source': 'start-62202743', 'target': 'message-9d9d6c8c', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11630', 'source': 'message-9d9d6c8c', 'target': 'decision-b38e1509', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11631', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'sourceHandle': 'output-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11632', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'sourceHandle': 'output-4561e90e-7600-4513-99d8-c8aced8229c3', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11633', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'sourceHandle': 'output-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11634', 'source': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11635', 'source': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11636', 'source': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 01:53:01,662 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=13, edges_count=16, name='N/A'
2025-08-04 01:53:02,340 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=13, edges_count=16, name='None'
2025-08-04 01:53:03,413 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 01:53:03,413 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 01:53:03,557 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:53:03] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:53:03,584 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:53:03] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:53:04,088 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 01:53:04,088 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 01:53:04,260 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:53:04] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:53:04,561 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:53:04] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:53:05,194 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Cargando nombre...', 'nodes': [], 'edges': [], 'viewport': {'x': 0, 'y': 0, 'zoom': 1}}
2025-08-04 01:53:05,194 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=0, edges_count=0, name='N/A'
2025-08-04 01:53:05,627 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:53:05,891 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=0, edges_count=0, name='None'
2025-08-04 01:53:06,081 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Cargando nombre...', 'nodes': [], 'edges': [], 'viewport': {'x': 0, 'y': 0, 'zoom': 1}}
2025-08-04 01:53:06,081 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=0, edges_count=0, name='N/A'
2025-08-04 01:53:06,294 - api.flow_api - INFO - DB query for flows returned 13 items.
2025-08-04 01:53:06,463 - api.flow_api - INFO - DB query for edges returned 16 items.
2025-08-04 01:53:06,463 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:53:06,805 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:53:06] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:53:07,705 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=0, edges_count=0, name='None'
2025-08-04 01:53:08,731 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'end-a3e615e8', 'label': 'Fin'}, 'id': 'end-a3e615e8', 'position': {'x': 783.042899575672, 'y': 231.44365575019043}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'message-b69d9b69', 'label': 'Mensaje', 'lastUpdated': '2025-08-03T07:33:54.435Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-b69d9b69', 'position': {'x': 157.18803057338704, 'y': -778.5422865847025}, 'type': 'message', 'width': 226, 'height': 104}, {'data': {'conditions': [{'color': '#3498db', 'id': '85989e20-28c8-4194-a16e-36c5128b3c10', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-135f3c2e', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C\n'}, 'id': 'decision-135f3c2e', 'position': {'x': 120.4056732689676, 'y': -621.4484169973157}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': '85989e20-28c8-4194-a16e-36c5128b3c10', 'instruction': 'A', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'A'}, 'id': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'position': {'x': -251.1659497991658, 'y': -375.1266355842132}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'f292b992-3d27-4fae-a2b6-42816b6d57e7', 'instruction': 'B', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'B'}, 'id': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'position': {'x': 111.74065400935692, 'y': -208.07874083342384}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'instruction': 'C', 'lastUpdated': '2025-08-03T07:34:10.752Z', 'sourceNode': 'decision-135f3c2e', 'text': 'C'}, 'id': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'position': {'x': 452.8114511576813, 'y': -365.28663933712994}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'message-9d9d6c8c', 'label': 'Mensaje'}, 'id': 'message-9d9d6c8c', 'position': {'x': 1014.0272276809131, 'y': -753.3933156726266}, 'type': 'message', 'width': 212, 'height': 101}, {'data': {'conditions': [{'color': '#3498db', 'id': '8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': '4561e90e-7600-4513-99d8-c8aced8229c3', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-b38e1509', 'label': 'Decisi√≥n'}, 'id': 'decision-b38e1509', 'position': {'x': 989.1106499885806, 'y': -503.66568760492675}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': '8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-04T03:56:18.046Z', 'sourceNode': 'decision-b38e1509', 'text': 'Opci√≥n A'}, 'id': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'position': {'x': 669.4947739851957, 'y': -130.90946186486786}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': '4561e90e-7600-4513-99d8-c8aced8229c3', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-04T03:56:18.046Z', 'sourceNode': 'decision-b38e1509', 'text': 'Opci√≥n B'}, 'id': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'position': {'x': 1031.9002991728794, 'y': -179.2865233380482}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-04T03:56:18.046Z', 'sourceNode': 'decision-b38e1509', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'position': {'x': 1436.9914668368986, 'y': -166.4808305951475}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'start-62202743', 'label': 'Inicio'}, 'id': 'start-62202743', 'position': {'x': 824.1625159677831, 'y': -1028.4203091022382}, 'type': 'start', 'width': 229, 'height': 156}, {'data': {'id': 'start-06a83ae8', 'label': 'Inicio'}, 'id': 'start-06a83ae8', 'position': {'x': -100.53052856054839, 'y': -911.4341995430312}, 'type': 'start', 'width': 229, 'height': 156}], 'edges': [{'id': '11651', 'source': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11652', 'source': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11653', 'source': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11654', 'source': 'start-06a83ae8', 'target': 'message-b69d9b69', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11655', 'source': 'message-b69d9b69', 'target': 'decision-135f3c2e', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11656', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-85989e20-28c8-4194-a16e-36c5128b3c10', 'sourceHandle': 'output-85989e20-28c8-4194-a16e-36c5128b3c10', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11657', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'sourceHandle': 'output-f292b992-3d27-4fae-a2b6-42816b6d57e7', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11658', 'source': 'decision-135f3c2e', 'target': 'option-decision-135f3c2e-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'sourceHandle': 'output-condition-23894f7d-0bbb-4639-bef9-616844e820d1', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11659', 'source': 'start-62202743', 'target': 'message-9d9d6c8c', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11660', 'source': 'message-9d9d6c8c', 'target': 'decision-b38e1509', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11661', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'sourceHandle': 'output-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11662', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'sourceHandle': 'output-4561e90e-7600-4513-99d8-c8aced8229c3', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11663', 'source': 'decision-b38e1509', 'target': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'sourceHandle': 'output-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11664', 'source': 'option-decision-b38e1509-8fff50c5-7fa7-4ee1-be4d-e65fe3097f53', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11665', 'source': 'option-decision-b38e1509-4561e90e-7600-4513-99d8-c8aced8229c3', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11666', 'source': 'option-decision-b38e1509-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'target': 'end-a3e615e8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 01:53:08,732 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=13, edges_count=16, name='N/A'
2025-08-04 01:53:09,413 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=13, edges_count=16, name='None'
2025-08-04 01:53:11,133 - utils.transaction_utils - ERROR - Error al actualizar flujo completo
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.DeadlockDetected: deadlock detected
DETALLE:  Process 2674701 waits for ShareLock on transaction 343576; blocked by process 2670085.
Process 2670085 waits for ShareLock on transaction 343578; blocked by process 2674701.
SUGERENCIA:  See server log for query details.
CONTEXTO:  while locking tuple (94,23) in relation "flows"
SQL statement "SELECT 1 FROM ONLY "public"."flows" x WHERE "id" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x"


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/rey/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 50, in atomic_transaction
    session.commit()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1143, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_insertmany_context(dialect, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2128, in _exec_insertmany_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (psycopg2.errors.DeadlockDetected) deadlock detected
DETALLE:  Process 2674701 waits for ShareLock on transaction 343576; blocked by process 2670085.
Process 2670085 waits for ShareLock on transaction 343578; blocked by process 2674701.
SUGERENCIA:  See server log for query details.
CONTEXTO:  while locking tuple (94,23) in relation "flows"
SQL statement "SELECT 1 FROM ONLY "public"."flows" x WHERE "id" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x"

[SQL: INSERT INTO flow_edges (chatbot_id, source_flow_id, target_flow_id, condition, label, edge_type, frontend_id, source_handle, target_handle, animated, edge_metadata, created_at, updated_at, is_deleted) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3: ... 4812 characters truncated ... 10, p11, p12, p13, sen_counter) ORDER BY sen_counter RETURNING flow_edges.id, flow_edges.id AS id__1]
[parameters: {'target_handle__0': 'input', 'is_deleted__0': False, 'chatbot_id__0': 256, 'created_at__0': datetime.datetime(2025, 8, 4, 4, 53, 9, 791786), 'condition__0': '', 'target_flow_id__0': 20610, 'source_flow_id__0': 20607, 'frontend_id__0': '11651', 'animated__0': True, 'source_handle__0': 'source', 'label__0': None, 'edge_type__0': 'eliteEdge', 'updated_at__0': datetime.datetime(2025, 8, 4, 4, 53, 9, 791792), 'edge_metadata__0': 'null', 'target_handle__1': 'input', 'is_deleted__1': False, 'chatbot_id__1': 256, 'created_at__1': datetime.datetime(2025, 8, 4, 4, 53, 9, 791794), 'condition__1': '', 'target_flow_id__1': 20610, 'source_flow_id__1': 20608, 'frontend_id__1': '11652', 'animated__1': True, 'source_handle__1': 'source', 'label__1': None, 'edge_type__1': 'eliteEdge', 'updated_at__1': datetime.datetime(2025, 8, 4, 4, 53, 9, 791795), 'edge_metadata__1': 'null', 'target_handle__2': 'input', 'is_deleted__2': False, 'chatbot_id__2': 256, 'created_at__2': datetime.datetime(2025, 8, 4, 4, 53, 9, 791798), 'condition__2': '', 'target_flow_id__2': 20610, 'source_flow_id__2': 20609, 'frontend_id__2': '11653', 'animated__2': True, 'source_handle__2': 'source', 'label__2': None, 'edge_type__2': 'eliteEdge', 'updated_at__2': datetime.datetime(2025, 8, 4, 4, 53, 9, 791799), 'edge_metadata__2': 'null', 'target_handle__3': 'input', 'is_deleted__3': False, 'chatbot_id__3': 256, 'created_at__3': datetime.datetime(2025, 8, 4, 4, 53, 9, 791800), 'condition__3': '', 'target_flow_id__3': 20605, 'source_flow_id__3': 20604, 'frontend_id__3': '11654' ... 124 parameters truncated ... 'source_flow_id__12': 20641, 'frontend_id__12': '11663', 'animated__12': True, 'source_handle__12': 'output-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'label__12': None, 'edge_type__12': 'eliteEdge', 'updated_at__12': datetime.datetime(2025, 8, 4, 4, 53, 9, 791830), 'edge_metadata__12': 'null', 'target_handle__13': 'input', 'is_deleted__13': False, 'chatbot_id__13': 256, 'created_at__13': datetime.datetime(2025, 8, 4, 4, 53, 9, 791832), 'condition__13': '', 'target_flow_id__13': 20610, 'source_flow_id__13': 20642, 'frontend_id__13': '11664', 'animated__13': True, 'source_handle__13': 'source', 'label__13': None, 'edge_type__13': 'eliteEdge', 'updated_at__13': datetime.datetime(2025, 8, 4, 4, 53, 9, 791833), 'edge_metadata__13': 'null', 'target_handle__14': 'input', 'is_deleted__14': False, 'chatbot_id__14': 256, 'created_at__14': datetime.datetime(2025, 8, 4, 4, 53, 9, 791835), 'condition__14': '', 'target_flow_id__14': 20610, 'source_flow_id__14': 20643, 'frontend_id__14': '11665', 'animated__14': True, 'source_handle__14': 'source', 'label__14': None, 'edge_type__14': 'eliteEdge', 'updated_at__14': datetime.datetime(2025, 8, 4, 4, 53, 9, 791835), 'edge_metadata__14': 'null', 'target_handle__15': 'input', 'is_deleted__15': False, 'chatbot_id__15': 256, 'created_at__15': datetime.datetime(2025, 8, 4, 4, 53, 9, 791837), 'condition__15': '', 'target_flow_id__15': 20610, 'source_flow_id__15': 20644, 'frontend_id__15': '11666', 'animated__15': True, 'source_handle__15': 'source', 'label__15': None, 'edge_type__15': 'eliteEdge', 'updated_at__15': datetime.datetime(2025, 8, 4, 4, 53, 9, 791838), 'edge_metadata__15': 'null'}]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-08-04 01:53:11,149 - utils.transaction_utils - ERROR - Error al actualizar flujo (PATCH) para plubot 256
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.DeadlockDetected: deadlock detected
DETALLE:  Process 2674701 waits for ShareLock on transaction 343576; blocked by process 2670085.
Process 2670085 waits for ShareLock on transaction 343578; blocked by process 2674701.
SUGERENCIA:  See server log for query details.
CONTEXTO:  while locking tuple (94,23) in relation "flows"
SQL statement "SELECT 1 FROM ONLY "public"."flows" x WHERE "id" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x"


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/rey/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 49, in atomic_transaction
    yield session
  File "/Users/rey/Desktop/Plubot/plubot-backend/api/flow_api.py", line 311, in patch_flow
    update_full_flow(session, plubot_id, flow_data_for_update)
  File "/Users/rey/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 99, in wrapper
    with atomic_transaction(session, error_message):
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 144, in __exit__
    next(self.gen)
  File "/Users/rey/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 50, in atomic_transaction
    session.commit()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1143, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_insertmany_context(dialect, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2128, in _exec_insertmany_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (psycopg2.errors.DeadlockDetected) deadlock detected
DETALLE:  Process 2674701 waits for ShareLock on transaction 343576; blocked by process 2670085.
Process 2670085 waits for ShareLock on transaction 343578; blocked by process 2674701.
SUGERENCIA:  See server log for query details.
CONTEXTO:  while locking tuple (94,23) in relation "flows"
SQL statement "SELECT 1 FROM ONLY "public"."flows" x WHERE "id" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x"

[SQL: INSERT INTO flow_edges (chatbot_id, source_flow_id, target_flow_id, condition, label, edge_type, frontend_id, source_handle, target_handle, animated, edge_metadata, created_at, updated_at, is_deleted) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3: ... 4812 characters truncated ... 10, p11, p12, p13, sen_counter) ORDER BY sen_counter RETURNING flow_edges.id, flow_edges.id AS id__1]
[parameters: {'target_handle__0': 'input', 'is_deleted__0': False, 'chatbot_id__0': 256, 'created_at__0': datetime.datetime(2025, 8, 4, 4, 53, 9, 791786), 'condition__0': '', 'target_flow_id__0': 20610, 'source_flow_id__0': 20607, 'frontend_id__0': '11651', 'animated__0': True, 'source_handle__0': 'source', 'label__0': None, 'edge_type__0': 'eliteEdge', 'updated_at__0': datetime.datetime(2025, 8, 4, 4, 53, 9, 791792), 'edge_metadata__0': 'null', 'target_handle__1': 'input', 'is_deleted__1': False, 'chatbot_id__1': 256, 'created_at__1': datetime.datetime(2025, 8, 4, 4, 53, 9, 791794), 'condition__1': '', 'target_flow_id__1': 20610, 'source_flow_id__1': 20608, 'frontend_id__1': '11652', 'animated__1': True, 'source_handle__1': 'source', 'label__1': None, 'edge_type__1': 'eliteEdge', 'updated_at__1': datetime.datetime(2025, 8, 4, 4, 53, 9, 791795), 'edge_metadata__1': 'null', 'target_handle__2': 'input', 'is_deleted__2': False, 'chatbot_id__2': 256, 'created_at__2': datetime.datetime(2025, 8, 4, 4, 53, 9, 791798), 'condition__2': '', 'target_flow_id__2': 20610, 'source_flow_id__2': 20609, 'frontend_id__2': '11653', 'animated__2': True, 'source_handle__2': 'source', 'label__2': None, 'edge_type__2': 'eliteEdge', 'updated_at__2': datetime.datetime(2025, 8, 4, 4, 53, 9, 791799), 'edge_metadata__2': 'null', 'target_handle__3': 'input', 'is_deleted__3': False, 'chatbot_id__3': 256, 'created_at__3': datetime.datetime(2025, 8, 4, 4, 53, 9, 791800), 'condition__3': '', 'target_flow_id__3': 20605, 'source_flow_id__3': 20604, 'frontend_id__3': '11654' ... 124 parameters truncated ... 'source_flow_id__12': 20641, 'frontend_id__12': '11663', 'animated__12': True, 'source_handle__12': 'output-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'label__12': None, 'edge_type__12': 'eliteEdge', 'updated_at__12': datetime.datetime(2025, 8, 4, 4, 53, 9, 791830), 'edge_metadata__12': 'null', 'target_handle__13': 'input', 'is_deleted__13': False, 'chatbot_id__13': 256, 'created_at__13': datetime.datetime(2025, 8, 4, 4, 53, 9, 791832), 'condition__13': '', 'target_flow_id__13': 20610, 'source_flow_id__13': 20642, 'frontend_id__13': '11664', 'animated__13': True, 'source_handle__13': 'source', 'label__13': None, 'edge_type__13': 'eliteEdge', 'updated_at__13': datetime.datetime(2025, 8, 4, 4, 53, 9, 791833), 'edge_metadata__13': 'null', 'target_handle__14': 'input', 'is_deleted__14': False, 'chatbot_id__14': 256, 'created_at__14': datetime.datetime(2025, 8, 4, 4, 53, 9, 791835), 'condition__14': '', 'target_flow_id__14': 20610, 'source_flow_id__14': 20643, 'frontend_id__14': '11665', 'animated__14': True, 'source_handle__14': 'source', 'label__14': None, 'edge_type__14': 'eliteEdge', 'updated_at__14': datetime.datetime(2025, 8, 4, 4, 53, 9, 791835), 'edge_metadata__14': 'null', 'target_handle__15': 'input', 'is_deleted__15': False, 'chatbot_id__15': 256, 'created_at__15': datetime.datetime(2025, 8, 4, 4, 53, 9, 791837), 'condition__15': '', 'target_flow_id__15': 20610, 'source_flow_id__15': 20644, 'frontend_id__15': '11666', 'animated__15': True, 'source_handle__15': 'source', 'label__15': None, 'edge_type__15': 'eliteEdge', 'updated_at__15': datetime.datetime(2025, 8, 4, 4, 53, 9, 791838), 'edge_metadata__15': 'null'}]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-08-04 01:53:11,153 - api.flow_api - ERROR - Error inesperado en PATCH para plubot 256
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.DeadlockDetected: deadlock detected
DETALLE:  Process 2674701 waits for ShareLock on transaction 343576; blocked by process 2670085.
Process 2670085 waits for ShareLock on transaction 343578; blocked by process 2674701.
SUGERENCIA:  See server log for query details.
CONTEXTO:  while locking tuple (94,23) in relation "flows"
SQL statement "SELECT 1 FROM ONLY "public"."flows" x WHERE "id" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x"


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/rey/Desktop/Plubot/plubot-backend/api/flow_api.py", line 311, in patch_flow
    update_full_flow(session, plubot_id, flow_data_for_update)
  File "/Users/rey/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 99, in wrapper
    with atomic_transaction(session, error_message):
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 144, in __exit__
    next(self.gen)
  File "/Users/rey/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 50, in atomic_transaction
    session.commit()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1143, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_insertmany_context(dialect, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2128, in _exec_insertmany_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (psycopg2.errors.DeadlockDetected) deadlock detected
DETALLE:  Process 2674701 waits for ShareLock on transaction 343576; blocked by process 2670085.
Process 2670085 waits for ShareLock on transaction 343578; blocked by process 2674701.
SUGERENCIA:  See server log for query details.
CONTEXTO:  while locking tuple (94,23) in relation "flows"
SQL statement "SELECT 1 FROM ONLY "public"."flows" x WHERE "id" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x"

[SQL: INSERT INTO flow_edges (chatbot_id, source_flow_id, target_flow_id, condition, label, edge_type, frontend_id, source_handle, target_handle, animated, edge_metadata, created_at, updated_at, is_deleted) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3: ... 4812 characters truncated ... 10, p11, p12, p13, sen_counter) ORDER BY sen_counter RETURNING flow_edges.id, flow_edges.id AS id__1]
[parameters: {'target_handle__0': 'input', 'is_deleted__0': False, 'chatbot_id__0': 256, 'created_at__0': datetime.datetime(2025, 8, 4, 4, 53, 9, 791786), 'condition__0': '', 'target_flow_id__0': 20610, 'source_flow_id__0': 20607, 'frontend_id__0': '11651', 'animated__0': True, 'source_handle__0': 'source', 'label__0': None, 'edge_type__0': 'eliteEdge', 'updated_at__0': datetime.datetime(2025, 8, 4, 4, 53, 9, 791792), 'edge_metadata__0': 'null', 'target_handle__1': 'input', 'is_deleted__1': False, 'chatbot_id__1': 256, 'created_at__1': datetime.datetime(2025, 8, 4, 4, 53, 9, 791794), 'condition__1': '', 'target_flow_id__1': 20610, 'source_flow_id__1': 20608, 'frontend_id__1': '11652', 'animated__1': True, 'source_handle__1': 'source', 'label__1': None, 'edge_type__1': 'eliteEdge', 'updated_at__1': datetime.datetime(2025, 8, 4, 4, 53, 9, 791795), 'edge_metadata__1': 'null', 'target_handle__2': 'input', 'is_deleted__2': False, 'chatbot_id__2': 256, 'created_at__2': datetime.datetime(2025, 8, 4, 4, 53, 9, 791798), 'condition__2': '', 'target_flow_id__2': 20610, 'source_flow_id__2': 20609, 'frontend_id__2': '11653', 'animated__2': True, 'source_handle__2': 'source', 'label__2': None, 'edge_type__2': 'eliteEdge', 'updated_at__2': datetime.datetime(2025, 8, 4, 4, 53, 9, 791799), 'edge_metadata__2': 'null', 'target_handle__3': 'input', 'is_deleted__3': False, 'chatbot_id__3': 256, 'created_at__3': datetime.datetime(2025, 8, 4, 4, 53, 9, 791800), 'condition__3': '', 'target_flow_id__3': 20605, 'source_flow_id__3': 20604, 'frontend_id__3': '11654' ... 124 parameters truncated ... 'source_flow_id__12': 20641, 'frontend_id__12': '11663', 'animated__12': True, 'source_handle__12': 'output-condition-33d721f0-92a0-4f7f-8182-1eb3e1510601', 'label__12': None, 'edge_type__12': 'eliteEdge', 'updated_at__12': datetime.datetime(2025, 8, 4, 4, 53, 9, 791830), 'edge_metadata__12': 'null', 'target_handle__13': 'input', 'is_deleted__13': False, 'chatbot_id__13': 256, 'created_at__13': datetime.datetime(2025, 8, 4, 4, 53, 9, 791832), 'condition__13': '', 'target_flow_id__13': 20610, 'source_flow_id__13': 20642, 'frontend_id__13': '11664', 'animated__13': True, 'source_handle__13': 'source', 'label__13': None, 'edge_type__13': 'eliteEdge', 'updated_at__13': datetime.datetime(2025, 8, 4, 4, 53, 9, 791833), 'edge_metadata__13': 'null', 'target_handle__14': 'input', 'is_deleted__14': False, 'chatbot_id__14': 256, 'created_at__14': datetime.datetime(2025, 8, 4, 4, 53, 9, 791835), 'condition__14': '', 'target_flow_id__14': 20610, 'source_flow_id__14': 20643, 'frontend_id__14': '11665', 'animated__14': True, 'source_handle__14': 'source', 'label__14': None, 'edge_type__14': 'eliteEdge', 'updated_at__14': datetime.datetime(2025, 8, 4, 4, 53, 9, 791835), 'edge_metadata__14': 'null', 'target_handle__15': 'input', 'is_deleted__15': False, 'chatbot_id__15': 256, 'created_at__15': datetime.datetime(2025, 8, 4, 4, 53, 9, 791837), 'condition__15': '', 'target_flow_id__15': 20610, 'source_flow_id__15': 20644, 'frontend_id__15': '11666', 'animated__15': True, 'source_handle__15': 'source', 'label__15': None, 'edge_type__15': 'eliteEdge', 'updated_at__15': datetime.datetime(2025, 8, 4, 4, 53, 9, 791838), 'edge_metadata__15': 'null'}]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-08-04 01:53:11,327 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:53:11] "[35m[1mPATCH /api/flow/256 HTTP/1.1[0m" 500 -
2025-08-04 01:53:18,403 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 01:53:18,404 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 01:53:18,574 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:53:18] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:53:27,276 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 01:53:27,276 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 01:53:27,447 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:53:27] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:57:08,845 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:57:08] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:57:09,372 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:57:09,958 - api.flow_api - INFO - DB query for flows returned 0 items.
2025-08-04 01:57:10,127 - api.flow_api - INFO - DB query for edges returned 0 items.
2025-08-04 01:57:10,127 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:57:10,470 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:57:10] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:57:15,482 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:57:15] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:57:16,006 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:57:16,177 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:57:16] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:57:26,294 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:57:26] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:57:26,819 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 01:57:26,991 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:57:26] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:57:55,756 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:57:55] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:57:56,280 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'id': 'start-6e11faab', 'type': 'start', 'position': {'x': 436.70926163665615, 'y': -320.10562155702723}, 'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 231, 'height': 144, 'selected': True, 'positionAbsolute': {'x': 436.70926163665615, 'y': -320.10562155702723}, 'dragging': False}, {'id': 'message-d743cea6', 'type': 'message', 'position': {'x': 654.6436266881283, 'y': -127.5658004374723}, 'data': {'id': 'message-d743cea6', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 654.6436266881283, 'y': -127.5658004374723}, 'dragging': False}, {'id': 'decision-46e7ee01', 'type': 'decision', 'position': {'x': 637.7008281320353, 'y': 22.768959188576048}, 'data': {'id': 'decision-46e7ee01', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'Opci√≥n B', 'color': '#e74c3c'}, {'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 637.7008281320353, 'y': 22.768959188576048}, 'dragging': False}, {'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'type': 'option', 'position': {'x': 259.6726623834947, 'y': 309.6452145179429}, 'data': {'sourceNode': 'decision-46e7ee01', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db', 'lastUpdated': '2025-08-04T04:57:37.815Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 259.6726623834947, 'y': 309.6452145179429}, 'dragging': False}, {'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'type': 'option', 'position': {'x': 718.4805041400431, 'y': 356.89370425847574}, 'data': {'sourceNode': 'decision-46e7ee01', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c', 'lastUpdated': '2025-08-04T04:57:37.815Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 718.4805041400431, 'y': 356.89370425847574}, 'dragging': False}, {'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'type': 'option', 'position': {'x': 1055.35675946941, 'y': 294.40376621454516}, 'data': {'sourceNode': 'decision-46e7ee01', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-04T04:57:37.815Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1055.35675946941, 'y': 294.40376621454516}, 'dragging': False}, {'id': 'end-9249fd21', 'type': 'end', 'position': {'x': 1364.7179122041052, 'y': 662.909787931279}, 'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 304, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1364.7179122041052, 'y': 662.909787931279}, 'dragging': False}], 'edges': [{'id': 'reactflow__edge-start-6e11faaboutput-message-d743cea6input', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-message-d743cea6default-decision-46e7ee01input', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'edge-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733source-end-9249fd21input', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9csource-end-9249fd21input', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353bsource-end-9249fd21input', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-04 01:57:56,281 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 01:57:56,974 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 01:57:58,879 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 01:57:58,880 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 01:57:59,053 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:57:59] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:59:01,948 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:59:01] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 01:59:02,474 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 01:59:02,989 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 01:59:03,159 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 01:59:03,159 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 01:59:03,500 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 01:59:03] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:09:18,567 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:09:18] "OPTIONS /api/plubots/123/embed HTTP/1.1" 200 -
2025-08-04 02:09:18,568 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:09:18] "OPTIONS /api/plubots/123/embed HTTP/1.1" 200 -
2025-08-04 02:09:18,571 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:09:18] "[31m[1mPOST /api/plubots/123/embed HTTP/1.1[0m" 405 -
2025-08-04 02:09:18,572 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:09:18] "[31m[1mPOST /api/plubots/123/embed HTTP/1.1[0m" 405 -
2025-08-04 02:09:22,263 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:09:22] "OPTIONS /api/whatsapp/status/123 HTTP/1.1" 200 -
2025-08-04 02:09:33,353 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:09:33] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:09:33,880 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 02:09:34,397 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 02:09:34,569 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 02:09:34,570 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 02:09:34,914 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:09:34] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:09:37,885 - services.whatsapp_service - ERROR - Error en la comunicaci√≥n con la API de WhatsApp
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py", line 1395, in getresponse
    response.begin()
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/socket.py", line 718, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/ssl.py", line 1314, in recv_into
    return self.read(nbytes, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/ssl.py", line 1166, in read
    return self._sslobj.read(len, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/util/retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='gate.whapi.cloud', port=443): Read timed out. (read timeout=15)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rey/Desktop/Plubot/plubot-backend/services/whatsapp_service.py", line 53, in _make_request
    response = requests.request(
               ^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='gate.whapi.cloud', port=443): Read timed out. (read timeout=15)
2025-08-04 02:09:37,897 - services.whatsapp_service - ERROR - Error al verificar el estado de WhatsApp para 123
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py", line 1395, in getresponse
    response.begin()
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/socket.py", line 718, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/ssl.py", line 1314, in recv_into
    return self.read(nbytes, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/ssl.py", line 1166, in read
    return self._sslobj.read(len, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/util/retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='gate.whapi.cloud', port=443): Read timed out. (read timeout=15)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rey/Desktop/Plubot/plubot-backend/services/whatsapp_service.py", line 96, in get_connection_status
    response = self._make_request("get", "users/profile")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rey/Desktop/Plubot/plubot-backend/services/whatsapp_service.py", line 53, in _make_request
    response = requests.request(
               ^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='gate.whapi.cloud', port=443): Read timed out. (read timeout=15)
2025-08-04 02:09:37,898 - app - ERROR - Exception on /api/whatsapp/status/123 [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py", line 1395, in getresponse
    response.begin()
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/socket.py", line 718, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/ssl.py", line 1314, in recv_into
    return self.read(nbytes, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/ssl.py", line 1166, in read
    return self._sslobj.read(len, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/util/retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/opt/homebrew/lib/python3.11/site-packages/urllib3/connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='gate.whapi.cloud', port=443): Read timed out. (read timeout=15)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rey/Desktop/Plubot/plubot-backend/services/whatsapp_service.py", line 96, in get_connection_status
    response = self._make_request("get", "users/profile")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rey/Desktop/Plubot/plubot-backend/services/whatsapp_service.py", line 53, in _make_request
    response = requests.request(
               ^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/requests/adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='gate.whapi.cloud', port=443): Read timed out. (read timeout=15)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rey/Desktop/Plubot/plubot-backend/api/whatsapp_api.py", line 75, in get_status
    status = service.get_connection_status(plubot_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rey/Desktop/Plubot/plubot-backend/services/whatsapp_service.py", line 104, in get_connection_status
    connection = WhatsAppConnection.query.filter_by(plubot_id=plubot_id).first()
                 ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'WhatsAppConnection' has no attribute 'query'
2025-08-04 02:09:38,073 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:09:38] "[35m[1mGET /api/whatsapp/status/123 HTTP/1.1[0m" 500 -
2025-08-04 02:09:53,279 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:09:53] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:09:53,796 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 02:09:53,971 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:09:53] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:12:44,061 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:12:44] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:12:44,990 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 02:12:45,168 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:12:45] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:21:52,037 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:21:52] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:21:52,570 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 02:21:53,091 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 02:21:53,263 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 02:21:53,263 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 02:21:53,614 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:21:53] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:31:13,412 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:31:13] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:31:13,954 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 02:31:14,472 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 02:31:14,643 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 02:31:14,644 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 02:31:14,989 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:31:14] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:47:05,665 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:47:05] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-04 02:47:05,668 - app - WARNING - Authentication error: Signature has expired
2025-08-04 02:47:05,669 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:47:05] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-04 02:54:57,392 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:54:57] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 02:54:58,505 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:54:58] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-04 02:54:58,581 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:54:58] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:54:59,102 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 02:54:59,629 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 02:54:59,807 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 02:54:59,807 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 02:55:00,150 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:55:00] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:57:53,121 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:57:53] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 02:57:53,635 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 02:57:53,803 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 02:57:53] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:02:00,094 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:02:00] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:02:00,626 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 03:02:01,147 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 03:02:01,320 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 03:02:01,320 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 03:02:01,660 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:02:01] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:02:34,966 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:02:34] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:02:35,489 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 03:02:35,660 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:02:35] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:03:11,110 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:03:11] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:03:11,631 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 03:03:11,801 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:03:11] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:05:05,253 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:05:05] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:05:05,781 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 03:05:05,952 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:05:05] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:14:06,248 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:14:06] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:14:06,781 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 03:14:07,304 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 03:14:07,477 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 03:14:07,478 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 03:14:07,823 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:14:07] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:34:14,785 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:34:14] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-04 03:34:15,994 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:34:15] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-04 03:40:53,827 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:40:53] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 03:40:54,931 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:40:54] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-04 03:40:54,987 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:40:54] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:40:55,507 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 03:40:56,037 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 03:40:56,211 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 03:40:56,211 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 03:40:56,555 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:40:56] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:43:22,055 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:43:22] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:43:22,571 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 03:43:22,742 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:43:22] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:50:22,928 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:50:22] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 03:50:23,448 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 436.70926163665615, 'y': -320.10562155702723}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje'}, 'id': 'message-d743cea6', 'position': {'x': 654.6436266881283, 'y': -127.5658004374723}, 'type': 'message', 'width': 212, 'height': 101}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'label': 'Decisi√≥n'}, 'id': 'decision-46e7ee01', 'position': {'x': 630.9007292728134, 'y': 44.32726023160123}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 630.9007292728134, 'y': 44.32726023160123}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Opci√≥n A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 259.6726623834947, 'y': 309.6452145179429}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Opci√≥n B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 718.4805041400431, 'y': 356.89370425847574}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1055.35675946941, 'y': 294.40376621454516}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1364.7179122041052, 'y': 662.909787931279}, 'type': 'end', 'width': 304, 'height': 132}], 'edges': [{'id': '11683', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11684', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11685', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11686', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11687', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11688', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11689', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11690', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 03:50:23,448 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 03:50:24,138 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 03:50:26,395 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 03:50:26,396 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 03:50:26,566 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 03:50:26] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:06:27,222 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:06:27] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-04 04:06:27,228 - app - WARNING - Authentication error: Signature has expired
2025-08-04 04:06:27,228 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:06:27] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-04 04:06:32,454 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:06:32] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 04:06:33,603 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:06:33] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-04 04:06:33,697 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:06:33] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:06:34,224 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 04:06:34,740 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 04:06:34,912 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 04:06:34,912 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 04:06:35,253 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:06:35] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:09:12,230 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:09:12] "OPTIONS /api/byte-assistant HTTP/1.1" 200 -
2025-08-04 04:09:13,816 - api.grok - INFO - Respuesta de Byte (API): ¬°Hola! Soy Byte, tu gu√≠a en el circuito de flujos para chatbots. ¬øEn qu√© puedo ayudarte con tu dise√±o de flujos o problemas de conexi√≥n hoy?
2025-08-04 04:09:13,817 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:09:13] "POST /api/byte-assistant HTTP/1.1" 200 -
2025-08-04 04:11:45,210 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:11:45] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:11:45,745 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 403.7142379589484, 'y': -272.2628372243511}, 'type': 'start', 'width': 198, 'height': 76, 'selected': False, 'positionAbsolute': {'x': 403.7142379589484, 'y': -272.2628372243511}, 'dragging': False}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje'}, 'id': 'message-d743cea6', 'position': {'x': 654.6436266881283, 'y': -127.5658004374723}, 'type': 'message', 'width': 178, 'height': 58}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Opci√≥n A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 305.86569553228554, 'y': 331.09197990845297}, 'type': 'option', 'width': 198, 'height': 76, 'selected': True, 'positionAbsolute': {'x': 305.86569553228554, 'y': 331.09197990845297}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Opci√≥n B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 718.4805041400431, 'y': 356.89370425847574}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1055.35675946941, 'y': 294.40376621454516}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1364.7179122041052, 'y': 662.909787931279}, 'type': 'end', 'width': 198, 'height': 76}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'label': 'Decisi√≥n'}, 'id': 'decision-46e7ee01', 'position': {'x': 630.9007292728134, 'y': 44.32726023160123}, 'type': 'decision', 'width': 198, 'height': 76}], 'edges': [{'id': '11691', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11692', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11693', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11694', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11695', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11696', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11697', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11698', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 04:11:45,746 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 04:11:46,537 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 04:11:46,731 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 403.7142379589484, 'y': -272.2628372243511}, 'type': 'start', 'width': 198, 'height': 76, 'selected': False, 'positionAbsolute': {'x': 403.7142379589484, 'y': -272.2628372243511}, 'dragging': False}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje'}, 'id': 'message-d743cea6', 'position': {'x': 654.6436266881283, 'y': -127.5658004374723}, 'type': 'message', 'width': 178, 'height': 58}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Opci√≥n A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 305.86569553228554, 'y': 331.09197990845297}, 'type': 'option', 'width': 198, 'height': 76, 'selected': True, 'positionAbsolute': {'x': 305.86569553228554, 'y': 331.09197990845297}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Opci√≥n B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 718.4805041400431, 'y': 356.89370425847574}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1055.35675946941, 'y': 294.40376621454516}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1364.7179122041052, 'y': 662.909787931279}, 'type': 'end', 'width': 198, 'height': 76}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'label': 'Decisi√≥n'}, 'id': 'decision-46e7ee01', 'position': {'x': 630.9007292728134, 'y': 44.32726023160123}, 'type': 'decision', 'width': 198, 'height': 76}], 'edges': [{'id': '11691', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11692', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11693', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11694', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11695', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11696', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11697', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11698', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 04:11:46,732 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 04:11:47,422 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 04:11:48,953 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 04:11:48,953 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 04:11:49,125 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:11:49] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:11:49,470 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 04:11:49,470 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 04:11:49,643 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:11:49] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:12:00,361 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:12:00] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:12:00,891 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 427.65842212134436, 'y': -272.2628372243511}, 'type': 'start', 'width': 150, 'height': 42, 'selected': True, 'positionAbsolute': {'x': 427.65842212134436, 'y': -272.2628372243511}, 'dragging': False}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje'}, 'id': 'message-d743cea6', 'position': {'x': 654.6436266881283, 'y': -127.5658004374723}, 'type': 'message', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Opci√≥n A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 305.86569553228554, 'y': 331.09197990845297}, 'type': 'option', 'width': 150, 'height': 42, 'selected': False, 'positionAbsolute': {'x': 305.86569553228554, 'y': 331.09197990845297}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Opci√≥n B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 718.4805041400431, 'y': 356.89370425847574}, 'type': 'option', 'width': 150, 'height': 42}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-04T04:57:37.815Z', 'sourceNode': 'decision-46e7ee01', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1055.35675946941, 'y': 294.40376621454516}, 'type': 'option', 'width': 150, 'height': 42}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1364.7179122041052, 'y': 662.909787931279}, 'type': 'end', 'width': 150, 'height': 42}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'label': 'Decisi√≥n'}, 'id': 'decision-46e7ee01', 'position': {'x': 630.9007292728134, 'y': 44.32726023160123}, 'type': 'decision', 'width': 150, 'height': 42}], 'edges': [{'id': '11691', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11692', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11693', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11694', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11695', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11696', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11697', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11698', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 04:12:00,891 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 04:12:01,585 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 04:12:02,277 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 04:12:02,277 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 04:12:02,449 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:12:02] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:19:32,935 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:19:32] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:19:33,472 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 04:19:34,000 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 04:19:34,173 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 04:19:34,174 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 04:19:34,517 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:19:34] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:21:07,840 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:21:07] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:21:08,368 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:21:08,543 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:21:08] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:23:49,613 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:23:49] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:23:50,148 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:23:50,319 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:23:50] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:25:29,782 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:25:29] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:25:30,350 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 04:25:30,874 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 04:25:31,045 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 04:25:31,046 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 04:25:31,390 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:25:31] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:26:01,358 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:26:01] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:26:01,876 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:26:02,047 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:26:02] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:26:19,261 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:26:19] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:26:19,785 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:26:19,956 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:26:19] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:27:01,999 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:27:01] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:27:02,526 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:27:02,699 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:27:02] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:27:26,415 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:27:26] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:27:26,939 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:27:27,112 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:27:27] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:27:34,331 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:27:34] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:27:34,853 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:27:35,027 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:27:35] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:28:43,857 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:28:43] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:28:44,392 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:28:44,567 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:28:44] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:29:04,629 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:29:04] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:29:05,148 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:29:05,319 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:29:05] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:29:27,006 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:29:27] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:29:27,537 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:29:27,712 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:29:27] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:30:08,350 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:30:08] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:30:08,915 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:30:09,095 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:30:09] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:30:55,269 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:30:55] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:30:55,800 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 04:30:56,329 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 04:30:56,504 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 04:30:56,505 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 04:30:56,853 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:30:56] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:31:35,124 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:31:35] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:31:35,662 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 04:31:35,841 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:31:35] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:34:45,643 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:34:45] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 04:34:46,173 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'message-d743cea6', 'label': 'Mensaje', 'message': 'Hola, buenas tardes', 'variables': [], 'lastUpdated': '2025-08-04T07:34:37.697Z'}, 'id': 'message-d743cea6', 'position': {'x': 879.0405403405136, 'y': -195.84570079560115}, 'type': 'message', 'width': 226, 'height': 104, 'selected': False, 'positionAbsolute': {'x': 879.0405403405136, 'y': -195.84570079560115}, 'dragging': False}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1358.030348281695, 'y': 667.9254608730865}, 'type': 'end', 'width': 304, 'height': 132, 'selected': True, 'positionAbsolute': {'x': 1358.030348281695, 'y': 667.9254608730865}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'label': 'Decisi√≥n', 'isEditing': False, 'question': 'Camino A, B o C?\n'}, 'id': 'decision-46e7ee01', 'position': {'x': 855.57969843152, 'y': -32.7063269695287}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 855.57969843152, 'y': -32.7063269695287}, 'dragging': False}, {'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 592.0990468147643, 'y': -343.672875598402}, 'type': 'start', 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 592.0990468147643, 'y': -343.672875598402}, 'dragging': False}, {'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'type': 'option', 'position': {'x': 567.9621513679633, 'y': 266.77118637632145}, 'data': {'sourceNode': 'decision-46e7ee01', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'A', 'instruction': 'A', 'color': '#3498db', 'lastUpdated': '2025-08-04T07:34:25.893Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 567.9621513679633, 'y': 266.77118637632145}, 'dragging': False}, {'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'type': 'option', 'position': {'x': 914.9318282429097, 'y': 307.73251540108333}, 'data': {'sourceNode': 'decision-46e7ee01', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'B', 'instruction': 'B', 'color': '#e74c3c', 'lastUpdated': '2025-08-04T07:34:25.893Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 914.9318282429097, 'y': 307.73251540108333}, 'dragging': False}, {'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'type': 'option', 'position': {'x': 1343.8241631673795, 'y': 327.7952071683136}, 'data': {'sourceNode': 'decision-46e7ee01', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'C', 'instruction': 'C', 'color': '#FFA500', 'lastUpdated': '2025-08-04T07:34:25.893Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1343.8241631673795, 'y': 327.7952071683136}, 'dragging': False}], 'edges': [{'id': '11699', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11700', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11704', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11705', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11706', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'edge-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}]}
2025-08-04 04:34:46,174 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 04:34:46,868 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 04:34:50,152 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 04:34:50,153 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 04:34:50,324 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 04:34:50] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:25:18,613 - root - INFO - Sistema de logging configurado correctamente
2025-08-04 21:25:18,620 - root - INFO - Sistema de logging configurado correctamente
2025-08-04 21:25:18,637 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-04 21:25:18,637 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-04 21:25:27,119 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:27] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:25:27,122 - app - WARNING - Authentication error: Signature has expired
2025-08-04 21:25:27,123 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:27] "[31m[1mGET /api/flow/256 HTTP/1.1[0m" 401 -
2025-08-04 21:25:27,139 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:27] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-04 21:25:27,140 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:27] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-04 21:25:27,141 - app - WARNING - Authentication error: Signature has expired
2025-08-04 21:25:27,142 - app - WARNING - Authentication error: Signature has expired
2025-08-04 21:25:27,142 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:27] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-04 21:25:27,143 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:27] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-04 21:25:27,149 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:27] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-04 21:25:27,151 - app - WARNING - Authentication error: Signature has expired
2025-08-04 21:25:27,151 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:27] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-04 21:25:30,825 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:30] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 21:25:34,526 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:34] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-04 21:25:34,554 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:34] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:25:37,525 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 21:25:38,059 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 21:25:38,237 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 21:25:38,238 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 21:25:38,580 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:25:38] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:34:32,982 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:34:32] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:34:33,547 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 21:34:34,106 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 21:34:34,282 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 21:34:34,283 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 21:34:34,630 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:34:34] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:34:47,461 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:34:47] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:34:48,009 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 592.0990468147643, 'y': -343.672875598402}, 'type': 'start', 'width': 198, 'height': 76}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje', 'lastUpdated': '2025-08-04T07:34:37.697Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-d743cea6', 'position': {'x': 879.0405403405136, 'y': -195.84570079560115}, 'type': 'message', 'width': 178, 'height': 58}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C?\n'}, 'id': 'decision-46e7ee01', 'position': {'x': 855.57969843152, 'y': -32.7063269695287}, 'type': 'decision', 'width': 198, 'height': 76}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'A', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 567.9621513679633, 'y': 266.77118637632145}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'B', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 914.9318282429097, 'y': 307.73251540108333}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'C', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'C'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1343.8241631673795, 'y': 327.7952071683136}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1358.030348281695, 'y': 667.9254608730865}, 'type': 'end', 'width': 198, 'height': 76}], 'edges': [{'id': '11707', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11708', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11709', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11710', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11711', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11712', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11713', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11714', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 21:34:48,010 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 21:34:48,710 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 21:34:50,788 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 21:34:50,788 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 21:34:50,959 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:34:50] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:34:56,233 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:34:56] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:34:57,170 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 592.0990468147643, 'y': -343.672875598402}, 'type': 'start', 'width': 150, 'height': 42}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje', 'lastUpdated': '2025-08-04T07:34:37.697Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-d743cea6', 'position': {'x': 879.0405403405136, 'y': -195.84570079560115}, 'type': 'message', 'width': 150, 'height': 40}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C?\n'}, 'id': 'decision-46e7ee01', 'position': {'x': 855.57969843152, 'y': -32.7063269695287}, 'type': 'decision', 'width': 150, 'height': 42}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'A', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 567.9621513679633, 'y': 266.77118637632145}, 'type': 'option', 'width': 150, 'height': 42}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'B', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 914.9318282429097, 'y': 307.73251540108333}, 'type': 'option', 'width': 150, 'height': 42}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'C', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'C'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1343.8241631673795, 'y': 327.7952071683136}, 'type': 'option', 'width': 150, 'height': 42}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1358.030348281695, 'y': 667.9254608730865}, 'type': 'end', 'width': 150, 'height': 42}], 'edges': [{'id': '11707', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11708', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11709', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11710', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11711', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11712', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11713', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11714', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 21:34:57,171 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 21:34:57,864 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 21:34:58,386 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 21:34:58,386 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 21:34:58,557 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:34:58] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:35:04,986 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:35:04] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:35:05,512 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 592.0990468147643, 'y': -343.672875598402}, 'type': 'start', 'width': 229, 'height': 156}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje', 'lastUpdated': '2025-08-04T07:34:37.697Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-d743cea6', 'position': {'x': 879.0405403405136, 'y': -195.84570079560115}, 'type': 'message', 'width': 226, 'height': 104}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C?\n'}, 'id': 'decision-46e7ee01', 'position': {'x': 855.57969843152, 'y': -32.7063269695287}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'A', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 567.9621513679633, 'y': 266.77118637632145}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'B', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 914.9318282429097, 'y': 307.73251540108333}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'C', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'C'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1343.8241631673795, 'y': 327.7952071683136}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1358.030348281695, 'y': 667.9254608730865}, 'type': 'end', 'width': 304, 'height': 132}], 'edges': [{'id': '11707', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11708', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11709', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11710', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11711', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11712', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11713', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11714', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 21:35:05,512 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 21:35:06,207 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 21:35:06,726 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 21:35:06,726 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 21:35:06,899 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:35:06] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:36:08,630 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:36:08] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:36:09,149 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 21:36:09,698 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 21:36:09,870 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 21:36:09,870 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 21:36:10,217 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:36:10] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:36:16,938 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:36:16] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:36:17,459 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 592.0990468147643, 'y': -343.672875598402}, 'type': 'start', 'width': 198, 'height': 76}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje', 'lastUpdated': '2025-08-04T07:34:37.697Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-d743cea6', 'position': {'x': 879.0405403405136, 'y': -195.84570079560115}, 'type': 'message', 'width': 178, 'height': 58}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C?\n'}, 'id': 'decision-46e7ee01', 'position': {'x': 855.57969843152, 'y': -32.7063269695287}, 'type': 'decision', 'width': 198, 'height': 76}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'A', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 567.9621513679633, 'y': 266.77118637632145}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'B', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 914.9318282429097, 'y': 307.73251540108333}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'C', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'C'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1343.8241631673795, 'y': 327.7952071683136}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1358.030348281695, 'y': 667.9254608730865}, 'type': 'end', 'width': 198, 'height': 76}], 'edges': [{'id': '11715', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11716', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11717', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11718', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11719', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11720', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11721', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11722', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 21:36:17,460 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 21:36:18,145 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 21:36:20,305 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 21:36:20,306 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 21:36:20,476 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:36:20] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:36:43,693 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:36:43] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:36:44,210 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 21:36:44,774 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 21:36:44,947 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 21:36:44,947 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 21:36:45,291 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:36:45] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:36:51,662 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:36:51] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:36:52,176 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 592.0990468147643, 'y': -343.672875598402}, 'type': 'start', 'width': 198, 'height': 76}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje', 'lastUpdated': '2025-08-04T07:34:37.697Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-d743cea6', 'position': {'x': 879.0405403405136, 'y': -195.84570079560115}, 'type': 'message', 'width': 178, 'height': 58}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C?\n'}, 'id': 'decision-46e7ee01', 'position': {'x': 855.57969843152, 'y': -32.7063269695287}, 'type': 'decision', 'width': 198, 'height': 76}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'A', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 567.9621513679633, 'y': 266.77118637632145}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'B', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 914.9318282429097, 'y': 307.73251540108333}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'C', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'C'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1343.8241631673795, 'y': 327.7952071683136}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1358.030348281695, 'y': 667.9254608730865}, 'type': 'end', 'width': 198, 'height': 76}], 'edges': [{'id': '11723', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11724', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11725', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11726', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11727', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11728', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11729', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11730', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 21:36:52,176 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 21:36:52,874 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 21:36:54,948 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 21:36:54,948 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 21:36:55,119 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:36:55] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:37:03,519 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:37:03] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:37:04,040 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 21:37:04,594 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 21:37:04,769 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 21:37:04,770 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 21:37:05,116 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:37:05] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:37:13,568 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:37:13] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:37:14,085 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 592.0990468147643, 'y': -343.672875598402}, 'type': 'start', 'width': 198, 'height': 76}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje', 'lastUpdated': '2025-08-04T07:34:37.697Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-d743cea6', 'position': {'x': 879.0405403405136, 'y': -195.84570079560115}, 'type': 'message', 'width': 178, 'height': 58}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C?\n'}, 'id': 'decision-46e7ee01', 'position': {'x': 855.57969843152, 'y': -32.7063269695287}, 'type': 'decision', 'width': 198, 'height': 76}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'A', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 567.9621513679633, 'y': 266.77118637632145}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'B', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 914.9318282429097, 'y': 307.73251540108333}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'C', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'C'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1343.8241631673795, 'y': 327.7952071683136}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1358.030348281695, 'y': 667.9254608730865}, 'type': 'end', 'width': 198, 'height': 76}], 'edges': [{'id': '11731', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11732', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11733', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11734', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11735', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11736', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11737', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11738', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 21:37:14,085 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 21:37:14,775 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 21:37:16,858 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 21:37:16,858 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 21:37:17,029 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:37:17] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:37:17,344 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 592.0990468147643, 'y': -343.672875598402}, 'type': 'start', 'width': 198, 'height': 76}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje', 'lastUpdated': '2025-08-04T07:34:37.697Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-d743cea6', 'position': {'x': 879.0405403405136, 'y': -195.84570079560115}, 'type': 'message', 'width': 178, 'height': 58}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C?\n'}, 'id': 'decision-46e7ee01', 'position': {'x': 855.57969843152, 'y': -32.7063269695287}, 'type': 'decision', 'width': 198, 'height': 76}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'A', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 567.9621513679633, 'y': 266.77118637632145}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'B', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 914.9318282429097, 'y': 307.73251540108333}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'C', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'C'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1343.8241631673795, 'y': 327.7952071683136}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1358.030348281695, 'y': 667.9254608730865}, 'type': 'end', 'width': 198, 'height': 76}], 'edges': [{'id': '11731', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11732', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11733', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11734', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11735', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11736', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11737', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11738', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 21:37:17,345 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 21:37:18,041 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 21:37:18,565 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 21:37:18,565 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 21:37:18,738 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:37:18] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:37:37,028 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:37:37] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:37:37,547 - api.flow_api - INFO - [PATCH /api/flow/256] Received raw data: {'plubotId': '256', 'flowName': 'Luz Cosmica', 'nodes': [{'data': {'id': 'start-6e11faab', 'label': 'Inicio'}, 'id': 'start-6e11faab', 'position': {'x': 592.0990468147643, 'y': -343.672875598402}, 'type': 'start', 'width': 198, 'height': 76}, {'data': {'id': 'message-d743cea6', 'label': 'Mensaje', 'lastUpdated': '2025-08-04T07:34:37.697Z', 'message': 'Hola, buenas tardes', 'variables': []}, 'id': 'message-d743cea6', 'position': {'x': 879.0405403405136, 'y': -195.84570079560115}, 'type': 'message', 'width': 178, 'height': 58}, {'data': {'conditions': [{'color': '#3498db', 'id': '9b91290d-1543-445d-8a91-c06acc2f353b', 'text': 'A'}, {'color': '#e74c3c', 'id': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-46e7ee01', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C?\n'}, 'id': 'decision-46e7ee01', 'position': {'x': 855.57969843152, 'y': -32.7063269695287}, 'type': 'decision', 'width': 198, 'height': 76}, {'data': {'color': '#3498db', 'conditionId': '9b91290d-1543-445d-8a91-c06acc2f353b', 'instruction': 'A', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'A'}, 'id': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'position': {'x': 567.9621513679633, 'y': 266.77118637632145}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#e74c3c', 'conditionId': 'f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'instruction': 'B', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'B'}, 'id': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'position': {'x': 914.9318282429097, 'y': 307.73251540108333}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#FFA500', 'conditionId': 'condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'instruction': 'C', 'lastUpdated': '2025-08-04T07:34:25.893Z', 'sourceNode': 'decision-46e7ee01', 'text': 'C'}, 'id': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'position': {'x': 1343.8241631673795, 'y': 327.7952071683136}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'id': 'end-9249fd21', 'label': 'Fin'}, 'id': 'end-9249fd21', 'position': {'x': 1358.030348281695, 'y': 667.9254608730865}, 'type': 'end', 'width': 198, 'height': 76}], 'edges': [{'id': '11731', 'source': 'start-6e11faab', 'target': 'message-d743cea6', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11732', 'source': 'message-d743cea6', 'target': 'decision-46e7ee01', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11733', 'source': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11734', 'source': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11735', 'source': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'target': 'end-9249fd21', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11736', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-9b91290d-1543-445d-8a91-c06acc2f353b', 'sourceHandle': 'output-9b91290d-1543-445d-8a91-c06acc2f353b', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11737', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'sourceHandle': 'output-f6512e5e-1461-4bb8-ab03-9397f3d04f9c', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11738', 'source': 'decision-46e7ee01', 'target': 'option-decision-46e7ee01-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'sourceHandle': 'output-condition-c33f700d-69cb-4e3c-bbdc-4631b4ac5733', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 21:37:37,548 - api.flow_api - INFO - [PATCH /api/flow/256] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-04 21:37:38,243 - api.flow_api - INFO - [update_full_flow - plubot_id=256] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-04 21:37:38,771 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 256
2025-08-04 21:37:38,771 - api.flow_api - INFO - Flujo actualizado para plubot 256 por usuario 75
2025-08-04 21:37:38,943 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:37:38] "PATCH /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:41:44,808 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:41:44] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:41:45,338 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 21:41:45,865 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 21:41:46,037 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 21:41:46,038 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 21:41:46,383 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:41:46] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:41:57,367 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:41:57] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:41:57,879 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:41:58,054 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:41:58] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:42:05,743 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:42:05] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:42:06,264 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:42:06,438 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:42:06] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:42:14,880 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:42:14] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:42:15,399 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:42:15,570 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:42:15] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:42:32,813 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:42:32] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:42:33,334 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:42:33,508 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:42:33] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:42:48,257 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:42:48] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:42:48,770 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:42:48,943 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:42:48] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:43:00,869 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:43:00] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:43:01,391 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:43:01,568 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:43:01] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:43:44,036 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:43:44] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:43:44,555 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:43:44,726 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:43:44] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:44:03,876 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:03] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:44:04,408 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:44:04,619 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:04] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:44:37,313 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:37] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 21:44:37,313 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:37] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 21:44:37,323 - app - WARNING - Authentication error: Signature has expired
2025-08-04 21:44:37,325 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:37] "[31m[1mGET /api/flow/258 HTTP/1.1[0m" 401 -
2025-08-04 21:44:37,328 - app - WARNING - Authentication error: Signature has expired
2025-08-04 21:44:37,329 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:37] "[31m[1mGET /api/flow/258 HTTP/1.1[0m" 401 -
2025-08-04 21:44:37,344 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:37] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-04 21:44:37,347 - app - WARNING - Authentication error: Signature has expired
2025-08-04 21:44:37,348 - app - WARNING - Authentication error: Signature has expired
2025-08-04 21:44:37,349 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:37] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-04 21:44:37,349 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:37] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-04 21:44:37,528 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:37] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-04 21:44:37,531 - app - WARNING - Authentication error: Signature has expired
2025-08-04 21:44:37,532 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:37] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-04 21:44:46,099 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:46] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 21:44:47,247 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:47] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-04 21:44:47,332 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:47] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 21:44:47,335 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:47] "OPTIONS /api/flow/258 HTTP/1.1" 200 -
2025-08-04 21:44:47,853 - api.flow_api - INFO - Cache miss for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 21:44:48,534 - api.flow_api - INFO - DB query for flows returned 12 items.
2025-08-04 21:44:48,707 - api.flow_api - INFO - DB query for edges returned 14 items.
2025-08-04 21:44:48,707 - api.flow_api - INFO - Flow data for plubot 258 stored in cache with key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 21:44:49,052 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:49] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 21:44:49,591 - api.flow_api - INFO - Cache hit for key flow:258:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:44:49,767 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:44:49] "GET /api/flow/258 HTTP/1.1" 200 -
2025-08-04 21:47:03,963 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:47:03] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:47:04,492 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 21:47:05,017 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 21:47:05,189 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 21:47:05,190 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 21:47:05,532 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:47:05] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:55:16,043 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:55:16] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:55:16,568 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 21:55:17,094 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 21:55:17,287 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 21:55:17,288 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 21:55:17,631 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:55:17] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:55:32,916 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:55:32] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:55:33,433 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:55:33,603 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:55:33] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:55:44,765 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:55:44] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:55:45,284 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:55:45,456 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:55:45] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:55:59,718 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:55:59] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:56:00,240 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:56:00,412 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:56:00] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:56:11,566 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:56:11] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:56:12,092 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:56:12,265 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:56:12] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:56:25,814 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:56:25] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:56:26,333 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:56:26,504 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:56:26] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:56:38,460 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:56:38] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:56:38,980 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:56:39,153 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:56:39] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:57:04,777 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:57:04] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:57:05,295 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:57:05,466 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:57:05] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:57:21,550 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:57:21] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:57:22,074 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:57:22,250 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:57:22] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:57:33,363 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:57:33] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:57:33,884 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:57:34,058 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:57:34] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:58:18,511 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:58:18] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:58:19,039 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:58:19,211 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:58:19] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:59:56,911 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:59:56] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:59:57,465 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:59:57,992 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:59:57] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 21:59:59,229 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 21:59:59,402 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 21:59:59] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:00:15,427 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:00:15] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:00:15,949 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 22:00:16,121 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:00:16] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:00:29,433 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:00:29] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:00:29,970 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 22:00:30,496 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 22:00:30,668 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 22:00:30,668 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 22:00:31,012 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:00:31] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:00:49,379 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:00:49] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:00:49,892 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 22:00:50,103 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:00:50] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:01:03,989 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:01:03] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:01:04,571 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 22:01:04,756 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:01:04] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:01:19,861 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:01:19] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:01:20,381 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 22:01:20,550 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:01:20] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:01:38,698 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:01:38] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:01:39,222 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 22:01:39,396 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:01:39] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:01:54,231 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:01:54] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:01:54,749 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 22:01:54,920 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:01:54] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:05:16,220 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:05:16] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:05:16,759 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 22:05:16,933 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:05:16] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:05:30,037 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:05:30] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:05:30,558 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 22:05:30,729 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:05:30] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:06:16,960 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:06:16] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:06:17,486 - api.flow_api - INFO - Cache miss for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 22:06:18,005 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-04 22:06:18,178 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-04 22:06:18,179 - api.flow_api - INFO - Flow data for plubot 256 stored in cache with key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 22:06:18,521 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:06:18] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:06:29,093 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:06:29] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:06:29,615 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 22:06:29,785 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:06:29] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:06:42,041 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:06:42] "OPTIONS /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:06:42,568 - api.flow_api - INFO - Cache hit for key flow:256:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 22:06:42,741 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:06:42] "GET /api/flow/256 HTTP/1.1" 200 -
2025-08-04 22:23:57,907 - root - INFO - Sistema de logging configurado correctamente
2025-08-04 22:23:57,914 - root - INFO - Sistema de logging configurado correctamente
2025-08-04 22:24:02,379 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-04 22:24:02,380 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-04 22:25:08,771 - api.auth - INFO - Recibida solicitud para /api/auth/register con m√©todo OPTIONS
2025-08-04 22:25:08,773 - api.auth - INFO - Respondiendo a solicitud OPTIONS para /api/auth/register
2025-08-04 22:25:08,775 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:25:08] "OPTIONS /api/auth/register HTTP/1.1" 200 -
2025-08-04 22:25:08,989 - api.auth - INFO - Recibida solicitud para /api/auth/register con m√©todo POST
2025-08-04 22:25:13,000 - api.auth - INFO - Iniciando env√≠o de email de verificaci√≥n para rural.salmon.tspe@rapidletter.net
2025-08-04 22:25:18,011 - api.auth - INFO - Correo de verificaci√≥n encolado para env√≠o as√≠ncrono a rural.salmon.tspe@rapidletter.net
2025-08-04 22:25:18,186 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:25:18] "[35m[1mPOST /api/auth/register HTTP/1.1[0m" 201 -
2025-08-04 22:25:27,874 - api.auth - INFO - Correo as√≠ncrono enviado exitosamente a ['rural.salmon.tspe@rapidletter.net']
2025-08-04 22:26:03,047 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:26:03] "GET /api/auth/verify-email/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc1NDM1NzExMywianRpIjoiMTVjNTMwYTctZGE2Zi00YWIyLWI3YzYtN2U4NGNkYWNjMjgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6Ijc3IiwibmJmIjoxNzU0MzU3MTEzLCJjc3JmIjoiNzJiYTA1NDItNTdjYS00OTUyLTgzZGEtZDIzYTQwZjU2OGNlIiwiZXhwIjoxNzU0NDQzNTEzLCJwdXJwb3NlIjoiZW1haWxfdmVyaWZ5In0.mYM_DkOVG5ehcZCc6lxlfDjbV76Z9ctpMzo4eM9JxAE HTTP/1.1" 200 -
2025-08-04 22:26:14,178 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:26:14] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 22:26:15,398 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:26:15] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-04 22:26:38,273 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:26:38] "OPTIONS /api/plubots/create HTTP/1.1" 200 -
2025-08-04 22:26:42,497 - services.grok_service - INFO - Successfully connected to Redis for caching.
2025-08-04 22:26:45,488 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:26:45] "POST /api/plubots/create HTTP/1.1" 200 -
2025-08-04 22:26:45,505 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:26:45] "OPTIONS /api/auth/profile HTTP/1.1" 200 -
2025-08-04 22:26:46,907 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:26:46] "GET /api/auth/profile HTTP/1.1" 200 -
2025-08-04 22:26:48,175 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:26:48] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-04 22:26:48,705 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 22:26:49,241 - api.flow_api - INFO - DB query for flows returned 0 items.
2025-08-04 22:26:49,418 - api.flow_api - INFO - DB query for edges returned 0 items.
2025-08-04 22:26:49,419 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 22:26:49,767 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:26:49] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-04 22:27:17,675 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:27:17] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-04 22:27:18,203 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'id': 'start-d3ff0172', 'type': 'start', 'position': {'x': 864.4081504480196, 'y': -249.18883032096892}, 'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 864.4081504480196, 'y': -249.18883032096892}, 'dragging': False}, {'id': 'message-e7acdc11', 'type': 'message', 'position': {'x': 1092.65590573933, 'y': -101.92430194910125}, 'data': {'id': 'message-e7acdc11', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 1092.65590573933, 'y': -101.92430194910125}, 'dragging': False}, {'id': 'decision-a3aac460', 'type': 'decision', 'position': {'x': 1027.3234399742028, 'y': 62.686802901111264}, 'data': {'id': 'decision-a3aac460', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B', 'color': '#e74c3c'}, {'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': True, 'positionAbsolute': {'x': 1027.3234399742028, 'y': 62.686802901111264}, 'dragging': False}, {'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'type': 'option', 'position': {'x': 607.7928014201378, 'y': 356.1460010783522}, 'data': {'sourceNode': 'decision-a3aac460', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db', 'lastUpdated': '2025-08-05T01:26:58.495Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 607.7928014201378, 'y': 356.1460010783522}, 'dragging': False}, {'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'type': 'option', 'position': {'x': 969.7264922603217, 'y': 343.10518272803955}, 'data': {'sourceNode': 'decision-a3aac460', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c', 'lastUpdated': '2025-08-05T01:26:58.495Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 969.7264922603217, 'y': 343.10518272803955}, 'dragging': False}, {'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'type': 'option', 'position': {'x': 1312.0989555750366, 'y': 361.5796753909825}, 'data': {'sourceNode': 'decision-a3aac460', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-05T01:26:58.495Z'}, 'draggable': True, 'deletable': True, 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1312.0989555750366, 'y': 361.5796753909825}, 'dragging': False}, {'id': 'end-ff1c18ed', 'type': 'end', 'position': {'x': 1539.1755602239762, 'y': 756.0236451927364}, 'data': {'id': 'end-ff1c18ed', 'label': 'Fin'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 304, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1539.1755602239762, 'y': 756.0236451927364}, 'dragging': False}, {'id': 'aiNodePro-26dbe8a8', 'type': 'aiNodePro', 'position': {'x': 842.578513344773, 'y': 707.1205763790637}, 'data': {'id': 'aiNodePro-26dbe8a8', 'label': 'IA Pro', 'nodeType': 'aiNodePro', 'isCollapsed': True}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 300, 'height': 49, 'selected': False, 'dragging': False, 'positionAbsolute': {'x': 842.578513344773, 'y': 707.1205763790637}}], 'edges': [{'id': 'reactflow__edge-start-d3ff0172output-message-e7acdc11input', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-message-e7acdc11default-decision-a3aac460input', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'edge-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289source-aiNodePro-26dbe8a8input', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'aiNodePro-26dbe8a8', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-aiNodePro-26dbe8a8output-end-ff1c18edinput', 'source': 'aiNodePro-26dbe8a8', 'target': 'end-ff1c18ed', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94fsource-end-ff1c18edinput', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2basource-end-ff1c18edinput', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-04 22:27:18,204 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-04 22:27:18,904 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-04 22:27:21,142 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-04 22:27:21,142 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-04 22:27:21,315 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 22:27:21] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:55:04,956 - root - INFO - Sistema de logging configurado correctamente
2025-08-04 23:55:04,964 - root - INFO - Sistema de logging configurado correctamente
2025-08-04 23:55:04,982 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-04 23:55:04,982 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-04 23:55:18,611 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:18] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:55:18,615 - app - WARNING - Authentication error: Signature has expired
2025-08-04 23:55:18,615 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:18] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-04 23:55:18,634 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:18] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-04 23:55:18,636 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:18] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-04 23:55:18,643 - app - WARNING - Authentication error: Signature has expired
2025-08-04 23:55:18,643 - app - WARNING - Authentication error: Signature has expired
2025-08-04 23:55:18,644 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:18] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-04 23:55:18,644 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:18] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-04 23:55:18,651 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:18] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-04 23:55:18,655 - app - WARNING - Authentication error: Signature has expired
2025-08-04 23:55:18,656 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:18] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-04 23:55:21,307 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:21] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-04 23:55:24,989 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:24] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-04 23:55:25,014 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:55:28,061 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 23:55:28,592 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-04 23:55:28,766 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-04 23:55:28,766 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 23:55:29,118 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:55:58,717 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:58] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:55:59,230 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 23:55:59,400 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:55:59] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:56:48,807 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:56:48] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:56:49,322 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 788.0530320632624, 'y': -268.58060641868497}, 'type': 'start', 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 788.0530320632624, 'y': -268.58060641868497}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'message': 'Hola, buenas tardes', 'variables': [], 'lastUpdated': '2025-08-05T02:56:45.970Z'}, 'id': 'message-e7acdc11', 'position': {'x': 1075.6881016538282, 'y': -145.55579816896247}, 'type': 'message', 'width': 226, 'height': 104, 'selected': True, 'positionAbsolute': {'x': 1075.6881016538282, 'y': -145.55579816896247}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1029.7474119864173, 'y': 60.26283088889673}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1029.7474119864173, 'y': 60.26283088889673}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 571.7994253721921, 'y': 356.2593746786437}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 571.7994253721921, 'y': 356.2593746786437}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 996.3901843946815, 'y': 361.28497281964843}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 996.3901843946815, 'y': 361.28497281964843}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1379.970171917043, 'y': 365.21563340930425}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1379.970171917043, 'y': 365.21563340930425}, 'dragging': False}, {'data': {'id': 'end-ff1c18ed', 'label': 'Fin'}, 'id': 'end-ff1c18ed', 'position': {'x': 1539.1755602239762, 'y': 756.0236451927364}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'aiNodePro-26dbe8a8', 'isCollapsed': True, 'label': 'IA Pro', 'nodeType': 'aiNodePro'}, 'id': 'aiNodePro-26dbe8a8', 'position': {'x': 805.3731512907201, 'y': 748.524244321545}, 'type': 'aiNodePro', 'width': 300, 'height': 49, 'selected': False, 'positionAbsolute': {'x': 805.3731512907201, 'y': 748.524244321545}, 'dragging': False}], 'edges': [{'id': '11747', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11748', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11749', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11750', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11751', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11752', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'aiNodePro-26dbe8a8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11753', 'source': 'aiNodePro-26dbe8a8', 'target': 'end-ff1c18ed', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11754', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11755', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 23:56:49,322 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-04 23:56:50,097 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-04 23:56:52,139 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-04 23:56:52,314 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:56:52] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:56:53,567 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-04 23:56:53,568 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-04 23:56:53,738 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:56:53] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:57:07,197 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:57:07] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:57:07,716 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 864.4081504480196, 'y': -249.18883032096892}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'message': 'Hola, buenas tardes', 'variables': [], 'lastUpdated': '2025-08-05T02:57:04.898Z'}, 'id': 'message-e7acdc11', 'position': {'x': 1131.0035243729255, 'y': -97.02886127247203}, 'type': 'message', 'width': 226, 'height': 104, 'selected': True, 'dragging': False, 'positionAbsolute': {'x': 1131.0035243729255, 'y': -97.02886127247203}}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1027.3234399742028, 'y': 62.686802901111264}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 607.7928014201378, 'y': 356.1460010783522}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 969.7264922603217, 'y': 343.10518272803955}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1312.0989555750366, 'y': 361.5796753909825}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'end-ff1c18ed', 'label': 'Fin'}, 'id': 'end-ff1c18ed', 'position': {'x': 1539.1755602239762, 'y': 756.0236451927364}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'aiNodePro-26dbe8a8', 'isCollapsed': True, 'label': 'IA Pro', 'nodeType': 'aiNodePro'}, 'id': 'aiNodePro-26dbe8a8', 'position': {'x': 842.578513344773, 'y': 707.1205763790637}, 'type': 'aiNodePro', 'width': 300, 'height': 49}], 'edges': [{'id': '11747', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11748', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11749', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11750', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11751', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11752', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'aiNodePro-26dbe8a8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11753', 'source': 'aiNodePro-26dbe8a8', 'target': 'end-ff1c18ed', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11754', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11755', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-04 23:57:07,717 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-04 23:57:08,410 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-04 23:57:10,169 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-04 23:57:10,170 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-04 23:57:10,342 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:57:10] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:57:53,256 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:57:53] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-04 23:57:53,769 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-04 23:57:54,292 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-04 23:57:54,469 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-04 23:57:54,470 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-04 23:57:54,813 - werkzeug - INFO - 127.0.0.1 - - [04/Aug/2025 23:57:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:12:24,466 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:12:24] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:12:24,991 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 00:12:25,510 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 00:12:25,682 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 00:12:25,682 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 00:12:26,025 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:12:26] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:12:28,460 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:12:28,630 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:12:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:13:40,905 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:13:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:13:41,428 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:13:41,600 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:13:41] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:14:33,969 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:14:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:14:34,484 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:14:34,653 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:14:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:17:53,164 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:17:53] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:17:53,692 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 00:17:54,213 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 00:17:54,390 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 00:17:54,391 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 00:17:54,734 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:17:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:19:02,283 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:19:02] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:19:02,799 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:19:02,970 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:19:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:19:53,982 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:19:53] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:19:54,510 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:19:54,683 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:19:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:21:12,605 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:21:12] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:21:13,122 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:21:13,302 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:21:13] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:22:57,792 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:22:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:22:58,310 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 00:22:58,832 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 00:22:59,003 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 00:22:59,004 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 00:22:59,347 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:22:59] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:27:24,005 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:27:24] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:27:24,532 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:27:24,707 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:27:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:27:38,232 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:27:38] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:27:38,752 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:27:38,924 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:27:38] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:27:51,617 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:27:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:27:52,139 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:27:52,311 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:27:52] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:28:04,495 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:28:04] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:28:05,017 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 00:28:05,549 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 00:28:05,727 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 00:28:05,728 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 00:28:06,077 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:28:06] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:28:14,857 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:28:14] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-05 00:28:16,080 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:28:16] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-05 00:28:58,983 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:28:58] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 00:29:00,099 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:29:00] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 00:29:00,155 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:29:00] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:29:00,748 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:29:00,920 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:29:00] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:33:28,148 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:33:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:33:28,676 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 00:33:29,194 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 00:33:29,365 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 00:33:29,365 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 00:33:29,709 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:33:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:33:39,842 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:33:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:33:40,384 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:33:40,555 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:33:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:36:12,816 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:36:12] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:36:13,359 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:36:13,532 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:36:13] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:36:50,607 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:36:50] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:36:51,125 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:36:51,298 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:36:51] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:37:44,889 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:37:44] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:37:45,413 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:37:45,586 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:37:45] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:50:29,563 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:50:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:50:30,096 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 00:50:30,621 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 00:50:30,795 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 00:50:30,795 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 00:50:31,139 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:50:31] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:52:07,125 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:52:07] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:52:07,648 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:52:07,821 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:52:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:53:05,920 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:53:05] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:53:06,447 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:53:06,620 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:53:06] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:53:40,955 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:53:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:53:41,478 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:53:41,650 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:53:41] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:54:42,317 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:54:42] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:54:42,835 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:54:43,009 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:54:43] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:55:03,205 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:55:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:55:03,731 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:55:03,903 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:55:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:55:29,926 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:55:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:55:30,442 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 00:55:30,614 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:55:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:56:03,719 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:56:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 00:56:04,259 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 00:56:04,802 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 00:56:04,997 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 00:56:04,998 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 00:56:05,343 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 00:56:05] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 01:02:00,703 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 01:02:00] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 01:02:01,231 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 01:02:01,752 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 01:02:01,923 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 01:02:01,924 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 01:02:02,266 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 01:02:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 01:15:28,177 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 01:15:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 01:15:28,697 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 01:15:29,213 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 01:15:29,383 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 01:15:29,383 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 01:15:29,722 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 01:15:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 01:22:20,029 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 01:22:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 01:22:20,577 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 01:22:21,106 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 01:22:21,281 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 01:22:21,282 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 01:22:21,634 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 01:22:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 01:27:51,710 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 01:27:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 01:27:52,242 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 01:27:52,782 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 01:27:52,956 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 01:27:52,956 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 01:27:53,299 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 01:27:53] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:15:43,793 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:15:43] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-05 02:15:43,798 - app - WARNING - Authentication error: Signature has expired
2025-08-05 02:15:43,799 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:15:43] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-05 02:15:47,217 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:15:47] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 02:15:48,331 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:15:48] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 02:15:48,426 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:15:48] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:15:48,945 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 02:15:49,470 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 02:15:49,643 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 02:15:49,644 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 02:15:50,072 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:15:50] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:17:25,010 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:17:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:17:25,540 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 02:17:25,713 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:17:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:18:06,596 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:18:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:18:07,116 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 02:18:07,288 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:18:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:19:27,250 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:19:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:19:27,771 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 02:19:27,941 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:19:27] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:35:40,441 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:35:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:35:40,975 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 02:35:41,498 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 02:35:41,674 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 02:35:41,674 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 02:35:42,017 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:35:42] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:45:44,592 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:45:44] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:45:45,111 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 02:45:45,632 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 02:45:45,805 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 02:45:45,805 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 02:45:46,147 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:45:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:46:14,136 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:46:14] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:46:14,658 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 02:46:14,829 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:46:14] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:46:43,840 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:46:43] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:46:44,366 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 02:46:44,536 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:46:44] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:47:53,423 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:47:53] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:47:53,980 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 02:47:54,151 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:47:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:49:32,868 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:49:32] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 02:49:33,389 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 02:49:33,559 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 02:49:33] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:00:04,854 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:00:04] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:00:05,379 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 03:00:05,907 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 03:00:06,080 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 03:00:06,081 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 03:00:06,423 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:00:06] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:12:01,244 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:12:01] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:12:01,767 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'end-ff1c18ed', 'label': 'Fin'}, 'id': 'end-ff1c18ed', 'position': {'x': 1912.5868004149106, 'y': 641.7709522984953}, 'type': 'end', 'width': 303, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1912.5868004149106, 'y': 641.7709522984953}, 'dragging': False}, {'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 1069.2270023437932, 'y': -406.6346144313256}, 'type': 'start', 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 1069.2270023437932, 'y': -406.6346144313256}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T06:11:18.031Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}', 'variables': [{'name': 'cliente', 'value': 'juan', 'id': 1754373613844}, {'name': 'precio', 'value': '$100', 'id': 1754373995922}]}, 'id': 'message-e7acdc11', 'position': {'x': 1224.8920176537272, 'y': -210.49750073210916}, 'type': 'message', 'width': 327, 'height': 104, 'selected': False, 'positionAbsolute': {'x': 1224.8920176537272, 'y': -210.49750073210916}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1243.2888960547805, 'y': -39.02596028522535}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1243.2888960547805, 'y': -39.02596028522535}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 861.3780466244292, 'y': 283.6930738771261}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 861.3780466244292, 'y': 283.6930738771261}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1230.2783650801155, 'y': 315.2386722660296}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1230.2783650801155, 'y': 315.2386722660296}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1585.190758102735, 'y': 275.1934929587514}, 'type': 'option', 'width': 320, 'height': 127, 'selected': True, 'positionAbsolute': {'x': 1585.190758102735, 'y': 275.1934929587514}, 'dragging': False}, {'data': {'id': 'aiNodePro-26dbe8a8', 'isCollapsed': True, 'label': 'IA Pro', 'nodeType': 'aiNodePro'}, 'id': 'aiNodePro-26dbe8a8', 'position': {'x': 1033.4641100095419, 'y': 676.4674148708526}, 'type': 'aiNodePro', 'width': 300, 'height': 49, 'selected': False, 'positionAbsolute': {'x': 1033.4641100095419, 'y': 676.4674148708526}, 'dragging': False}], 'edges': [{'id': '11756', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11757', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11758', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11759', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11760', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11761', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'aiNodePro-26dbe8a8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11762', 'source': 'aiNodePro-26dbe8a8', 'target': 'end-ff1c18ed', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11763', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11764', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-05 03:12:01,769 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-05 03:12:02,467 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-05 03:12:06,122 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-05 03:12:06,122 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-05 03:12:06,293 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:12:06] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:12:22,519 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:12:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:12:23,033 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 03:12:23,553 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 03:12:23,725 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 03:12:23,726 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 03:12:24,073 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:12:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:12:56,894 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:12:56] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:12:57,415 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 03:12:57,586 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:12:57] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:13:08,235 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:13:08] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:13:08,761 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 03:13:08,930 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:13:08] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:15:34,821 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:15:34] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:15:35,342 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 03:15:35,516 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:15:35] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:18:56,556 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:18:56] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-05 03:18:56,559 - app - WARNING - Authentication error: Signature has expired
2025-08-05 03:18:56,560 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:18:56] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-05 03:20:00,517 - app - WARNING - Authentication error: Missing Authorization Header
2025-08-05 03:20:00,519 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:20:00] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-05 03:20:04,021 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:20:04] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 03:20:05,128 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:20:05] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 03:20:05,174 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:20:05] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:20:05,691 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 03:20:06,210 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 03:20:06,381 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 03:20:06,382 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 03:20:06,723 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:20:06] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:21:52,058 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:21:52] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:21:52,580 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 03:21:52,752 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:21:52] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:24:35,912 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:24:35] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:24:36,423 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 03:24:36,592 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:24:36] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:27:53,569 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:27:53] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:27:54,082 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 03:27:54,607 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 03:27:54,781 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 03:27:54,782 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 03:27:55,127 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:27:55] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:28:25,148 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:28:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:28:25,672 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 03:28:25,849 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:28:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:29:02,729 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:29:02] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:29:03,243 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 03:29:03,412 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:29:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:32:00,719 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:32:00] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:32:01,240 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 03:32:01,415 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:32:01] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:33:15,816 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:33:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:33:16,329 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 03:33:16,852 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 03:33:17,027 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 03:33:17,027 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 03:33:17,369 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:33:17] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:37:11,520 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:37:11] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:37:12,037 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 03:37:12,209 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:37:12] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:44:41,778 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:44:41] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:44:42,295 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 03:44:42,815 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 03:44:42,987 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 03:44:42,987 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 03:44:43,328 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:44:43] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:45:10,984 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:45:10] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:45:11,503 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 03:45:11,676 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:45:11] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:54:47,184 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:54:47] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 03:54:47,718 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 03:54:48,239 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 03:54:48,412 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 03:54:48,413 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 03:54:48,758 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 03:54:48] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:06:28,155 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:06:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:06:28,678 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 04:06:29,197 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 04:06:29,371 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 04:06:29,372 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 04:06:29,715 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:06:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:09:13,235 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:09:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:09:13,752 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 1069.2270023437932, 'y': -406.6346144313256}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:08:19.439Z', 'message': 'Hola,{{cliente}} buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirrecion es {{direccion}} {{precio}}{{cliente}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'name': 'direccion', 'value': 'Calle Felicidad 1080', 'id': 1754377622209}]}, 'id': 'message-e7acdc11', 'position': {'x': 1419.705173459305, 'y': -288.3899666338767}, 'type': 'message', 'width': 686, 'height': 113, 'selected': True, 'positionAbsolute': {'x': 1419.705173459305, 'y': -288.3899666338767}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1243.2888960547805, 'y': -39.02596028522535}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 861.3780466244292, 'y': 283.6930738771261}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1230.2783650801155, 'y': 315.2386722660296}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1585.190758102735, 'y': 275.1934929587514}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'end-ff1c18ed', 'label': 'Fin'}, 'id': 'end-ff1c18ed', 'position': {'x': 1912.5868004149106, 'y': 641.7709522984953}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'id': 'aiNodePro-26dbe8a8', 'isCollapsed': True, 'label': 'IA Pro', 'nodeType': 'aiNodePro'}, 'id': 'aiNodePro-26dbe8a8', 'position': {'x': 1033.4641100095419, 'y': 676.4674148708526}, 'type': 'aiNodePro', 'width': 300, 'height': 49}], 'edges': [{'id': '11765', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11766', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11767', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11768', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11769', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11770', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'aiNodePro-26dbe8a8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11771', 'source': 'aiNodePro-26dbe8a8', 'target': 'end-ff1c18ed', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11772', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11773', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-05 04:09:13,752 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-05 04:09:14,440 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-05 04:09:15,269 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 04:09:15,441 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:09:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:09:16,857 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-05 04:09:16,857 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-05 04:09:17,028 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:09:17] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:09:54,945 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:09:54] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:09:55,460 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 1069.2270023437932, 'y': -406.6346144313256}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:09:52.716Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'name': 'direccion', 'value': 'Calle Felicidad, 111', 'id': 1754377769347}]}, 'id': 'message-e7acdc11', 'position': {'x': 1373.812908747261, 'y': -251.617448272861}, 'type': 'message', 'width': 587, 'height': 113, 'selected': True, 'dragging': False, 'positionAbsolute': {'x': 1373.812908747261, 'y': -251.617448272861}}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1243.2888960547805, 'y': -39.02596028522535}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 861.3780466244292, 'y': 283.6930738771261}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1230.2783650801155, 'y': 315.2386722660296}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1585.190758102735, 'y': 275.1934929587514}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'end-ff1c18ed', 'label': 'Fin'}, 'id': 'end-ff1c18ed', 'position': {'x': 1912.5868004149106, 'y': 641.7709522984953}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'id': 'aiNodePro-26dbe8a8', 'isCollapsed': True, 'label': 'IA Pro', 'nodeType': 'aiNodePro'}, 'id': 'aiNodePro-26dbe8a8', 'position': {'x': 1033.4641100095419, 'y': 676.4674148708526}, 'type': 'aiNodePro', 'width': 300, 'height': 49}], 'edges': [{'id': '11765', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11766', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11767', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11768', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11769', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11770', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'aiNodePro-26dbe8a8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11771', 'source': 'aiNodePro-26dbe8a8', 'target': 'end-ff1c18ed', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11772', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11773', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-05 04:09:55,461 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-05 04:09:56,155 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-05 04:09:56,847 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-05 04:09:56,847 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-05 04:09:57,017 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:09:57] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:11:04,309 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:11:04] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:11:04,903 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 04:11:05,428 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 04:11:05,599 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 04:11:05,600 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 04:11:05,942 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:11:05] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:18:33,257 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:18:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:18:33,784 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 04:18:34,303 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 04:18:34,475 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 04:18:34,475 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 04:18:34,816 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:18:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:28:11,947 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:11] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:28:11,952 - app - WARNING - Authentication error: Signature has expired
2025-08-05 04:28:11,953 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:11] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-05 04:28:11,963 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:11] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-05 04:28:11,963 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:11] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-05 04:28:11,968 - app - WARNING - Authentication error: Signature has expired
2025-08-05 04:28:11,968 - app - WARNING - Authentication error: Signature has expired
2025-08-05 04:28:11,969 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:11] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-05 04:28:11,969 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:11] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-05 04:28:11,988 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:11] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-05 04:28:11,994 - app - WARNING - Authentication error: Signature has expired
2025-08-05 04:28:11,995 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:11] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-05 04:28:15,500 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:15] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 04:28:16,605 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:16] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 04:28:17,174 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 04:28:17,806 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 04:28:17,979 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 04:28:17,980 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 04:28:18,321 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:28:18] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:30:04,677 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:30:04] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:30:05,213 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 1069.2270023437932, 'y': -406.6346144313256}, 'type': 'start', 'width': 229, 'height': 156}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1272.631173225482, 'y': -37.48162990782001}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1272.631173225482, 'y': -37.48162990782001}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 899.1806329985724, 'y': 281.1156248061618}, 'type': 'option', 'width': 320, 'height': 127, 'selected': True, 'positionAbsolute': {'x': 899.1806329985724, 'y': 281.1156248061618}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1259.4894545510442, 'y': 295.4782293886366}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1259.4894545510442, 'y': 295.4782293886366}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1616.9792966446282, 'y': 274.33434326842996}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1616.9792966446282, 'y': 274.33434326842996}, 'dragging': False}, {'data': {'id': 'end-ff1c18ed', 'label': 'Fin'}, 'id': 'end-ff1c18ed', 'position': {'x': 1912.5868004149106, 'y': 641.7709522984953}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'id': 'aiNodePro-26dbe8a8', 'isCollapsed': True, 'label': 'IA Pro', 'nodeType': 'aiNodePro'}, 'id': 'aiNodePro-26dbe8a8', 'position': {'x': 1033.4641100095419, 'y': 676.4674148708526}, 'type': 'aiNodePro', 'width': 300, 'height': 49}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1235.8242074967409, 'y': -222.4598354312633}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1235.8242074967409, 'y': -222.4598354312633}, 'dragging': False}], 'edges': [{'id': '11774', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11775', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11776', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11777', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11778', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11779', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'aiNodePro-26dbe8a8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11780', 'source': 'aiNodePro-26dbe8a8', 'target': 'end-ff1c18ed', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11781', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11782', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-05 04:30:05,214 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-05 04:30:05,900 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-05 04:30:08,996 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-05 04:30:08,996 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-05 04:30:09,169 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:30:09] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:53:16,682 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:53:16] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 04:53:17,214 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 04:53:17,745 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 04:53:17,919 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 04:53:17,919 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 04:53:18,261 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 04:53:18] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:26:47,730 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:26:47] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-05 05:26:48,953 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:26:48] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-05 05:26:50,962 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:26:50] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 05:26:52,075 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:26:52] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 05:26:52,255 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:26:52] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:26:52,773 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 05:26:53,304 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 05:26:53,477 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 05:26:53,477 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 05:26:53,818 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:26:53] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:27:06,112 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:27:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:27:06,637 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 05:27:06,809 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:27:06] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:27:41,365 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:27:41] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:27:41,881 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 1000.8777307434234, 'y': -396.1729912271873}, 'type': 'start', 'width': 231, 'height': 158, 'selected': True, 'positionAbsolute': {'x': 1000.8777307434234, 'y': -396.1729912271873}, 'dragging': False}, {'data': {'id': 'end-ff1c18ed', 'label': 'Fin'}, 'id': 'end-ff1c18ed', 'position': {'x': 1912.5868004149106, 'y': 641.7709522984953}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'id': 'aiNodePro-26dbe8a8', 'isCollapsed': True, 'label': 'IA Pro', 'nodeType': 'aiNodePro'}, 'id': 'aiNodePro-26dbe8a8', 'position': {'x': 1033.4641100095419, 'y': 676.4674148708526}, 'type': 'aiNodePro', 'width': 300, 'height': 49}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1235.8242074967409, 'y': -222.4598354312633}, 'type': 'message', 'width': 587, 'height': 113}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1272.631173225482, 'y': -37.48162990782001}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 899.1806329985724, 'y': 281.1156248061618}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1259.4894545510442, 'y': 295.4782293886366}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1616.9792966446282, 'y': 274.33434326842996}, 'type': 'option', 'width': 320, 'height': 127}], 'edges': [{'id': '11783', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11784', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11785', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11786', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11787', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11788', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'aiNodePro-26dbe8a8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11789', 'source': 'aiNodePro-26dbe8a8', 'target': 'end-ff1c18ed', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11790', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11791', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-ff1c18ed', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-05 05:27:41,882 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-05 05:27:42,573 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-05 05:27:44,999 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-05 05:27:44,999 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-05 05:27:45,170 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:27:45] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:36:47,744 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:36:47] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:36:48,273 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 05:36:48,791 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 05:36:48,962 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 05:36:48,962 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 05:36:49,306 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:36:49] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:37:01,557 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:37:01] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:37:02,068 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 05:37:02,239 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:37:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:40:08,833 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:40:08] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:40:09,356 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 05:40:09,528 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:40:09] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:42:44,820 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:42:44] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:42:45,334 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 05:42:45,856 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 05:42:46,027 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 05:42:46,027 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 05:42:46,368 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:42:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:43:21,082 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:43:21] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 05:43:21,663 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 05:43:21,842 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 05:43:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 20:15:09,510 - root - INFO - Sistema de logging configurado correctamente
2025-08-05 20:15:09,519 - root - INFO - Sistema de logging configurado correctamente
2025-08-05 20:15:09,533 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 20:15:09,533 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-05 20:15:17,225 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 20:15:17] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 20:15:20,982 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 20:15:20] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 20:15:21,114 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 20:15:21] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 20:15:24,124 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 20:15:24,643 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 20:15:24,820 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 20:15:24,821 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 20:15:25,157 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 20:15:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 20:44:18,489 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 20:44:18] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-05 20:44:19,688 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 20:44:19] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-05 20:44:23,174 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 20:44:23] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 20:44:24,285 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 20:44:24] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 21:01:28,266 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:01:28] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-05 21:01:29,475 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:01:29] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-05 21:04:28,216 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:04:28] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 21:04:29,317 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:04:29] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 21:04:29,369 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:04:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:04:29,885 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 21:04:30,401 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 21:04:30,570 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 21:04:30,571 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 21:04:30,910 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:04:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:04:47,906 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:04:47] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:04:48,425 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 21:04:48,595 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:04:48] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:10:27,857 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:10:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:10:28,379 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 21:10:28,895 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 21:10:29,066 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 21:10:29,066 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 21:10:29,405 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:10:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:10:46,076 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:10:46] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:10:46,603 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 21:10:46,776 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:10:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:33:16,417 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:33:16] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-05 21:33:17,613 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:33:17] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-05 21:33:18,469 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:33:18] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 21:33:19,560 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:33:19] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 21:33:19,610 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:33:19] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:33:20,128 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 21:33:20,645 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 21:33:20,815 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 21:33:20,815 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 21:33:21,155 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:33:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:35:56,772 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:35:56] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:35:57,287 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 21:35:57,458 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:35:57] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:42:51,947 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:42:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:42:52,488 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 21:42:53,001 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 21:42:53,170 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 21:42:53,170 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 21:42:53,507 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:42:53] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:44:30,353 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:44:30] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:44:30,869 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 21:44:31,043 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:44:31] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:50:23,587 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:50:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:50:24,111 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 21:50:24,782 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 21:50:24,950 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 21:50:24,951 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 21:50:25,288 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:50:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:50:39,619 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:50:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:50:40,134 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 21:50:40,310 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:50:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:53:49,912 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:53:49] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:53:50,445 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 21:53:50,616 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:53:50] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:54:08,681 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:54:08] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:54:09,197 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 21:54:09,366 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:54:09] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:55:36,107 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:55:36] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 21:55:36,642 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 21:55:37,309 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 21:55:37,479 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 21:55:37,479 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 21:55:37,816 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 21:55:37] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 22:02:43,265 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 22:02:43] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 22:02:43,807 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 22:02:44,317 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 22:02:44,487 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 22:02:44,487 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 22:02:44,825 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 22:02:44] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 22:04:14,605 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 22:04:14] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 22:04:15,130 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 22:04:15,299 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 22:04:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 22:11:21,807 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 22:11:21] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 22:11:22,341 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 22:11:22,853 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 22:11:23,025 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 22:11:23,026 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 22:11:23,362 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 22:11:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 22:14:33,830 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 22:14:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 22:14:34,363 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-05 22:14:34,534 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 22:14:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 22:21:23,624 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 22:21:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 22:21:24,161 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 22:21:24,671 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 22:21:24,843 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 22:21:24,844 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 22:21:25,186 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 22:21:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 23:32:32,351 - root - INFO - Sistema de logging configurado correctamente
2025-08-05 23:32:32,361 - root - INFO - Sistema de logging configurado correctamente
2025-08-05 23:32:32,378 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-05 23:32:32,378 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-05 23:32:37,435 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:37] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 23:32:37,442 - app - WARNING - Authentication error: Signature has expired
2025-08-05 23:32:37,442 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:37] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-05 23:32:37,454 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:37] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-05 23:32:37,456 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:37] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-05 23:32:37,464 - app - WARNING - Authentication error: Signature has expired
2025-08-05 23:32:37,464 - app - WARNING - Authentication error: Signature has expired
2025-08-05 23:32:37,465 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:37] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-05 23:32:37,466 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:37] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-05 23:32:37,481 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:37] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-05 23:32:37,483 - app - WARNING - Authentication error: Signature has expired
2025-08-05 23:32:37,484 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:37] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-05 23:32:42,410 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:42] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 23:32:46,114 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:46] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 23:32:46,142 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:46] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 23:32:49,166 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 23:32:49,691 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 23:32:49,908 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 23:32:49,908 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 23:32:50,255 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:32:50] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-05 23:48:03,749 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:48:03] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-05 23:48:04,959 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:48:04] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-05 23:56:12,938 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:56:12] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-05 23:56:14,038 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:56:14] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-05 23:56:14,077 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:56:14] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-05 23:56:14,586 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-05 23:56:15,110 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-05 23:56:15,280 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-05 23:56:15,280 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-05 23:56:15,620 - werkzeug - INFO - 127.0.0.1 - - [05/Aug/2025 23:56:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:10:17,591 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:10:17] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:10:18,105 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 00:10:18,623 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-06 00:10:18,794 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-06 00:10:18,794 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 00:10:19,132 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:10:19] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:10:28,711 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:10:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:10:29,218 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 00:10:29,386 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:10:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:10:39,499 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:10:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:10:40,007 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 00:10:40,175 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:10:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:10:54,778 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:10:54] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:10:55,283 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 00:10:55,450 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:10:55] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:11:13,141 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:11:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:11:13,647 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 00:11:13,815 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:11:13] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:11:29,342 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:11:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:11:29,848 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 00:11:30,015 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:11:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:11:41,587 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:11:41] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:11:42,091 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 00:11:42,259 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:11:42] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:21:17,207 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:21:17] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:21:17,720 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'aiNodePro-26dbe8a8', 'isCollapsed': True, 'label': 'IA Pro', 'nodeType': 'aiNodePro'}, 'id': 'aiNodePro-26dbe8a8', 'position': {'x': 1012.8092970956923, 'y': 674.4019335794677}, 'type': 'aiNodePro', 'width': 300, 'height': 49, 'selected': False, 'positionAbsolute': {'x': 1012.8092970956923, 'y': 674.4019335794677}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1235.8242074967409, 'y': -222.4598354312633}, 'type': 'message', 'width': 587, 'height': 113}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1272.631173225482, 'y': -37.48162990782001}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 818.5757454456242, 'y': 64.25009400894413}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 818.5757454456242, 'y': 64.25009400894413}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1259.4894545510442, 'y': 295.4782293886366}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1616.9792966446282, 'y': 274.33434326842996}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 1000.8777307434234, 'y': -396.1729912271873}, 'type': 'start', 'width': 229, 'height': 142}, {'id': 'end-8d2375fe', 'type': 'end', 'position': {'x': 1882.1460051051106, 'y': 531.9830853592184}, 'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 304, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1882.1460051051106, 'y': 531.9830853592184}, 'dragging': False}, {'id': 'input-e4aba63a', 'type': 'input', 'position': {'x': 1325.498797076861, 'y': 788.1027654909551}, 'data': {'id': 'input-e4aba63a', 'label': 'Consulta', 'isEditing': True}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 383, 'selected': False, 'positionAbsolute': {'x': 1325.498797076861, 'y': 788.1027654909551}, 'dragging': False}], 'edges': [{'id': '11792', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11793', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11794', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11795', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11796', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11797', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'aiNodePro-26dbe8a8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94fsource-end-8d2375feinput', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2basource-end-8d2375feinput', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-aiNodePro-26dbe8a8output-input-e4aba63ainput', 'source': 'aiNodePro-26dbe8a8', 'target': 'input-e4aba63a', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-input-e4aba63aoutput-end-8d2375feinput', 'source': 'input-e4aba63a', 'target': 'end-8d2375fe', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-06 00:21:17,721 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=9, edges_count=10, name='N/A'
2025-08-06 00:21:18,404 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=9, edges_count=10, name='None'
2025-08-06 00:21:22,079 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-06 00:21:22,079 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-06 00:21:22,247 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:21:22] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:22:01,454 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:22:01] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:22:02,071 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'aiNodePro-26dbe8a8', 'isCollapsed': True, 'label': 'IA Pro', 'nodeType': 'aiNodePro'}, 'id': 'aiNodePro-26dbe8a8', 'position': {'x': 885.2657759493109, 'y': 578.2537407152724}, 'type': 'aiNodePro', 'width': 300, 'height': 49, 'selected': False, 'positionAbsolute': {'x': 885.2657759493109, 'y': 578.2537407152724}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1235.8242074967409, 'y': -222.4598354312633}, 'type': 'message', 'width': 587, 'height': 113}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1272.631173225482, 'y': -37.48162990782001}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 814.651329410351, 'y': 219.2645274022385}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 814.651329410351, 'y': 219.2645274022385}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1210.4342541101282, 'y': 279.78056524754345}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1210.4342541101282, 'y': 279.78056524754345}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1616.9792966446282, 'y': 274.33434326842996}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 1000.8777307434234, 'y': -396.1729912271873}, 'type': 'start', 'width': 229, 'height': 142}, {'id': 'end-8d2375fe', 'type': 'end', 'position': {'x': 1941.0122456342099, 'y': 575.1516617472245}, 'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 304, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1941.0122456342099, 'y': 575.1516617472245}, 'dragging': False}, {'id': 'input-e4aba63a', 'type': 'input', 'position': {'x': 1325.498797076861, 'y': 788.1027654909551}, 'data': {'id': 'input-e4aba63a', 'label': 'Consulta', 'isEditing': True}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 383, 'selected': False, 'positionAbsolute': {'x': 1325.498797076861, 'y': 788.1027654909551}, 'dragging': False}], 'edges': [{'id': '11792', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11793', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11794', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11795', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11796', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11797', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'aiNodePro-26dbe8a8', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94fsource-end-8d2375feinput', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2basource-end-8d2375feinput', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-aiNodePro-26dbe8a8output-input-e4aba63ainput', 'source': 'aiNodePro-26dbe8a8', 'target': 'input-e4aba63a', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-input-e4aba63aoutput-end-8d2375feinput', 'source': 'input-e4aba63a', 'target': 'end-8d2375fe', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-06 00:22:02,072 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=9, edges_count=10, name='N/A'
2025-08-06 00:22:02,761 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=9, edges_count=10, name='None'
2025-08-06 00:22:04,009 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-06 00:22:04,009 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-06 00:22:04,177 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:22:04] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-06 00:22:35,814 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:22:35] "OPTIONS /api/ai-node HTTP/1.1" 200 -
2025-08-06 00:22:37,123 - services.grok_service - INFO - Successfully connected to Redis for caching.
2025-08-06 00:22:38,863 - api.grok - INFO - Respuesta de Grok para AiNode: ¬°Hola! ¬øC√≥mo est√°s? Espero que tengas un d√≠a lleno de alegr√≠a y buenas vibras. üòä ¬øEn qu√© puedo ayudarte?
2025-08-06 00:22:38,864 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:22:38] "POST /api/ai-node HTTP/1.1" 200 -
2025-08-06 00:22:39,555 - api.grok - INFO - Respuesta de Grok para AiNode: ¬°Hola! ¬øC√≥mo est√°s? Espero que tengas un d√≠a lleno de alegr√≠a y buenas vibras. üòä ¬øEn qu√© puedo ayudarte?
2025-08-06 00:22:39,556 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:22:39] "POST /api/ai-node HTTP/1.1" 200 -
2025-08-06 00:22:45,516 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:22:45] "OPTIONS /api/ai-node HTTP/1.1" 200 -
2025-08-06 00:22:45,727 - api.grok - INFO - Respuesta de Grok para AiNode: ¬°Hola! ¬øC√≥mo est√°s? Espero que tengas un d√≠a lleno de alegr√≠a y buenas vibras. üòä ¬øEn qu√© puedo ayudarte?
2025-08-06 00:22:45,728 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 00:22:45] "POST /api/ai-node HTTP/1.1" 200 -
2025-08-06 01:51:10,823 - root - INFO - Sistema de logging configurado correctamente
2025-08-06 01:51:10,831 - root - INFO - Sistema de logging configurado correctamente
2025-08-06 01:51:10,849 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-06 01:51:10,849 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 01:51:21,192 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:21] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 01:51:21,196 - app - WARNING - Authentication error: Signature has expired
2025-08-06 01:51:21,196 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:21] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-06 01:51:21,206 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:21] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-06 01:51:21,208 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:21] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-06 01:51:21,209 - app - WARNING - Authentication error: Signature has expired
2025-08-06 01:51:21,210 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:21] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-06 01:51:21,211 - app - WARNING - Authentication error: Signature has expired
2025-08-06 01:51:21,211 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:21] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-06 01:51:21,218 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:21] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-06 01:51:21,221 - app - WARNING - Authentication error: Signature has expired
2025-08-06 01:51:21,222 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:21] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-06 01:51:26,017 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:26] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 01:51:29,716 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:29] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 01:51:29,802 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 01:51:32,777 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 01:51:33,298 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 01:51:33,471 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 01:51:33,471 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 01:51:33,809 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:51:33] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 01:56:34,787 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:56:34] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 01:56:35,305 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 01:56:35,823 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 01:56:35,995 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 01:56:35,996 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 01:56:36,354 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:56:36] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 01:57:40,645 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:57:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 01:57:41,159 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 01:57:41,337 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:57:41] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 01:59:34,548 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:59:34] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 01:59:35,065 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 01:59:35,238 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 01:59:35] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:11:33,484 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:11:33] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-06 02:11:34,679 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:11:34] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-06 02:11:36,255 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:11:36] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 02:11:37,372 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:11:37] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 02:11:37,439 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:11:37] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:11:37,947 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 02:11:38,470 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 02:11:38,640 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 02:11:38,640 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 02:11:38,977 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:11:38] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:13:20,384 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:13:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:13:20,896 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 02:13:21,066 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:13:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:20:54,484 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:20:54] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:20:54,995 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 02:20:55,522 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 02:20:55,691 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 02:20:55,691 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 02:20:56,026 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:20:56] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:38:22,116 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:38:22] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 02:38:23,229 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:38:23] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 02:38:23,323 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:38:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:38:23,324 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:38:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:38:23,842 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 02:38:24,379 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 02:38:24,553 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 02:38:24,554 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 02:38:24,916 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:38:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:38:25,442 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 02:38:25,618 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:38:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:40:10,096 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:40:10] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 02:40:11,196 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:40:11] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 02:41:09,020 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:41:09] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:41:09,537 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 02:41:09,707 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:41:09] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:41:52,820 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:41:52] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:41:53,329 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 02:41:53,498 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:41:53] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:43:27,769 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:43:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:43:28,286 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1113.7966698219054, 'y': -259.8553711703257}, 'type': 'message', 'width': 587, 'height': 113, 'selected': True, 'positionAbsolute': {'x': 1113.7966698219054, 'y': -259.8553711703257}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1152.571821642176, 'y': -63.06804909770486}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1152.571821642176, 'y': -63.06804909770486}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1613.042924461569, 'y': 290.0798320006668}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1613.042924461569, 'y': 290.0798320006668}, 'dragging': False}, {'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 863.1047043363513, 'y': -474.9004348883715}, 'type': 'start', 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 863.1047043363513, 'y': -474.9004348883715}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 678.8464890948084, 'y': 282.2464823311858}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 678.8464890948084, 'y': 282.2464823311858}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1139.5795548150625, 'y': 287.65330961366186}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1139.5795548150625, 'y': 287.65330961366186}, 'dragging': False}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 899.7547863309819, 'y': 601.2724614821609}, 'type': 'input', 'width': 150, 'height': 428, 'selected': False, 'dragging': False, 'positionAbsolute': {'x': 899.7547863309819, 'y': 601.2724614821609}}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1963.9107911225524, 'y': 1005.8623983136707}, 'type': 'end', 'width': 304, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1963.9107911225524, 'y': 1005.8623983136707}, 'dragging': False}], 'edges': [{'id': '11801', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11802', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11803', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11804', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11805', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11807', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11808', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-end-8d2375feinput', 'source': 'input-e4aba63a', 'target': 'end-8d2375fe', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289source-input-e4aba63ainput', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-06 02:43:28,287 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-06 02:43:28,975 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-06 02:43:33,284 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-06 02:43:33,284 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-06 02:43:33,453 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:43:33] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:58:23,157 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:58:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:58:23,672 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 02:58:24,186 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-06 02:58:24,358 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-06 02:58:24,359 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 02:58:24,699 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:58:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:59:02,855 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:59:02] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:59:03,369 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 02:59:03,540 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:59:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:59:15,553 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:59:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:59:16,066 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 863.1047043363513, 'y': -474.9004348883715}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1113.7966698219054, 'y': -259.8553711703257}, 'type': 'message', 'width': 587, 'height': 113}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1152.571821642176, 'y': -63.06804909770486}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 678.8464890948084, 'y': 282.2464823311858}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1139.5795548150625, 'y': 287.65330961366186}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1613.042924461569, 'y': 290.0798320006668}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1963.9107911225524, 'y': 1005.8623983136707}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 899.7547863309819, 'y': 601.2724614821609}, 'type': 'input', 'width': 150, 'height': 428}], 'edges': [{'id': '11811', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11812', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11813', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11814', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11815', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11816', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11817', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11818', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-end-8d2375feinput', 'source': 'input-e4aba63a', 'target': 'end-8d2375fe', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-06 02:59:16,067 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-06 02:59:16,779 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-06 02:59:18,836 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-06 02:59:18,836 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-06 02:59:19,005 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:59:19] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:59:23,283 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:59:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:59:23,797 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 02:59:24,314 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-06 02:59:24,486 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-06 02:59:24,487 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 02:59:24,824 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:59:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:59:29,556 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:59:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:59:30,064 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 863.1047043363513, 'y': -474.9004348883715}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1113.7966698219054, 'y': -259.8553711703257}, 'type': 'message', 'width': 587, 'height': 113}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1152.571821642176, 'y': -63.06804909770486}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 678.8464890948084, 'y': 282.2464823311858}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1139.5795548150625, 'y': 287.65330961366186}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1613.042924461569, 'y': 290.0798320006668}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1963.9107911225524, 'y': 1005.8623983136707}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 899.7547863309819, 'y': 601.2724614821609}, 'type': 'input', 'width': 150, 'height': 428}], 'edges': [{'id': '11819', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11820', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11821', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11822', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11823', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11824', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11825', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11826', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-end-8d2375feinput', 'source': 'input-e4aba63a', 'target': 'end-8d2375fe', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-06 02:59:30,065 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-06 02:59:30,773 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-06 02:59:32,273 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 863.1047043363513, 'y': -474.9004348883715}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1113.7966698219054, 'y': -259.8553711703257}, 'type': 'message', 'width': 587, 'height': 113}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1152.571821642176, 'y': -63.06804909770486}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 678.8464890948084, 'y': 282.2464823311858}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1139.5795548150625, 'y': 287.65330961366186}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1613.042924461569, 'y': 290.0798320006668}, 'type': 'option', 'width': 320, 'height': 127}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1963.9107911225524, 'y': 1005.8623983136707}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 899.7547863309819, 'y': 601.2724614821609}, 'type': 'input', 'width': 150, 'height': 428}], 'edges': [{'id': '11819', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11820', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11821', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11822', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11823', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11824', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11825', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11826', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-end-8d2375feinput', 'source': 'input-e4aba63a', 'target': 'end-8d2375fe', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-06 02:59:32,274 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=8, edges_count=9, name='N/A'
2025-08-06 02:59:32,841 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-06 02:59:32,841 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-06 02:59:33,010 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:59:33] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-06 02:59:33,872 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=8, edges_count=9, name='None'
2025-08-06 02:59:34,393 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-06 02:59:34,393 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-06 02:59:34,566 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 02:59:34] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-06 03:08:46,680 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:08:46] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 03:08:47,188 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 03:08:47,704 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-06 03:08:47,874 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-06 03:08:47,875 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 03:08:48,216 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:08:48] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 03:23:52,221 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:23:52] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 03:23:52,743 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 03:23:53,265 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-06 03:23:53,438 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-06 03:23:53,439 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 03:23:53,782 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:23:53] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 03:31:15,170 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:31:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 03:31:15,676 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 03:31:16,189 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-06 03:31:16,359 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-06 03:31:16,360 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 03:31:16,695 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:31:16] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 03:35:06,828 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:35:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 03:35:07,345 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 03:35:07,518 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:35:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 03:35:23,615 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:35:23] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-06 03:35:24,814 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:35:24] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-06 03:35:26,149 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:35:26] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 03:35:27,341 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 03:35:27] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 04:04:36,685 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:04:36] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-06 04:04:37,892 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:04:37] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-06 04:04:38,500 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:04:38] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 04:04:39,607 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:04:39] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 04:04:39,686 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:04:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 04:04:40,196 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 04:04:40,710 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-06 04:04:40,881 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-06 04:04:40,882 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 04:04:41,219 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:04:41] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 04:29:25,395 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:29:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 04:29:25,925 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 04:29:26,434 - api.flow_api - INFO - DB query for flows returned 8 items.
2025-08-06 04:29:26,603 - api.flow_api - INFO - DB query for edges returned 9 items.
2025-08-06 04:29:26,604 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 04:29:26,942 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:29:26] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 04:32:03,966 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:32:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 04:32:04,486 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 783.2163955236828, 'y': -586.9842017392696}, 'type': 'start', 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 783.2163955236828, 'y': -586.9842017392696}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1002.2712427292254, 'y': -305.9032495929775}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1002.2712427292254, 'y': -305.9032495929775}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1028.067332607862, 'y': -116.25051932174782}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1028.067332607862, 'y': -116.25051932174782}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 596.8424985854848, 'y': 193.6821725811164}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 596.8424985854848, 'y': 193.6821725811164}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1060.8557239261118, 'y': 264.6921922710513}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1060.8557239261118, 'y': 264.6921922710513}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1521.1984550911266, 'y': 293.35999162103974}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1521.1984550911266, 'y': 293.35999162103974}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1963.9107911225524, 'y': 1005.8623983136707}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 836.7826517801333, 'y': 535.2366514051633}, 'type': 'input', 'width': 150, 'height': 428, 'selected': False, 'positionAbsolute': {'x': 836.7826517801333, 'y': 535.2366514051633}, 'dragging': False}, {'id': 'condition-f12aabad', 'type': 'condition', 'position': {'x': 1282.0639648704494, 'y': 1074.2175649866647}, 'data': {'id': 'condition-f12aabad', 'label': 'Condici√≥n', 'conditions': [{'id': 'condition-1754465432823-0', 'variable': '', 'operator': 'less_than', 'value': ''}], 'isCollapsed': False}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 282, 'height': 269, 'selected': True, 'positionAbsolute': {'x': 1282.0639648704494, 'y': 1074.2175649866647}, 'dragging': False}], 'edges': [{'id': '11827', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11828', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11829', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11830', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11831', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11832', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11833', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11834', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-condition-f12aabadinput', 'source': 'input-e4aba63a', 'target': 'condition-f12aabad', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-condition-f12aabadtrue-end-8d2375feinput', 'source': 'condition-f12aabad', 'target': 'end-8d2375fe', 'sourceHandle': 'true', 'targetHandle': 'input'}]}
2025-08-06 04:32:04,487 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=9, edges_count=10, name='N/A'
2025-08-06 04:32:05,181 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=9, edges_count=10, name='None'
2025-08-06 04:32:08,791 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-06 04:32:08,792 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-06 04:32:08,962 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:32:08] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-06 04:32:11,476 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:32:11] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 04:32:11,989 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 783.2163955236828, 'y': -586.9842017392696}, 'type': 'start', 'width': 229, 'height': 156, 'selected': False, 'positionAbsolute': {'x': 783.2163955236828, 'y': -586.9842017392696}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1002.2712427292254, 'y': -305.9032495929775}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1002.2712427292254, 'y': -305.9032495929775}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1080.549886533829, 'y': -99.84972121988307}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': True, 'positionAbsolute': {'x': 1080.549886533829, 'y': -99.84972121988307}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 596.8424985854848, 'y': 193.6821725811164}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 596.8424985854848, 'y': 193.6821725811164}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1060.8557239261118, 'y': 264.6921922710513}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1060.8557239261118, 'y': 264.6921922710513}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1521.1984550911266, 'y': 293.35999162103974}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1521.1984550911266, 'y': 293.35999162103974}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1963.9107911225524, 'y': 1005.8623983136707}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 836.7826517801333, 'y': 535.2366514051633}, 'type': 'input', 'width': 150, 'height': 428, 'selected': False, 'positionAbsolute': {'x': 836.7826517801333, 'y': 535.2366514051633}, 'dragging': False}, {'id': 'condition-f12aabad', 'type': 'condition', 'position': {'x': 1282.0639648704494, 'y': 1074.2175649866647}, 'data': {'id': 'condition-f12aabad', 'label': 'Condici√≥n', 'conditions': [{'id': 'condition-1754465432823-0', 'variable': '', 'operator': 'less_than', 'value': ''}], 'isCollapsed': False}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 282, 'height': 269, 'selected': False, 'positionAbsolute': {'x': 1282.0639648704494, 'y': 1074.2175649866647}, 'dragging': False}], 'edges': [{'id': '11827', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11828', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11829', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11830', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11831', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11832', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11833', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11834', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-condition-f12aabadinput', 'source': 'input-e4aba63a', 'target': 'condition-f12aabad', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-condition-f12aabadtrue-end-8d2375feinput', 'source': 'condition-f12aabad', 'target': 'end-8d2375fe', 'sourceHandle': 'true', 'targetHandle': 'input'}]}
2025-08-06 04:32:11,990 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=9, edges_count=10, name='N/A'
2025-08-06 04:32:12,673 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=9, edges_count=10, name='None'
2025-08-06 04:32:13,357 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-06 04:32:13,357 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-06 04:32:13,527 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:32:13] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-06 04:32:13,915 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 783.2163955236828, 'y': -586.9842017392696}, 'type': 'start', 'width': 229, 'height': 156, 'selected': False, 'positionAbsolute': {'x': 783.2163955236828, 'y': -586.9842017392696}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1002.2712427292254, 'y': -305.9032495929775}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1002.2712427292254, 'y': -305.9032495929775}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1080.549886533829, 'y': -99.84972121988307}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': True, 'positionAbsolute': {'x': 1080.549886533829, 'y': -99.84972121988307}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 596.8424985854848, 'y': 193.6821725811164}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 596.8424985854848, 'y': 193.6821725811164}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1060.8557239261118, 'y': 264.6921922710513}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1060.8557239261118, 'y': 264.6921922710513}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1521.1984550911266, 'y': 293.35999162103974}, 'type': 'option', 'width': 320, 'height': 127, 'selected': False, 'positionAbsolute': {'x': 1521.1984550911266, 'y': 293.35999162103974}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1963.9107911225524, 'y': 1005.8623983136707}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 836.7826517801333, 'y': 535.2366514051633}, 'type': 'input', 'width': 150, 'height': 428, 'selected': False, 'positionAbsolute': {'x': 836.7826517801333, 'y': 535.2366514051633}, 'dragging': False}, {'id': 'condition-f12aabad', 'type': 'condition', 'position': {'x': 1282.0639648704494, 'y': 1074.2175649866647}, 'data': {'id': 'condition-f12aabad', 'label': 'Condici√≥n', 'conditions': [{'id': 'condition-1754465432823-0', 'variable': '', 'operator': 'less_than', 'value': ''}], 'isCollapsed': False}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 282, 'height': 269, 'selected': False, 'positionAbsolute': {'x': 1282.0639648704494, 'y': 1074.2175649866647}, 'dragging': False}], 'edges': [{'id': '11827', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11828', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11829', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11830', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11831', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11832', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11833', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11834', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-condition-f12aabadinput', 'source': 'input-e4aba63a', 'target': 'condition-f12aabad', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-condition-f12aabadtrue-end-8d2375feinput', 'source': 'condition-f12aabad', 'target': 'end-8d2375fe', 'sourceHandle': 'true', 'targetHandle': 'input'}]}
2025-08-06 04:32:13,916 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=9, edges_count=10, name='N/A'
2025-08-06 04:32:14,602 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=9, edges_count=10, name='None'
2025-08-06 04:32:15,121 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-06 04:32:15,122 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-06 04:32:15,291 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 04:32:15] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-06 13:46:56,283 - root - INFO - Sistema de logging configurado correctamente
2025-08-06 13:46:56,290 - root - INFO - Sistema de logging configurado correctamente
2025-08-06 13:46:56,308 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-06 13:46:56,308 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 14:05:50,842 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:05:50] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 14:05:54,560 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:05:54] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 14:05:54,847 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:05:54] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 14:05:57,897 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 14:05:58,422 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 14:05:58,595 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 14:05:58,596 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 14:05:58,937 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:05:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 14:20:46,413 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:20:46] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 14:20:46,931 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 14:20:47,450 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 14:20:47,626 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 14:20:47,626 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 14:20:47,988 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:20:47] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 14:29:21,515 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:29:21] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 14:29:22,036 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 14:29:22,555 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 14:29:22,728 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 14:29:22,728 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 14:29:23,067 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:29:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 14:59:08,436 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:59:08] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-06 14:59:09,638 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:59:09] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-06 14:59:10,094 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:59:10] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 14:59:11,197 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:59:11] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 14:59:11,272 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:59:11] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 14:59:11,794 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 14:59:12,304 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 14:59:12,474 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 14:59:12,474 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 14:59:12,815 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 14:59:12] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 15:05:48,052 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 15:05:48] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 15:05:48,579 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 15:05:49,094 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 15:05:49,265 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 15:05:49,266 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 15:05:49,606 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 15:05:49] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 15:31:09,008 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 15:31:09] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-06 15:31:10,216 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 15:31:10] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-06 15:31:11,157 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 15:31:11] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 15:31:12,244 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 15:31:12] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 15:31:12,306 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 15:31:12] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 15:31:12,823 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 15:31:13,338 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 15:31:13,507 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 15:31:13,508 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 15:31:13,848 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 15:31:13] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:23:25,000 - root - INFO - Sistema de logging configurado correctamente
2025-08-06 19:23:25,007 - root - INFO - Sistema de logging configurado correctamente
2025-08-06 19:23:25,027 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-06 19:23:25,027 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 19:23:28,537 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:23:28,540 - app - WARNING - Authentication error: Signature has expired
2025-08-06 19:23:28,540 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:28] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-06 19:23:28,549 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:28] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-06 19:23:28,550 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:28] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-06 19:23:28,555 - app - WARNING - Authentication error: Signature has expired
2025-08-06 19:23:28,555 - app - WARNING - Authentication error: Signature has expired
2025-08-06 19:23:28,556 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:28] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-06 19:23:28,556 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:28] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-06 19:23:28,567 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:28] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-06 19:23:28,569 - app - WARNING - Authentication error: Signature has expired
2025-08-06 19:23:28,570 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:28] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-06 19:23:31,788 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:31] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 19:23:35,451 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:35] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 19:23:35,541 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:35] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:23:37,119 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:37] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 19:23:38,217 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:38] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 19:23:38,545 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 19:23:39,077 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 19:23:39,249 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 19:23:39,250 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 19:23:39,591 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:39] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:23:51,217 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:23:51,731 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 19:23:51,903 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:23:51] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:34:43,658 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:34:43] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:34:44,169 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 19:34:44,681 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 19:34:44,852 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 19:34:44,852 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 19:34:45,190 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:34:45] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:36:32,302 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:32] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 19:36:48,575 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:48] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:36:48,578 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:48] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:36:48,579 - app - WARNING - Authentication error: Signature has expired
2025-08-06 19:36:48,579 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:48] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-06 19:36:48,582 - app - WARNING - Authentication error: Signature has expired
2025-08-06 19:36:48,582 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:48] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-06 19:36:48,584 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:48] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-06 19:36:48,586 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:48] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-06 19:36:48,587 - app - WARNING - Authentication error: Signature has expired
2025-08-06 19:36:48,587 - app - WARNING - Authentication error: Signature has expired
2025-08-06 19:36:48,588 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:48] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-06 19:36:48,588 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:48] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-06 19:36:48,760 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:48] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-06 19:36:48,761 - app - WARNING - Authentication error: Signature has expired
2025-08-06 19:36:48,762 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:48] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-06 19:36:54,492 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:54] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 19:36:55,603 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:55] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 19:36:55,692 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:36:55,693 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:36:56,209 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 19:36:56,380 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:56] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:36:56,893 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 19:36:57,063 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:36:57] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:37:44,574 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:37:44] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:37:45,087 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 19:37:45,259 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:37:45] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:38:33,608 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:38:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:38:34,127 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 19:38:34,297 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:38:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:39:15,804 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:39:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:39:16,327 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 19:39:16,524 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:39:16] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:41:25,642 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:41:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:41:26,160 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 19:41:26,672 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 19:41:26,842 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 19:41:26,843 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 19:41:27,182 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:41:27] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:42:34,294 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:42:34] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:42:34,818 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 19:42:34,992 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:42:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:49:05,831 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:49:05] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:49:06,370 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 19:49:06,884 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 19:49:07,053 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 19:49:07,054 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 19:49:07,394 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:49:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:58:33,992 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:58:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:58:34,512 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 19:58:35,025 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 19:58:35,193 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 19:58:35,194 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 19:58:35,533 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:58:35] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:59:37,338 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:59:37] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 19:59:37,858 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 19:59:38,030 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 19:59:38] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:00:55,804 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:00:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:00:56,332 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 20:00:56,504 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:00:56] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:04:50,209 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:04:50] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:04:50,728 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 20:04:51,241 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 20:04:51,411 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 20:04:51,411 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 20:04:51,749 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:04:51] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:06:58,655 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:06:58] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:06:59,166 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 20:06:59,336 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:06:59] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:22:32,941 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:22:32] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:22:33,463 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 20:22:33,975 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 20:22:34,146 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 20:22:34,146 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 20:22:34,491 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:22:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:22:49,179 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:22:49] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:22:49,697 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 20:22:49,869 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:22:49] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:23:28,883 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:23:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:23:29,399 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 20:23:29,569 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:23:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:24:35,862 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:24:35] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-06 20:24:35,865 - app - WARNING - Authentication error: Signature has expired
2025-08-06 20:24:35,865 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:24:35] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-06 20:41:35,228 - app - WARNING - Authentication error: Missing Authorization Header
2025-08-06 20:41:35,234 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:41:35] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-06 20:42:00,130 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:42:00] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 20:42:01,239 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:42:01] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 20:42:01,306 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:42:01] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:42:01,826 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 20:42:02,344 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 20:42:02,514 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 20:42:02,514 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 20:42:02,856 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:42:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:43:32,937 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:43:32] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:43:33,452 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 20:43:33,623 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:43:33] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:43:36,130 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 20:43:36,299 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:43:36] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:44:28,398 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:44:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:44:28,908 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 20:44:29,077 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:44:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:45:21,834 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:45:21] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:45:22,373 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 20:45:22,542 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:45:22] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:47:22,815 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:47:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:47:23,331 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 20:47:23,851 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 20:47:24,022 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 20:47:24,022 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 20:47:24,360 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:47:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:56:36,915 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:56:36] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:56:37,437 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 20:56:37,952 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 20:56:38,122 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 20:56:38,122 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 20:56:38,461 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:56:38] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:56:49,701 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:56:49] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:56:50,210 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 20:56:50,379 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:56:50] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:57:26,276 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:57:26] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 20:57:26,788 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 20:57:26,959 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 20:57:26] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:03:10,174 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:03:10] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:03:10,708 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 21:03:11,226 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 21:03:11,397 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 21:03:11,398 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 21:03:11,744 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:03:11] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:05:22,472 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:05:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:05:22,986 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 21:05:23,155 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:05:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:09:25,248 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:09:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:09:25,789 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 21:09:26,309 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 21:09:26,480 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 21:09:26,481 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 21:09:26,820 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:09:26] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:12:27,902 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:12:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:12:28,413 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 21:12:28,580 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:12:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:14:18,762 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:14:18] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:14:19,291 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 21:14:19,460 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:14:19] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:18:57,326 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:18:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:18:57,838 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 21:18:58,357 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 21:18:58,534 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 21:18:58,534 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 21:18:58,879 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:18:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:21:10,474 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:21:10] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:21:10,991 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 21:21:11,164 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:21:11] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:21:15,259 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 21:21:15,429 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:21:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:25:11,785 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:25:11] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:25:12,319 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 21:25:12,837 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 21:25:13,009 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 21:25:13,010 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 21:25:13,361 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:25:13] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:26:30,055 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:26:30] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:26:30,579 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 21:26:30,751 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:26:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 21:26:35,346 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 21:26:35,518 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 21:26:35] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 22:46:02,710 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 22:46:02] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-06 22:46:02,716 - app - WARNING - Authentication error: Signature has expired
2025-08-06 22:46:02,717 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 22:46:02] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-06 23:03:33,747 - root - INFO - Sistema de logging configurado correctamente
2025-08-06 23:03:33,755 - root - INFO - Sistema de logging configurado correctamente
2025-08-06 23:03:33,765 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-06 23:03:33,765 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 23:03:40,986 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:03:40] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-06 23:03:44,631 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:03:44] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-06 23:03:44,717 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:03:44] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:03:47,640 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 23:03:48,165 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 23:03:48,337 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 23:03:48,337 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 23:03:48,676 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:03:48] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:11:07,282 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:11:07] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:11:07,798 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 23:11:08,316 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 23:11:08,488 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 23:11:08,488 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 23:11:08,828 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:11:08] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:11:34,278 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:11:34] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:11:34,788 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:11:34,957 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:11:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:12:23,748 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:12:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:12:24,260 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:12:24,430 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:12:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:12:29,508 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:12:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:12:30,028 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:12:30,198 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:12:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:17:24,044 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:17:24] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:17:24,566 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 23:17:25,089 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 23:17:25,261 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 23:17:25,261 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 23:17:25,607 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:17:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:17:57,624 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:17:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:17:58,149 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:17:58,321 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:17:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:19:50,550 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:19:50] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:19:51,066 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:19:51,237 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:19:51] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:24:51,718 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:24:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:24:52,237 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 23:24:52,756 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 23:24:52,929 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 23:24:52,929 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 23:24:53,271 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:24:53] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:32:02,314 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:32:02] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:32:02,830 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 23:32:03,349 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 23:32:03,525 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 23:32:03,525 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 23:32:03,866 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:32:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:35:16,350 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:35:16] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:35:16,867 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:35:17,037 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:35:17] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:35:29,343 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:35:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:35:29,856 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:35:30,026 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:35:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:42:20,528 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:42:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:42:21,048 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 23:42:21,564 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 23:42:21,740 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 23:42:21,740 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 23:42:22,080 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:42:22] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:42:51,555 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:42:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:42:52,073 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:42:52,248 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:42:52] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:45:53,959 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:45:53] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:45:54,476 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:45:54,645 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:45:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:45:58,642 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:45:58,811 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:45:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:50:59,875 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:50:59] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:51:00,393 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 23:51:00,914 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 23:51:01,089 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 23:51:01,089 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 23:51:01,445 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:51:01] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:51:44,258 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:51:44] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:51:44,773 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:51:44,943 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:51:44] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:51:59,525 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:51:59] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:52:00,047 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:52:00,219 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:52:00] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:52:17,659 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:52:17] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:52:18,541 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:52:18,710 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:52:18] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:52:51,104 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:52:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:52:51,621 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:52:51,791 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:52:51] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:53:05,875 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:53:05] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:53:06,390 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:53:06,561 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:53:06] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:55:18,576 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:55:18] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:55:19,094 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-06 23:55:19,265 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:55:19] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:57:12,004 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:57:12] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:57:12,530 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-06 23:57:13,048 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-06 23:57:13,222 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-06 23:57:13,223 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-06 23:57:13,564 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:57:13] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:59:40,463 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:59:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-06 23:59:40,980 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 783.2163955236828, 'y': -586.9842017392696}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1002.2712427292254, 'y': -305.9032495929775}, 'type': 'message', 'width': 587, 'height': 113}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 596.8424985854848, 'y': 193.6821725811164}, 'type': 'option', 'width': 260, 'height': 114}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1060.8557239261118, 'y': 264.6921922710513}, 'type': 'option', 'width': 260, 'height': 114}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1521.1984550911266, 'y': 293.35999162103974}, 'type': 'option', 'width': 260, 'height': 114}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1080.549886533829, 'y': -99.84972121988307}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1963.9107911225524, 'y': 1005.8623983136707}, 'type': 'end', 'width': 304, 'height': 132}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 836.7826517801333, 'y': 535.2366514051633}, 'type': 'input', 'width': 150, 'height': 428}, {'data': {'conditions': [{'id': 'condition-1754465432823-0', 'operator': 'less_than', 'value': '', 'variable': ''}], 'id': 'condition-f12aabad', 'isCollapsed': False, 'label': 'Condici√≥n'}, 'id': 'condition-f12aabad', 'position': {'x': 1282.0639648704494, 'y': 1074.2175649866647}, 'type': 'condition', 'width': 282, 'height': 275}], 'edges': [{'id': '11835', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11836', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11837', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11838', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11839', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11840', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11841', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11842', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11844', 'source': 'condition-f12aabad', 'target': 'end-8d2375fe', 'sourceHandle': 'true', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-condition-f12aabadinput', 'source': 'input-e4aba63a', 'target': 'condition-f12aabad', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-06 23:59:40,981 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=9, edges_count=10, name='N/A'
2025-08-06 23:59:41,686 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=9, edges_count=10, name='None'
2025-08-06 23:59:43,940 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-06 23:59:43,940 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-06 23:59:44,112 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 23:59:44] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:07:37,172 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:37] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:07:37,179 - app - WARNING - Authentication error: Signature has expired
2025-08-07 00:07:37,182 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:37] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 00:07:37,192 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:37] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 00:07:37,195 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:37] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 00:07:37,199 - app - WARNING - Authentication error: Signature has expired
2025-08-07 00:07:37,200 - app - WARNING - Authentication error: Signature has expired
2025-08-07 00:07:37,200 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:37] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 00:07:37,200 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:37] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 00:07:37,215 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:37] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 00:07:37,220 - app - WARNING - Authentication error: Signature has expired
2025-08-07 00:07:37,221 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:37] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 00:07:40,795 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:40] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 00:07:41,920 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:41] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 00:07:42,473 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 00:07:42,994 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-07 00:07:43,166 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-07 00:07:43,166 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 00:07:43,509 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:07:43] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:08:29,773 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:08:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:08:30,294 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:08:30,465 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:08:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:08:47,787 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:08:47] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:08:48,305 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:08:48,475 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:08:48] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:14:13,482 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:14:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:14:14,003 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 00:14:14,524 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-07 00:14:14,697 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-07 00:14:14,698 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 00:14:15,040 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:14:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:14:38,109 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:14:38] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:14:38,630 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 783.2163955236828, 'y': -586.9842017392696}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1065.7611838174194, 'y': -400.1141299173943}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1065.7611838174194, 'y': -400.1141299173943}, 'dragging': False}, {'data': {'color': '#3498db', 'conditionId': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'instruction': 'Opci√≥n A', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n A'}, 'id': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'position': {'x': 803.6968227760523, 'y': 185.48992211812362}, 'type': 'option', 'width': 260, 'height': 114, 'selected': False, 'positionAbsolute': {'x': 803.6968227760523, 'y': 185.48992211812362}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'instruction': 'Opci√≥n B', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Opci√≥n B'}, 'id': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'position': {'x': 1112.0572893198166, 'y': 184.81775025687182}, 'type': 'option', 'width': 260, 'height': 114, 'selected': False, 'positionAbsolute': {'x': 1112.0572893198166, 'y': 184.81775025687182}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'instruction': 'Nueva condici√≥n', 'lastUpdated': '2025-08-05T01:26:58.495Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'position': {'x': 1418.7953243037168, 'y': 193.00492344937834}, 'type': 'option', 'width': 260, 'height': 114, 'selected': False, 'positionAbsolute': {'x': 1418.7953243037168, 'y': 193.00492344937834}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': 'c06e60fe-ceb6-4d90-bed9-714c26eee289', 'text': 'Opci√≥n A'}, {'color': '#e74c3c', 'id': 'e950bc45-040c-4b37-b543-c8c6adf5a94f', 'text': 'Opci√≥n B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-02497d12-c807-4377-a495-624f6540b2ba', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1098.9824500755628, 'y': -226.82960339627095}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1098.9824500755628, 'y': -226.82960339627095}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1869.6999107981355, 'y': 588.0576247010395}, 'type': 'end', 'width': 303, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1869.6999107981355, 'y': 588.0576247010395}, 'dragging': False}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 976.0509096510103, 'y': 578.2459663358753}, 'type': 'input', 'width': 150, 'height': 428, 'selected': False, 'positionAbsolute': {'x': 976.0509096510103, 'y': 578.2459663358753}, 'dragging': False}, {'data': {'conditions': [{'id': 'condition-1754465432823-0', 'operator': 'less_than', 'value': '', 'variable': ''}], 'id': 'condition-f12aabad', 'isCollapsed': False, 'label': 'Condici√≥n'}, 'id': 'condition-f12aabad', 'position': {'x': 1462.2934750562904, 'y': 764.9601100086877}, 'type': 'condition', 'width': 282, 'height': 275, 'selected': True, 'positionAbsolute': {'x': 1462.2934750562904, 'y': 764.9601100086877}, 'dragging': False}], 'edges': [{'id': '11845', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11846', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11847', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'sourceHandle': 'output-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11848', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'sourceHandle': 'output-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11849', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'sourceHandle': 'output-condition-02497d12-c807-4377-a495-624f6540b2ba', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11850', 'source': 'option-decision-a3aac460-e950bc45-040c-4b37-b543-c8c6adf5a94f', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11851', 'source': 'option-decision-a3aac460-condition-02497d12-c807-4377-a495-624f6540b2ba', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11852', 'source': 'option-decision-a3aac460-c06e60fe-ceb6-4d90-bed9-714c26eee289', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11853', 'source': 'condition-f12aabad', 'target': 'end-8d2375fe', 'sourceHandle': 'true', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-condition-f12aabadinput', 'source': 'input-e4aba63a', 'target': 'condition-f12aabad', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-07 00:14:38,631 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=9, edges_count=10, name='N/A'
2025-08-07 00:14:39,350 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=9, edges_count=10, name='None'
2025-08-07 00:14:43,005 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 00:14:43,006 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 00:14:43,175 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:14:43] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:15:10,386 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:15:10] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:15:10,902 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 783.2163955236828, 'y': -586.9842017392696}, 'type': 'start', 'width': 229, 'height': 142}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1065.7611838174194, 'y': -400.1141299173943}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1065.7611838174194, 'y': -400.1141299173943}, 'dragging': False}, {'data': {'conditions': [{'id': 'cond-decision-a3aac460-default-yes', 'text': 'S√≠', 'color': '#22c55e', 'isValid': True, 'order': 0, 'createdAt': '2025-08-07T03:14:19.418Z', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'id': 'cond-decision-a3aac460-default-no', 'text': 'No', 'color': '#ef4444', 'isValid': True, 'order': 1, 'createdAt': '2025-08-07T03:14:19.418Z', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'id': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1098.9824500755628, 'y': -226.82960339627095}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1098.9824500755628, 'y': -226.82960339627095}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1869.6999107981355, 'y': 588.0576247010395}, 'type': 'end', 'width': 303, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1869.6999107981355, 'y': 588.0576247010395}, 'dragging': False}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 976.0509096510103, 'y': 578.2459663358753}, 'type': 'input', 'width': 150, 'height': 428, 'selected': False, 'positionAbsolute': {'x': 976.0509096510103, 'y': 578.2459663358753}, 'dragging': False}, {'data': {'conditions': [{'id': 'condition-1754465432823-0', 'operator': 'less_than', 'value': '', 'variable': ''}], 'id': 'condition-f12aabad', 'isCollapsed': False, 'label': 'Condici√≥n'}, 'id': 'condition-f12aabad', 'position': {'x': 1462.2934750562904, 'y': 764.9601100086877}, 'type': 'condition', 'width': 282, 'height': 275, 'selected': False, 'positionAbsolute': {'x': 1462.2934750562904, 'y': 764.9601100086877}, 'dragging': False}, {'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'type': 'option', 'position': {'x': 781.9446512936934, 'y': 173.1475590716789}, 'data': {'sourceNode': 'decision-a3aac460', 'conditionId': 'cond-decision-a3aac460-default-yes', 'text': 'S√≠', 'instruction': 'S√≠', 'color': '#22c55e', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'index': 0, 'label': 'S√≠'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': True, 'positionAbsolute': {'x': 781.9446512936934, 'y': 173.1475590716789}, 'dragging': False}, {'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'type': 'option', 'position': {'x': 1096.7099823202452, 'y': 167.46638968338482}, 'data': {'sourceNode': 'decision-a3aac460', 'conditionId': 'cond-decision-a3aac460-default-no', 'text': 'No', 'instruction': 'No', 'color': '#ef4444', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'index': 1, 'label': 'No'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1096.7099823202452, 'y': 167.46638968338482}, 'dragging': False}, {'id': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'type': 'option', 'position': {'x': 1402.3854423255268, 'y': 182.23743009294927}, 'data': {'sourceNode': 'decision-a3aac460', 'conditionId': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'index': 2, 'label': 'Nueva condici√≥n'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1402.3854423255268, 'y': 182.23743009294927}, 'dragging': False}], 'edges': [{'id': '11845', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11846', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11853', 'source': 'condition-f12aabad', 'target': 'end-8d2375fe', 'sourceHandle': 'true', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-condition-f12aabadinput', 'source': 'input-e4aba63a', 'target': 'condition-f12aabad', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'edge-decision-a3aac460-cond-decision-a3aac460-default-yes', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'sourceHandle': 'output-cond-decision-a3aac460-default-yes', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#22c55e', 'strokeWidth': 2}}, {'id': 'edge-decision-a3aac460-cond-decision-a3aac460-default-no', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'sourceHandle': 'output-cond-decision-a3aac460-default-no', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#ef4444', 'strokeWidth': 2}}, {'id': 'edge-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'sourceHandle': 'output-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-a3aac460-cond-decision-a3aac460-default-yessource-input-e4aba63ainput', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a3aac460-cond-decision-a3aac460-default-nosource-end-8d2375feinput', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abaddsource-end-8d2375feinput', 'source': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-07 00:15:10,902 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=9, edges_count=10, name='N/A'
2025-08-07 00:15:11,594 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=9, edges_count=10, name='None'
2025-08-07 00:15:16,104 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 00:15:16,105 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 00:15:16,274 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:15:16] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:15:23,759 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:15:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:15:24,275 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 744.4109466658335, 'y': -509.373304023571}, 'type': 'start', 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 744.4109466658335, 'y': -509.373304023571}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1063.7187917722695, 'y': -357.22389696924506}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1063.7187917722695, 'y': -357.22389696924506}, 'dragging': False}, {'data': {'conditions': [{'id': 'cond-decision-a3aac460-default-yes', 'text': 'S√≠', 'color': '#22c55e', 'isValid': True, 'order': 0, 'createdAt': '2025-08-07T03:14:19.418Z', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'id': 'cond-decision-a3aac460-default-no', 'text': 'No', 'color': '#ef4444', 'isValid': True, 'order': 1, 'createdAt': '2025-08-07T03:14:19.418Z', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'id': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1107.1520182561628, 'y': -157.38827386117222}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1107.1520182561628, 'y': -157.38827386117222}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1869.6999107981355, 'y': 588.0576247010395}, 'type': 'end', 'width': 303, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1869.6999107981355, 'y': 588.0576247010395}, 'dragging': False}, {'data': {'id': 'input-e4aba63a', 'isEditing': True, 'label': 'Consulta'}, 'id': 'input-e4aba63a', 'position': {'x': 976.0509096510103, 'y': 578.2459663358753}, 'type': 'input', 'width': 150, 'height': 428, 'selected': False, 'positionAbsolute': {'x': 976.0509096510103, 'y': 578.2459663358753}, 'dragging': False}, {'data': {'conditions': [{'id': 'condition-1754465432823-0', 'operator': 'less_than', 'value': '', 'variable': ''}], 'id': 'condition-f12aabad', 'isCollapsed': False, 'label': 'Condici√≥n'}, 'id': 'condition-f12aabad', 'position': {'x': 1462.2934750562904, 'y': 764.9601100086877}, 'type': 'condition', 'width': 282, 'height': 275, 'selected': False, 'positionAbsolute': {'x': 1462.2934750562904, 'y': 764.9601100086877}, 'dragging': False}, {'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'type': 'option', 'position': {'x': 781.9446512936934, 'y': 173.1475590716789}, 'data': {'sourceNode': 'decision-a3aac460', 'conditionId': 'cond-decision-a3aac460-default-yes', 'text': 'S√≠', 'instruction': 'S√≠', 'color': '#22c55e', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'index': 0, 'label': 'S√≠'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 781.9446512936934, 'y': 173.1475590716789}, 'dragging': False}, {'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'type': 'option', 'position': {'x': 1098.752374365395, 'y': 177.67834990913462}, 'data': {'sourceNode': 'decision-a3aac460', 'conditionId': 'cond-decision-a3aac460-default-no', 'text': 'No', 'instruction': 'No', 'color': '#ef4444', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'index': 1, 'label': 'No'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1098.752374365395, 'y': 177.67834990913462}, 'dragging': False}, {'id': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'type': 'option', 'position': {'x': 1412.5974025512767, 'y': 182.23743009294927}, 'data': {'sourceNode': 'decision-a3aac460', 'conditionId': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'index': 2, 'label': 'Nueva condici√≥n'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': True, 'positionAbsolute': {'x': 1412.5974025512767, 'y': 182.23743009294927}, 'dragging': False}], 'edges': [{'id': '11845', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11846', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11853', 'source': 'condition-f12aabad', 'target': 'end-8d2375fe', 'sourceHandle': 'true', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': 'reactflow__edge-input-e4aba63aoutput-condition-f12aabadinput', 'source': 'input-e4aba63a', 'target': 'condition-f12aabad', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'edge-decision-a3aac460-cond-decision-a3aac460-default-yes', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'sourceHandle': 'output-cond-decision-a3aac460-default-yes', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#22c55e', 'strokeWidth': 2}}, {'id': 'edge-decision-a3aac460-cond-decision-a3aac460-default-no', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'sourceHandle': 'output-cond-decision-a3aac460-default-no', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#ef4444', 'strokeWidth': 2}}, {'id': 'edge-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'sourceHandle': 'output-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-a3aac460-cond-decision-a3aac460-default-yessource-input-e4aba63ainput', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'target': 'input-e4aba63a', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a3aac460-cond-decision-a3aac460-default-nosource-end-8d2375feinput', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abaddsource-end-8d2375feinput', 'source': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-07 00:15:24,277 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=9, edges_count=10, name='N/A'
2025-08-07 00:15:24,969 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=9, edges_count=10, name='None'
2025-08-07 00:15:26,380 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 00:15:26,380 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 00:15:26,550 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:15:26] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:28:45,368 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:28:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:28:45,895 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 00:28:46,415 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-07 00:28:46,587 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-07 00:28:46,588 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 00:28:46,929 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:28:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:30:23,078 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:30:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:30:23,591 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:30:23,760 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:30:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:31:39,500 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:31:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:31:40,014 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:31:40,183 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:31:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:32:41,781 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:32:41] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:32:42,314 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:32:42,487 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:32:42] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:35:08,476 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:35:08] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:35:08,987 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 00:35:09,509 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-07 00:35:09,682 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-07 00:35:09,683 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 00:35:10,073 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:35:10] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:37:56,174 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:37:56] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:37:56,693 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:37:56,865 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:37:56] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:39:16,188 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:39:16] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:39:16,773 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:39:16,949 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:39:16] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:46:44,455 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:46:44] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:46:44,981 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 00:46:45,498 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-07 00:46:45,669 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-07 00:46:45,670 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 00:46:46,012 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:46:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:47:57,519 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:47:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:47:58,037 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:47:58,209 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:47:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:55:30,848 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:55:30] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:55:31,365 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 00:55:31,889 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-07 00:55:32,070 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-07 00:55:32,070 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 00:55:32,414 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:55:32] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:56:49,672 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:56:49] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:56:50,221 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:56:50,392 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:56:50] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:59:27,289 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:59:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:59:27,812 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:59:28,004 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:59:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 00:59:30,181 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 00:59:30,353 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 00:59:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:00:07,018 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:00:07] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:00:07,576 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:00:07,748 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:00:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:01:19,326 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:01:19] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:01:19,852 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 01:01:20,370 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-07 01:01:20,542 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-07 01:01:20,542 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 01:01:20,884 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:01:20] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:02:42,090 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:02:42] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:02:42,613 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:02:42,785 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:02:42] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:06:13,792 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:06:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:06:14,328 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:06:14,501 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:06:14] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:09:48,886 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:48] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:09:48,890 - app - WARNING - Authentication error: Signature has expired
2025-08-07 01:09:48,890 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:48] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 01:09:48,902 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:48] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 01:09:48,903 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:48] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 01:09:48,906 - app - WARNING - Authentication error: Signature has expired
2025-08-07 01:09:48,907 - app - WARNING - Authentication error: Signature has expired
2025-08-07 01:09:48,907 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:48] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 01:09:48,908 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:48] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 01:09:48,927 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:48] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 01:09:48,930 - app - WARNING - Authentication error: Signature has expired
2025-08-07 01:09:48,931 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:48] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 01:09:50,932 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:50] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 01:09:52,038 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:52] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 01:09:52,610 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 01:09:53,187 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-07 01:09:53,358 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-07 01:09:53,359 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 01:09:53,702 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:09:53] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:10:32,798 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:10:32] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:10:33,314 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:10:33,485 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:10:33] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:15:03,573 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:15:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:15:04,096 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 01:15:04,679 - api.flow_api - INFO - DB query for flows returned 9 items.
2025-08-07 01:15:04,853 - api.flow_api - INFO - DB query for edges returned 10 items.
2025-08-07 01:15:04,854 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 01:15:05,199 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:15:05] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:17:21,076 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:17:21] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:17:21,597 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 794.312418710993, 'y': -593.5820380997776}, 'type': 'start', 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 794.312418710993, 'y': -593.5820380997776}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1091.7883697976717, 'y': -450.7891570539191}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1091.7883697976717, 'y': -450.7891570539191}, 'dragging': False}, {'data': {'conditions': [{'color': '#22c55e', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-yes', 'isValid': True, 'order': 0, 'text': 'S√≠', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#ef4444', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-no', 'isValid': True, 'order': 1, 'text': 'No', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1110.2708602589853, 'y': -263.42890195713613}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1110.2708602589853, 'y': -263.42890195713613}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1857.2245427868456, 'y': 447.7097345740284}, 'type': 'end', 'width': 303, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1857.2245427868456, 'y': 447.7097345740284}, 'dragging': False}, {'data': {'color': '#22c55e', 'conditionId': 'cond-decision-a3aac460-default-yes', 'index': 0, 'instruction': 'S√≠', 'label': 'S√≠', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'S√≠'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'position': {'x': 756.9939152711137, 'y': 126.36492902934185}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 756.9939152711137, 'y': 126.36492902934185}, 'dragging': False}, {'data': {'color': '#ef4444', 'conditionId': 'cond-decision-a3aac460-default-no', 'index': 1, 'instruction': 'No', 'label': 'No', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'No'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'position': {'x': 1114.3465843795075, 'y': 99.70729983857296}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1114.3465843795075, 'y': 99.70729983857296}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'index': 2, 'instruction': 'Nueva condici√≥n', 'label': 'Nueva condici√≥n', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'position': {'x': 1450.0235065851464, 'y': 85.55332800545278}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1450.0235065851464, 'y': 85.55332800545278}, 'dragging': False}], 'edges': [{'id': '11854', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11855', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11863', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'sourceHandle': 'output-cond-decision-a3aac460-default-yes', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11864', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'sourceHandle': 'output-cond-decision-a3aac460-default-no', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11865', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'sourceHandle': 'output-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11867', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11868', 'source': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-option-decision-a3aac460-cond-decision-a3aac460-default-yessource-end-8d2375feinput', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-07 01:17:21,598 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 01:17:22,283 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 01:17:27,289 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 01:17:27,289 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 01:17:27,460 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:17:27] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:18:21,694 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:18:21] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:18:22,210 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 01:18:22,731 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 01:18:22,902 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 01:18:22,903 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 01:18:23,243 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:18:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:21:38,377 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:21:38] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:21:38,892 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:21:39,062 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:21:39] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:33:16,302 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:33:16] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:33:16,865 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 01:33:17,384 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 01:33:17,555 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 01:33:17,555 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 01:33:17,893 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:33:17] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:34:15,791 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:34:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:34:16,297 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:34:16,528 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:34:16] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:34:33,786 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:34:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:34:34,295 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:34:34,462 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:34:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:38:23,879 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:38:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:38:24,386 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 01:38:24,904 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 01:38:25,074 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 01:38:25,075 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 01:38:25,413 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:38:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:38:30,320 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:38:30] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:38:30,828 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:38:30,996 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:38:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:38:39,827 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:38:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:38:40,352 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:38:40,520 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:38:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:39:38,312 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:39:38] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:39:38,827 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:39:38,996 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:39:38] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:41:23,248 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:41:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:41:23,766 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:41:23,935 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:41:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:45:08,522 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:45:08] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:45:09,035 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 01:45:09,559 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 01:45:09,730 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 01:45:09,730 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 01:45:10,097 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:45:10] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:46:34,075 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:46:34] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:46:34,586 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:46:34,754 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:46:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:46:55,153 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:46:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:46:55,666 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:46:55,834 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:46:55] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:47:18,991 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:47:18] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:47:19,500 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:47:19,668 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:47:19] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:49:08,751 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:49:08] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:49:09,259 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:49:09,427 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:49:09] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:49:22,753 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:49:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:49:23,284 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:49:23,452 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:49:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:49:40,246 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:49:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:49:40,756 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:49:40,925 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:49:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:49:55,071 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:49:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:49:55,579 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:49:55,752 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:49:55] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:54:40,111 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:54:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:54:40,635 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 809.1929581520127, 'y': -531.9340889869816}, 'type': 'start', 'width': 229, 'height': 156, 'selected': False, 'positionAbsolute': {'x': 809.1929581520127, 'y': -531.9340889869816}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1130.0526140745797, 'y': -410.39912142829405}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1130.0526140745797, 'y': -410.39912142829405}, 'dragging': False}, {'data': {'conditions': [{'color': '#22c55e', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-yes', 'isValid': True, 'order': 0, 'text': 'S√≠', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#ef4444', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-no', 'isValid': True, 'order': 1, 'text': 'No', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1127.2771910487222, 'y': -184.77462205460319}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1127.2771910487222, 'y': -184.77462205460319}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1719.1921331667663, 'y': 443.14667971055474}, 'type': 'end', 'width': 303, 'height': 132, 'selected': True, 'positionAbsolute': {'x': 1719.1921331667663, 'y': 443.14667971055474}, 'dragging': False}, {'data': {'color': '#22c55e', 'conditionId': 'cond-decision-a3aac460-default-yes', 'index': 0, 'instruction': 'S√≠', 'label': 'S√≠', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'S√≠'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'position': {'x': 783.6986889851466, 'y': 139.27541320466423}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 783.6986889851466, 'y': 139.27541320466423}, 'dragging': False}, {'data': {'color': '#ef4444', 'conditionId': 'cond-decision-a3aac460-default-no', 'index': 1, 'instruction': 'No', 'label': 'No', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'No'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'position': {'x': 1138.3026224127445, 'y': 160.2144852355006}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1138.3026224127445, 'y': 160.2144852355006}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'index': 2, 'instruction': 'Nueva condici√≥n', 'label': 'Nueva condici√≥n', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'position': {'x': 1453.702756085232, 'y': 132.27012654249887}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1453.702756085232, 'y': 132.27012654249887}, 'dragging': False}], 'edges': [{'id': '11869', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11870', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11871', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'sourceHandle': 'output-cond-decision-a3aac460-default-yes', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11872', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'sourceHandle': 'output-cond-decision-a3aac460-default-no', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11873', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'sourceHandle': 'output-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11874', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11875', 'source': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11876', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-07 01:54:40,636 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 01:54:41,405 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 01:54:42,700 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 809.1929581520127, 'y': -531.9340889869816}, 'type': 'start', 'width': 229, 'height': 156, 'selected': False, 'positionAbsolute': {'x': 809.1929581520127, 'y': -531.9340889869816}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1130.0526140745797, 'y': -410.39912142829405}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1130.0526140745797, 'y': -410.39912142829405}, 'dragging': False}, {'data': {'conditions': [{'color': '#22c55e', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-yes', 'isValid': True, 'order': 0, 'text': 'S√≠', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#ef4444', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-no', 'isValid': True, 'order': 1, 'text': 'No', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1127.2771910487222, 'y': -184.77462205460319}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1127.2771910487222, 'y': -184.77462205460319}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1719.1921331667663, 'y': 443.14667971055474}, 'type': 'end', 'width': 303, 'height': 132, 'selected': True, 'positionAbsolute': {'x': 1719.1921331667663, 'y': 443.14667971055474}, 'dragging': False}, {'data': {'color': '#22c55e', 'conditionId': 'cond-decision-a3aac460-default-yes', 'index': 0, 'instruction': 'S√≠', 'label': 'S√≠', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'S√≠'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'position': {'x': 783.6986889851466, 'y': 139.27541320466423}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 783.6986889851466, 'y': 139.27541320466423}, 'dragging': False}, {'data': {'color': '#ef4444', 'conditionId': 'cond-decision-a3aac460-default-no', 'index': 1, 'instruction': 'No', 'label': 'No', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'No'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'position': {'x': 1138.3026224127445, 'y': 160.2144852355006}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1138.3026224127445, 'y': 160.2144852355006}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'index': 2, 'instruction': 'Nueva condici√≥n', 'label': 'Nueva condici√≥n', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'position': {'x': 1453.702756085232, 'y': 132.27012654249887}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1453.702756085232, 'y': 132.27012654249887}, 'dragging': False}], 'edges': [{'id': '11869', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11870', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11871', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'sourceHandle': 'output-cond-decision-a3aac460-default-yes', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11872', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'sourceHandle': 'output-cond-decision-a3aac460-default-no', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11873', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'sourceHandle': 'output-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11874', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11875', 'source': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11876', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-07 01:54:42,701 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 01:54:44,323 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 01:54:44,661 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 01:54:44,661 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 01:54:44,829 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:54:44] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:54:46,043 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 01:54:46,044 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 01:54:46,212 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:54:46] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:54:53,005 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:54:53] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:54:53,513 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 01:54:54,022 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:54:54] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:54:54,031 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 01:54:54,204 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 01:54:54,204 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 01:54:54,536 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Cargando nombre...', 'nodes': [], 'edges': []}
2025-08-07 01:54:54,536 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=0, edges_count=0, name='N/A'
2025-08-07 01:54:54,543 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:54:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:54:55,223 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=0, edges_count=0, name='None'
2025-08-07 01:54:56,312 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 809.1929581520127, 'y': -531.9340889869816}, 'type': 'start', 'width': 229, 'height': 156}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1130.0526140745797, 'y': -410.39912142829405}, 'type': 'message', 'width': 587, 'height': 113}, {'data': {'conditions': [{'color': '#22c55e', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-yes', 'isValid': True, 'order': 0, 'text': 'S√≠', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#ef4444', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-no', 'isValid': True, 'order': 1, 'text': 'No', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1127.2771910487222, 'y': -184.77462205460319}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1719.1921331667663, 'y': 443.14667971055474}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'color': '#22c55e', 'conditionId': 'cond-decision-a3aac460-default-yes', 'index': 0, 'instruction': 'S√≠', 'label': 'S√≠', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'S√≠'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'position': {'x': 783.6986889851466, 'y': 139.27541320466423}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#ef4444', 'conditionId': 'cond-decision-a3aac460-default-no', 'index': 1, 'instruction': 'No', 'label': 'No', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'No'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'position': {'x': 1138.3026224127445, 'y': 160.2144852355006}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'index': 2, 'instruction': 'Nueva condici√≥n', 'label': 'Nueva condici√≥n', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'position': {'x': 1453.702756085232, 'y': 132.27012654249887}, 'type': 'option', 'width': 260, 'height': 141}], 'edges': [{'id': '11877', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11878', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11879', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'sourceHandle': 'output-cond-decision-a3aac460-default-yes', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11880', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'sourceHandle': 'output-cond-decision-a3aac460-default-no', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11881', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'sourceHandle': 'output-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11882', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11883', 'source': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11884', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-07 01:54:56,313 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 01:54:57,001 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 01:55:01,924 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 01:55:01,924 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 01:55:02,092 - utils.transaction_utils - ERROR - Error al actualizar flujo completo
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.ForeignKeyViolation: insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20664) is not present in table "flows".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 50, in atomic_transaction
    session.commit()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1143, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_insertmany_context(dialect, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2128, in _exec_insertmany_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20664) is not present in table "flows".

[SQL: INSERT INTO flow_edges (chatbot_id, source_flow_id, target_flow_id, condition, label, edge_type, frontend_id, source_handle, target_handle, animated, edge_metadata, created_at, updated_at, is_deleted) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3: ... 2482 characters truncated ... 10, p11, p12, p13, sen_counter) ORDER BY sen_counter RETURNING flow_edges.id, flow_edges.id AS id__1]
[parameters: {'label__0': None, 'frontend_id__0': '11877', 'condition__0': '', 'source_handle__0': 'output', 'animated__0': True, 'source_flow_id__0': 20664, 'chatbot_id__0': 259, 'target_handle__0': 'input', 'edge_type__0': 'default', 'created_at__0': datetime.datetime(2025, 8, 7, 4, 54, 57, 349133), 'target_flow_id__0': 20665, 'edge_metadata__0': 'null', 'updated_at__0': datetime.datetime(2025, 8, 7, 4, 54, 57, 349143), 'is_deleted__0': False, 'label__1': None, 'frontend_id__1': '11878', 'condition__1': '', 'source_handle__1': 'default', 'animated__1': True, 'source_flow_id__1': 20665, 'chatbot_id__1': 259, 'target_handle__1': 'input', 'edge_type__1': 'eliteEdge', 'created_at__1': datetime.datetime(2025, 8, 7, 4, 54, 57, 349145), 'target_flow_id__1': 20666, 'edge_metadata__1': 'null', 'updated_at__1': datetime.datetime(2025, 8, 7, 4, 54, 57, 349147), 'is_deleted__1': False, 'label__2': None, 'frontend_id__2': '11879', 'condition__2': '', 'source_handle__2': 'output-cond-decision-a3aac460-default-yes', 'animated__2': True, 'source_flow_id__2': 20666, 'chatbot_id__2': 259, 'target_handle__2': 'target', 'edge_type__2': 'eliteEdge', 'created_at__2': datetime.datetime(2025, 8, 7, 4, 54, 57, 349149), 'target_flow_id__2': 20675, 'edge_metadata__2': 'null', 'updated_at__2': datetime.datetime(2025, 8, 7, 4, 54, 57, 349150), 'is_deleted__2': False, 'label__3': None, 'frontend_id__3': '11880', 'condition__3': '', 'source_handle__3': 'output-cond-decision-a3aac460-default-no', 'animated__3': True, 'source_flow_id__3': 20666, 'chatbot_id__3': 259, 'target_handle__3': 'target' ... 12 parameters truncated ... 'chatbot_id__4': 259, 'target_handle__4': 'target', 'edge_type__4': 'eliteEdge', 'created_at__4': datetime.datetime(2025, 8, 7, 4, 54, 57, 349155), 'target_flow_id__4': 20677, 'edge_metadata__4': 'null', 'updated_at__4': datetime.datetime(2025, 8, 7, 4, 54, 57, 349155), 'is_deleted__4': False, 'label__5': None, 'frontend_id__5': '11882', 'condition__5': '', 'source_handle__5': 'source', 'animated__5': True, 'source_flow_id__5': 20676, 'chatbot_id__5': 259, 'target_handle__5': 'input', 'edge_type__5': 'eliteEdge', 'created_at__5': datetime.datetime(2025, 8, 7, 4, 54, 57, 349157), 'target_flow_id__5': 20672, 'edge_metadata__5': 'null', 'updated_at__5': datetime.datetime(2025, 8, 7, 4, 54, 57, 349158), 'is_deleted__5': False, 'label__6': None, 'frontend_id__6': '11883', 'condition__6': '', 'source_handle__6': 'source', 'animated__6': True, 'source_flow_id__6': 20677, 'chatbot_id__6': 259, 'target_handle__6': 'input', 'edge_type__6': 'eliteEdge', 'created_at__6': datetime.datetime(2025, 8, 7, 4, 54, 57, 349160), 'target_flow_id__6': 20672, 'edge_metadata__6': 'null', 'updated_at__6': datetime.datetime(2025, 8, 7, 4, 54, 57, 349160), 'is_deleted__6': False, 'label__7': None, 'frontend_id__7': '11884', 'condition__7': '', 'source_handle__7': 'source', 'animated__7': True, 'source_flow_id__7': 20675, 'chatbot_id__7': 259, 'target_handle__7': 'input', 'edge_type__7': 'eliteEdge', 'created_at__7': datetime.datetime(2025, 8, 7, 4, 54, 57, 349162), 'target_flow_id__7': 20672, 'edge_metadata__7': 'null', 'updated_at__7': datetime.datetime(2025, 8, 7, 4, 54, 57, 349163), 'is_deleted__7': False}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-07 01:55:02,095 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:55:02] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:55:02,106 - utils.transaction_utils - ERROR - Error al actualizar flujo (PATCH) para plubot 259
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.ForeignKeyViolation: insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20664) is not present in table "flows".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 49, in atomic_transaction
    yield session
  File "/Users/master/Desktop/Plubot/plubot-backend/api/flow_api.py", line 311, in patch_flow
    update_full_flow(session, plubot_id, flow_data_for_update)
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 99, in wrapper
    with atomic_transaction(session, error_message):
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 144, in __exit__
    next(self.gen)
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 50, in atomic_transaction
    session.commit()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1143, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_insertmany_context(dialect, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2128, in _exec_insertmany_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20664) is not present in table "flows".

[SQL: INSERT INTO flow_edges (chatbot_id, source_flow_id, target_flow_id, condition, label, edge_type, frontend_id, source_handle, target_handle, animated, edge_metadata, created_at, updated_at, is_deleted) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3: ... 2482 characters truncated ... 10, p11, p12, p13, sen_counter) ORDER BY sen_counter RETURNING flow_edges.id, flow_edges.id AS id__1]
[parameters: {'label__0': None, 'frontend_id__0': '11877', 'condition__0': '', 'source_handle__0': 'output', 'animated__0': True, 'source_flow_id__0': 20664, 'chatbot_id__0': 259, 'target_handle__0': 'input', 'edge_type__0': 'default', 'created_at__0': datetime.datetime(2025, 8, 7, 4, 54, 57, 349133), 'target_flow_id__0': 20665, 'edge_metadata__0': 'null', 'updated_at__0': datetime.datetime(2025, 8, 7, 4, 54, 57, 349143), 'is_deleted__0': False, 'label__1': None, 'frontend_id__1': '11878', 'condition__1': '', 'source_handle__1': 'default', 'animated__1': True, 'source_flow_id__1': 20665, 'chatbot_id__1': 259, 'target_handle__1': 'input', 'edge_type__1': 'eliteEdge', 'created_at__1': datetime.datetime(2025, 8, 7, 4, 54, 57, 349145), 'target_flow_id__1': 20666, 'edge_metadata__1': 'null', 'updated_at__1': datetime.datetime(2025, 8, 7, 4, 54, 57, 349147), 'is_deleted__1': False, 'label__2': None, 'frontend_id__2': '11879', 'condition__2': '', 'source_handle__2': 'output-cond-decision-a3aac460-default-yes', 'animated__2': True, 'source_flow_id__2': 20666, 'chatbot_id__2': 259, 'target_handle__2': 'target', 'edge_type__2': 'eliteEdge', 'created_at__2': datetime.datetime(2025, 8, 7, 4, 54, 57, 349149), 'target_flow_id__2': 20675, 'edge_metadata__2': 'null', 'updated_at__2': datetime.datetime(2025, 8, 7, 4, 54, 57, 349150), 'is_deleted__2': False, 'label__3': None, 'frontend_id__3': '11880', 'condition__3': '', 'source_handle__3': 'output-cond-decision-a3aac460-default-no', 'animated__3': True, 'source_flow_id__3': 20666, 'chatbot_id__3': 259, 'target_handle__3': 'target' ... 12 parameters truncated ... 'chatbot_id__4': 259, 'target_handle__4': 'target', 'edge_type__4': 'eliteEdge', 'created_at__4': datetime.datetime(2025, 8, 7, 4, 54, 57, 349155), 'target_flow_id__4': 20677, 'edge_metadata__4': 'null', 'updated_at__4': datetime.datetime(2025, 8, 7, 4, 54, 57, 349155), 'is_deleted__4': False, 'label__5': None, 'frontend_id__5': '11882', 'condition__5': '', 'source_handle__5': 'source', 'animated__5': True, 'source_flow_id__5': 20676, 'chatbot_id__5': 259, 'target_handle__5': 'input', 'edge_type__5': 'eliteEdge', 'created_at__5': datetime.datetime(2025, 8, 7, 4, 54, 57, 349157), 'target_flow_id__5': 20672, 'edge_metadata__5': 'null', 'updated_at__5': datetime.datetime(2025, 8, 7, 4, 54, 57, 349158), 'is_deleted__5': False, 'label__6': None, 'frontend_id__6': '11883', 'condition__6': '', 'source_handle__6': 'source', 'animated__6': True, 'source_flow_id__6': 20677, 'chatbot_id__6': 259, 'target_handle__6': 'input', 'edge_type__6': 'eliteEdge', 'created_at__6': datetime.datetime(2025, 8, 7, 4, 54, 57, 349160), 'target_flow_id__6': 20672, 'edge_metadata__6': 'null', 'updated_at__6': datetime.datetime(2025, 8, 7, 4, 54, 57, 349160), 'is_deleted__6': False, 'label__7': None, 'frontend_id__7': '11884', 'condition__7': '', 'source_handle__7': 'source', 'animated__7': True, 'source_flow_id__7': 20675, 'chatbot_id__7': 259, 'target_handle__7': 'input', 'edge_type__7': 'eliteEdge', 'created_at__7': datetime.datetime(2025, 8, 7, 4, 54, 57, 349162), 'target_flow_id__7': 20672, 'edge_metadata__7': 'null', 'updated_at__7': datetime.datetime(2025, 8, 7, 4, 54, 57, 349163), 'is_deleted__7': False}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-07 01:55:02,111 - api.flow_api - ERROR - Error inesperado en PATCH para plubot 259
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.ForeignKeyViolation: insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20664) is not present in table "flows".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/master/Desktop/Plubot/plubot-backend/api/flow_api.py", line 311, in patch_flow
    update_full_flow(session, plubot_id, flow_data_for_update)
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 99, in wrapper
    with atomic_transaction(session, error_message):
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 144, in __exit__
    next(self.gen)
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 50, in atomic_transaction
    session.commit()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1143, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_insertmany_context(dialect, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2128, in _exec_insertmany_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20664) is not present in table "flows".

[SQL: INSERT INTO flow_edges (chatbot_id, source_flow_id, target_flow_id, condition, label, edge_type, frontend_id, source_handle, target_handle, animated, edge_metadata, created_at, updated_at, is_deleted) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3: ... 2482 characters truncated ... 10, p11, p12, p13, sen_counter) ORDER BY sen_counter RETURNING flow_edges.id, flow_edges.id AS id__1]
[parameters: {'label__0': None, 'frontend_id__0': '11877', 'condition__0': '', 'source_handle__0': 'output', 'animated__0': True, 'source_flow_id__0': 20664, 'chatbot_id__0': 259, 'target_handle__0': 'input', 'edge_type__0': 'default', 'created_at__0': datetime.datetime(2025, 8, 7, 4, 54, 57, 349133), 'target_flow_id__0': 20665, 'edge_metadata__0': 'null', 'updated_at__0': datetime.datetime(2025, 8, 7, 4, 54, 57, 349143), 'is_deleted__0': False, 'label__1': None, 'frontend_id__1': '11878', 'condition__1': '', 'source_handle__1': 'default', 'animated__1': True, 'source_flow_id__1': 20665, 'chatbot_id__1': 259, 'target_handle__1': 'input', 'edge_type__1': 'eliteEdge', 'created_at__1': datetime.datetime(2025, 8, 7, 4, 54, 57, 349145), 'target_flow_id__1': 20666, 'edge_metadata__1': 'null', 'updated_at__1': datetime.datetime(2025, 8, 7, 4, 54, 57, 349147), 'is_deleted__1': False, 'label__2': None, 'frontend_id__2': '11879', 'condition__2': '', 'source_handle__2': 'output-cond-decision-a3aac460-default-yes', 'animated__2': True, 'source_flow_id__2': 20666, 'chatbot_id__2': 259, 'target_handle__2': 'target', 'edge_type__2': 'eliteEdge', 'created_at__2': datetime.datetime(2025, 8, 7, 4, 54, 57, 349149), 'target_flow_id__2': 20675, 'edge_metadata__2': 'null', 'updated_at__2': datetime.datetime(2025, 8, 7, 4, 54, 57, 349150), 'is_deleted__2': False, 'label__3': None, 'frontend_id__3': '11880', 'condition__3': '', 'source_handle__3': 'output-cond-decision-a3aac460-default-no', 'animated__3': True, 'source_flow_id__3': 20666, 'chatbot_id__3': 259, 'target_handle__3': 'target' ... 12 parameters truncated ... 'chatbot_id__4': 259, 'target_handle__4': 'target', 'edge_type__4': 'eliteEdge', 'created_at__4': datetime.datetime(2025, 8, 7, 4, 54, 57, 349155), 'target_flow_id__4': 20677, 'edge_metadata__4': 'null', 'updated_at__4': datetime.datetime(2025, 8, 7, 4, 54, 57, 349155), 'is_deleted__4': False, 'label__5': None, 'frontend_id__5': '11882', 'condition__5': '', 'source_handle__5': 'source', 'animated__5': True, 'source_flow_id__5': 20676, 'chatbot_id__5': 259, 'target_handle__5': 'input', 'edge_type__5': 'eliteEdge', 'created_at__5': datetime.datetime(2025, 8, 7, 4, 54, 57, 349157), 'target_flow_id__5': 20672, 'edge_metadata__5': 'null', 'updated_at__5': datetime.datetime(2025, 8, 7, 4, 54, 57, 349158), 'is_deleted__5': False, 'label__6': None, 'frontend_id__6': '11883', 'condition__6': '', 'source_handle__6': 'source', 'animated__6': True, 'source_flow_id__6': 20677, 'chatbot_id__6': 259, 'target_handle__6': 'input', 'edge_type__6': 'eliteEdge', 'created_at__6': datetime.datetime(2025, 8, 7, 4, 54, 57, 349160), 'target_flow_id__6': 20672, 'edge_metadata__6': 'null', 'updated_at__6': datetime.datetime(2025, 8, 7, 4, 54, 57, 349160), 'is_deleted__6': False, 'label__7': None, 'frontend_id__7': '11884', 'condition__7': '', 'source_handle__7': 'source', 'animated__7': True, 'source_flow_id__7': 20675, 'chatbot_id__7': 259, 'target_handle__7': 'input', 'edge_type__7': 'eliteEdge', 'created_at__7': datetime.datetime(2025, 8, 7, 4, 54, 57, 349162), 'target_flow_id__7': 20672, 'edge_metadata__7': 'null', 'updated_at__7': datetime.datetime(2025, 8, 7, 4, 54, 57, 349163), 'is_deleted__7': False}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-07 01:55:02,281 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:55:02] "[35m[1mPATCH /api/flow/259 HTTP/1.1[0m" 500 -
2025-08-07 01:55:13,289 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:55:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:55:13,804 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 809.1929581520127, 'y': -531.9340889869816}, 'type': 'start', 'width': 229, 'height': 156}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1130.0526140745797, 'y': -410.39912142829405}, 'type': 'message', 'width': 587, 'height': 113}, {'data': {'conditions': [{'color': '#22c55e', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-yes', 'isValid': True, 'order': 0, 'text': 'S√≠', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#ef4444', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-no', 'isValid': True, 'order': 1, 'text': 'No', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1185.9218377009618, 'y': -187.86118240472103}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': True, 'positionAbsolute': {'x': 1185.9218377009618, 'y': -187.86118240472103}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1719.1921331667663, 'y': 443.14667971055474}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'color': '#22c55e', 'conditionId': 'cond-decision-a3aac460-default-yes', 'index': 0, 'instruction': 'S√≠', 'label': 'S√≠', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'S√≠'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'position': {'x': 783.6986889851466, 'y': 139.27541320466423}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#ef4444', 'conditionId': 'cond-decision-a3aac460-default-no', 'index': 1, 'instruction': 'No', 'label': 'No', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'No'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'position': {'x': 1138.3026224127445, 'y': 160.2144852355006}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'index': 2, 'instruction': 'Nueva condici√≥n', 'label': 'Nueva condici√≥n', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'position': {'x': 1449.0729155600552, 'y': 149.24620846814713}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1449.0729155600552, 'y': 149.24620846814713}, 'dragging': False}], 'edges': [{'id': '11877', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11878', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11879', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'sourceHandle': 'output-cond-decision-a3aac460-default-yes', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11880', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'sourceHandle': 'output-cond-decision-a3aac460-default-no', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11881', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'sourceHandle': 'output-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11882', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11883', 'source': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11884', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-07 01:55:13,805 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 01:55:14,492 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 01:55:16,391 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 01:55:16,391 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 01:55:16,565 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:55:16] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:56:54,416 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:56:54] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:56:54,933 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 01:56:55,450 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 01:56:55,620 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 01:56:55,620 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 01:56:55,960 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:56:55] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:59:50,999 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:59:50] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 01:59:51,522 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 01:59:51,693 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 01:59:51] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:01:37,352 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:01:37] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:01:37,861 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:01:38,028 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:01:38] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:03:33,098 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:03:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:03:33,625 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 02:03:34,142 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 02:03:34,318 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 02:03:34,319 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 02:03:34,664 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:03:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:04:54,263 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:04:54] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:04:54,772 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:04:54,940 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:04:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:05:22,514 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:05:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:05:23,031 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:05:23,200 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:05:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:05:29,325 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:05:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:05:29,870 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:05:30,036 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:05:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:06:40,621 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:06:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:06:41,153 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:06:41,326 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:06:41] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:01,557 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:01] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:02,063 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:02,230 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:10,980 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:10] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:11,573 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:11,743 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:11] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:15,143 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:15,311 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:17,500 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:17] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:18,071 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:18,241 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:18] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:21,415 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:21,585 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:25,249 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:25,922 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:26,288 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:26] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:29,207 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:29,375 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:32,031 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:32] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:32,553 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:32,723 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:32] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:35,614 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:35,782 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:35] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:40,199 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:40,710 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:40,887 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:43,376 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:43,544 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:43] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:46,928 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:46] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:07:47,457 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:07:47,630 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:07:47] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:08:12,111 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:08:12] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:08:12,621 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:08:12,789 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:08:12] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:08:17,502 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:08:17,676 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:08:17] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:08:23,241 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:08:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:08:23,763 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:08:23,935 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:08:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:08:26,269 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:08:26,471 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:08:26] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:08:29,529 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:08:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:08:30,038 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:08:30,206 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:08:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:08:38,437 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:08:38] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:08:38,990 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 02:08:39,512 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 02:08:39,683 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 02:08:39,683 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 02:08:40,058 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:08:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:09:34,508 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:09:34] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:09:35,032 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:09:35,200 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:09:35] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:09:49,660 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:09:49] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:09:50,247 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 810.17102162546, 'y': -479.1186614208253}, 'type': 'start', 'width': 231, 'height': 158, 'selected': True, 'positionAbsolute': {'x': 810.17102162546, 'y': -479.1186614208253}, 'dragging': False}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1083.1055673491073, 'y': -383.9914076452159}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1083.1055673491073, 'y': -383.9914076452159}, 'dragging': False}, {'data': {'conditions': [{'color': '#22c55e', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-yes', 'isValid': True, 'order': 0, 'text': 'S√≠', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#ef4444', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-no', 'isValid': True, 'order': 1, 'text': 'No', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1130.9218377009618, 'y': -180.86118240472103}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1130.9218377009618, 'y': -180.86118240472103}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1719.1921331667663, 'y': 443.14667971055474}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'color': '#22c55e', 'conditionId': 'cond-decision-a3aac460-default-yes', 'index': 0, 'instruction': 'S√≠', 'label': 'S√≠', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'S√≠'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'position': {'x': 741.6986889851466, 'y': 145.27541320466423}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 741.6986889851466, 'y': 145.27541320466423}, 'dragging': False}, {'data': {'color': '#ef4444', 'conditionId': 'cond-decision-a3aac460-default-no', 'index': 1, 'instruction': 'No', 'label': 'No', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'No'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'position': {'x': 1102.3026224127445, 'y': 201.2144852355006}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1102.3026224127445, 'y': 201.2144852355006}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'index': 2, 'instruction': 'Nueva condici√≥n', 'label': 'Nueva condici√≥n', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'position': {'x': 1407.214280434757, 'y': 176.3977555764488}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1407.214280434757, 'y': 176.3977555764488}, 'dragging': False}], 'edges': [{'id': '11893', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11894', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11895', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'sourceHandle': 'output-cond-decision-a3aac460-default-yes', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11896', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'sourceHandle': 'output-cond-decision-a3aac460-default-no', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11897', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'sourceHandle': 'output-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11898', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11899', 'source': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11900', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-07 02:09:50,248 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 02:09:50,921 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 02:09:53,950 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 02:09:53,951 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 02:09:54,123 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:09:54] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:15:20,073 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:15:20,079 - app - WARNING - Authentication error: Signature has expired
2025-08-07 02:15:20,080 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:20] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 02:15:20,086 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:20] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 02:15:20,087 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:20] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 02:15:20,092 - app - WARNING - Authentication error: Signature has expired
2025-08-07 02:15:20,093 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:20] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 02:15:20,094 - app - WARNING - Authentication error: Signature has expired
2025-08-07 02:15:20,094 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:20] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 02:15:20,104 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:20] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 02:15:20,108 - app - WARNING - Authentication error: Signature has expired
2025-08-07 02:15:20,109 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:20] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 02:15:22,249 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:22] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 02:15:23,333 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:23] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 02:15:23,889 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 02:15:24,410 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 02:15:24,581 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 02:15:24,582 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 02:15:24,925 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:15:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:18:08,014 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:18:08] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:18:08,572 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:18:08,764 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:18:08] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:20:27,035 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:20:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:20:27,557 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 02:20:28,082 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 02:20:28,253 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 02:20:28,254 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 02:20:28,589 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:20:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:21:41,862 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:21:41] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:21:42,386 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:21:42,557 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:21:42] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:25:06,547 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:25:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:25:07,055 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:25:07,221 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:25:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:26:28,834 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:26:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:26:29,344 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 02:26:29,862 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 02:26:30,033 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 02:26:30,034 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 02:26:30,373 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:26:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:27:35,455 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:27:35] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:27:35,956 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:27:36,121 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:27:36] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:30:47,692 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:30:47] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:30:48,199 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:30:48,370 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:30:48] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:35:47,205 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:35:47] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:35:47,719 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 02:35:48,234 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 02:35:48,404 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 02:35:48,404 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 02:35:48,739 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:35:48] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:37:33,044 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:37:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:37:33,558 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:37:33,734 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:37:33] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:38:28,884 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:38:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:38:29,387 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:38:29,553 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:38:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:41:45,572 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:41:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:41:46,080 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 02:41:46,596 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 02:41:46,768 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 02:41:46,769 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 02:41:47,107 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:41:47] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:45:25,013 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:45:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:45:25,517 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:45:25,683 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:45:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:49:20,721 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:49:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:49:21,295 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 02:49:21,812 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 02:49:22,066 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 02:49:22,067 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 02:49:22,408 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:49:22] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:49:29,497 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:49:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:49:30,001 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:49:30,167 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:49:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:54:56,863 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:54:56] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:54:57,403 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 02:54:57,922 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 02:54:58,098 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 02:54:58,099 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 02:54:58,444 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:54:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:55:52,181 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:55:52] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 02:55:52,695 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 02:55:52,862 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 02:55:52] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:01:15,830 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:01:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:01:16,355 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:01:16,866 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 03:01:17,038 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 03:01:17,038 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:01:17,379 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:01:17] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:02:06,860 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:02:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:02:07,365 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 03:02:07,532 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:02:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:03:12,392 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:03:12] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:03:12,919 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 03:03:13,091 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:03:13] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:05:09,558 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:05:09] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:05:10,063 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 03:05:10,231 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:05:10] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:10:48,259 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:10:48] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:10:48,774 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:10:49,292 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 03:10:49,467 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 03:10:49,468 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:10:49,807 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:10:49] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:11:14,333 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:11:14] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:11:14,851 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 03:11:15,021 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:11:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:32:49,065 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:32:49] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:32:49,072 - app - WARNING - Authentication error: Signature has expired
2025-08-07 03:32:49,073 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:32:49] "[31m[1mPATCH /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 03:32:49,079 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:32:49] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 03:32:49,082 - app - WARNING - Authentication error: Signature has expired
2025-08-07 03:32:49,082 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:32:49] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 03:32:49,101 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:32:49] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 03:32:49,105 - app - WARNING - Authentication error: Signature has expired
2025-08-07 03:32:49,105 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:32:49] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 03:33:02,385 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:02] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 03:33:03,495 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:03] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 03:33:03,581 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:04,102 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:33:04,584 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:04] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:04,714 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 03:33:04,887 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 03:33:04,887 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:33:05,094 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Cargando nombre...', 'nodes': [], 'edges': [], 'viewport': {'x': 0, 'y': 0, 'zoom': 1}}
2025-08-07 03:33:05,095 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=0, edges_count=0, name='N/A'
2025-08-07 03:33:05,231 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:05] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:05,782 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=0, edges_count=0, name='None'
2025-08-07 03:33:06,998 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 810.17102162546, 'y': -479.1186614208253}, 'type': 'start', 'width': 229, 'height': 156}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1719.1921331667663, 'y': 443.14667971055474}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1083.1055673491073, 'y': -383.9914076452159}, 'type': 'message', 'width': 587, 'height': 113}, {'data': {'conditions': [{'color': '#22c55e', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-yes', 'isValid': True, 'order': 0, 'text': 'S√≠', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#ef4444', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-no', 'isValid': True, 'order': 1, 'text': 'No', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1130.9218377009618, 'y': -180.86118240472103}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'color': '#22c55e', 'conditionId': 'cond-decision-a3aac460-default-yes', 'index': 0, 'instruction': 'S√≠', 'label': 'S√≠', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'S√≠'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'position': {'x': 741.6986889851466, 'y': 145.27541320466423}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#ef4444', 'conditionId': 'cond-decision-a3aac460-default-no', 'index': 1, 'instruction': 'No', 'label': 'No', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'No'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'position': {'x': 1102.3026224127445, 'y': 201.2144852355006}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'index': 2, 'instruction': 'Nueva condici√≥n', 'label': 'Nueva condici√≥n', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'position': {'x': 1407.214280434757, 'y': 176.3977555764488}, 'type': 'option', 'width': 260, 'height': 141}], 'edges': [{'id': '11901', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11902', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11903', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'sourceHandle': 'output-cond-decision-a3aac460-default-yes', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11904', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'sourceHandle': 'output-cond-decision-a3aac460-default-no', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11905', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'sourceHandle': 'output-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11906', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11907', 'source': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11908', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-07 03:33:06,998 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 03:33:07,692 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 03:33:12,518 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 03:33:12,518 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 03:33:12,688 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:12] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:12,690 - utils.transaction_utils - ERROR - Error al actualizar flujo completo
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.ForeignKeyViolation: insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20678) is not present in table "flows".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 50, in atomic_transaction
    session.commit()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1143, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_insertmany_context(dialect, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2128, in _exec_insertmany_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20678) is not present in table "flows".

[SQL: INSERT INTO flow_edges (chatbot_id, source_flow_id, target_flow_id, condition, label, edge_type, frontend_id, source_handle, target_handle, animated, edge_metadata, created_at, updated_at, is_deleted) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3: ... 2482 characters truncated ... 10, p11, p12, p13, sen_counter) ORDER BY sen_counter RETURNING flow_edges.id, flow_edges.id AS id__1]
[parameters: {'label__0': None, 'frontend_id__0': '11901', 'condition__0': '', 'source_handle__0': 'output', 'animated__0': True, 'source_flow_id__0': 20678, 'chatbot_id__0': 259, 'target_handle__0': 'input', 'edge_type__0': 'default', 'created_at__0': datetime.datetime(2025, 8, 7, 6, 33, 8, 36625), 'target_flow_id__0': 20679, 'edge_metadata__0': 'null', 'updated_at__0': datetime.datetime(2025, 8, 7, 6, 33, 8, 36629), 'is_deleted__0': False, 'label__1': None, 'frontend_id__1': '11902', 'condition__1': '', 'source_handle__1': 'default', 'animated__1': True, 'source_flow_id__1': 20679, 'chatbot_id__1': 259, 'target_handle__1': 'input', 'edge_type__1': 'eliteEdge', 'created_at__1': datetime.datetime(2025, 8, 7, 6, 33, 8, 36630), 'target_flow_id__1': 20680, 'edge_metadata__1': 'null', 'updated_at__1': datetime.datetime(2025, 8, 7, 6, 33, 8, 36630), 'is_deleted__1': False, 'label__2': None, 'frontend_id__2': '11903', 'condition__2': '', 'source_handle__2': 'output-cond-decision-a3aac460-default-yes', 'animated__2': True, 'source_flow_id__2': 20680, 'chatbot_id__2': 259, 'target_handle__2': 'target', 'edge_type__2': 'eliteEdge', 'created_at__2': datetime.datetime(2025, 8, 7, 6, 33, 8, 36631), 'target_flow_id__2': 20682, 'edge_metadata__2': 'null', 'updated_at__2': datetime.datetime(2025, 8, 7, 6, 33, 8, 36632), 'is_deleted__2': False, 'label__3': None, 'frontend_id__3': '11904', 'condition__3': '', 'source_handle__3': 'output-cond-decision-a3aac460-default-no', 'animated__3': True, 'source_flow_id__3': 20680, 'chatbot_id__3': 259, 'target_handle__3': 'target' ... 12 parameters truncated ... 'chatbot_id__4': 259, 'target_handle__4': 'target', 'edge_type__4': 'eliteEdge', 'created_at__4': datetime.datetime(2025, 8, 7, 6, 33, 8, 36634), 'target_flow_id__4': 20684, 'edge_metadata__4': 'null', 'updated_at__4': datetime.datetime(2025, 8, 7, 6, 33, 8, 36634), 'is_deleted__4': False, 'label__5': None, 'frontend_id__5': '11906', 'condition__5': '', 'source_handle__5': 'source', 'animated__5': True, 'source_flow_id__5': 20683, 'chatbot_id__5': 259, 'target_handle__5': 'input', 'edge_type__5': 'eliteEdge', 'created_at__5': datetime.datetime(2025, 8, 7, 6, 33, 8, 36635), 'target_flow_id__5': 20681, 'edge_metadata__5': 'null', 'updated_at__5': datetime.datetime(2025, 8, 7, 6, 33, 8, 36635), 'is_deleted__5': False, 'label__6': None, 'frontend_id__6': '11907', 'condition__6': '', 'source_handle__6': 'source', 'animated__6': True, 'source_flow_id__6': 20684, 'chatbot_id__6': 259, 'target_handle__6': 'input', 'edge_type__6': 'eliteEdge', 'created_at__6': datetime.datetime(2025, 8, 7, 6, 33, 8, 36636), 'target_flow_id__6': 20681, 'edge_metadata__6': 'null', 'updated_at__6': datetime.datetime(2025, 8, 7, 6, 33, 8, 36636), 'is_deleted__6': False, 'label__7': None, 'frontend_id__7': '11908', 'condition__7': '', 'source_handle__7': 'source', 'animated__7': True, 'source_flow_id__7': 20682, 'chatbot_id__7': 259, 'target_handle__7': 'input', 'edge_type__7': 'eliteEdge', 'created_at__7': datetime.datetime(2025, 8, 7, 6, 33, 8, 36637), 'target_flow_id__7': 20681, 'edge_metadata__7': 'null', 'updated_at__7': datetime.datetime(2025, 8, 7, 6, 33, 8, 36637), 'is_deleted__7': False}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-07 03:33:12,694 - utils.transaction_utils - ERROR - Error al actualizar flujo (PATCH) para plubot 259
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.ForeignKeyViolation: insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20678) is not present in table "flows".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 49, in atomic_transaction
    yield session
  File "/Users/master/Desktop/Plubot/plubot-backend/api/flow_api.py", line 311, in patch_flow
    update_full_flow(session, plubot_id, flow_data_for_update)
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 99, in wrapper
    with atomic_transaction(session, error_message):
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 144, in __exit__
    next(self.gen)
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 50, in atomic_transaction
    session.commit()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1143, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_insertmany_context(dialect, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2128, in _exec_insertmany_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20678) is not present in table "flows".

[SQL: INSERT INTO flow_edges (chatbot_id, source_flow_id, target_flow_id, condition, label, edge_type, frontend_id, source_handle, target_handle, animated, edge_metadata, created_at, updated_at, is_deleted) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3: ... 2482 characters truncated ... 10, p11, p12, p13, sen_counter) ORDER BY sen_counter RETURNING flow_edges.id, flow_edges.id AS id__1]
[parameters: {'label__0': None, 'frontend_id__0': '11901', 'condition__0': '', 'source_handle__0': 'output', 'animated__0': True, 'source_flow_id__0': 20678, 'chatbot_id__0': 259, 'target_handle__0': 'input', 'edge_type__0': 'default', 'created_at__0': datetime.datetime(2025, 8, 7, 6, 33, 8, 36625), 'target_flow_id__0': 20679, 'edge_metadata__0': 'null', 'updated_at__0': datetime.datetime(2025, 8, 7, 6, 33, 8, 36629), 'is_deleted__0': False, 'label__1': None, 'frontend_id__1': '11902', 'condition__1': '', 'source_handle__1': 'default', 'animated__1': True, 'source_flow_id__1': 20679, 'chatbot_id__1': 259, 'target_handle__1': 'input', 'edge_type__1': 'eliteEdge', 'created_at__1': datetime.datetime(2025, 8, 7, 6, 33, 8, 36630), 'target_flow_id__1': 20680, 'edge_metadata__1': 'null', 'updated_at__1': datetime.datetime(2025, 8, 7, 6, 33, 8, 36630), 'is_deleted__1': False, 'label__2': None, 'frontend_id__2': '11903', 'condition__2': '', 'source_handle__2': 'output-cond-decision-a3aac460-default-yes', 'animated__2': True, 'source_flow_id__2': 20680, 'chatbot_id__2': 259, 'target_handle__2': 'target', 'edge_type__2': 'eliteEdge', 'created_at__2': datetime.datetime(2025, 8, 7, 6, 33, 8, 36631), 'target_flow_id__2': 20682, 'edge_metadata__2': 'null', 'updated_at__2': datetime.datetime(2025, 8, 7, 6, 33, 8, 36632), 'is_deleted__2': False, 'label__3': None, 'frontend_id__3': '11904', 'condition__3': '', 'source_handle__3': 'output-cond-decision-a3aac460-default-no', 'animated__3': True, 'source_flow_id__3': 20680, 'chatbot_id__3': 259, 'target_handle__3': 'target' ... 12 parameters truncated ... 'chatbot_id__4': 259, 'target_handle__4': 'target', 'edge_type__4': 'eliteEdge', 'created_at__4': datetime.datetime(2025, 8, 7, 6, 33, 8, 36634), 'target_flow_id__4': 20684, 'edge_metadata__4': 'null', 'updated_at__4': datetime.datetime(2025, 8, 7, 6, 33, 8, 36634), 'is_deleted__4': False, 'label__5': None, 'frontend_id__5': '11906', 'condition__5': '', 'source_handle__5': 'source', 'animated__5': True, 'source_flow_id__5': 20683, 'chatbot_id__5': 259, 'target_handle__5': 'input', 'edge_type__5': 'eliteEdge', 'created_at__5': datetime.datetime(2025, 8, 7, 6, 33, 8, 36635), 'target_flow_id__5': 20681, 'edge_metadata__5': 'null', 'updated_at__5': datetime.datetime(2025, 8, 7, 6, 33, 8, 36635), 'is_deleted__5': False, 'label__6': None, 'frontend_id__6': '11907', 'condition__6': '', 'source_handle__6': 'source', 'animated__6': True, 'source_flow_id__6': 20684, 'chatbot_id__6': 259, 'target_handle__6': 'input', 'edge_type__6': 'eliteEdge', 'created_at__6': datetime.datetime(2025, 8, 7, 6, 33, 8, 36636), 'target_flow_id__6': 20681, 'edge_metadata__6': 'null', 'updated_at__6': datetime.datetime(2025, 8, 7, 6, 33, 8, 36636), 'is_deleted__6': False, 'label__7': None, 'frontend_id__7': '11908', 'condition__7': '', 'source_handle__7': 'source', 'animated__7': True, 'source_flow_id__7': 20682, 'chatbot_id__7': 259, 'target_handle__7': 'input', 'edge_type__7': 'eliteEdge', 'created_at__7': datetime.datetime(2025, 8, 7, 6, 33, 8, 36637), 'target_flow_id__7': 20681, 'edge_metadata__7': 'null', 'updated_at__7': datetime.datetime(2025, 8, 7, 6, 33, 8, 36637), 'is_deleted__7': False}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-07 03:33:12,697 - api.flow_api - ERROR - Error inesperado en PATCH para plubot 259
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.ForeignKeyViolation: insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20678) is not present in table "flows".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/master/Desktop/Plubot/plubot-backend/api/flow_api.py", line 311, in patch_flow
    update_full_flow(session, plubot_id, flow_data_for_update)
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 99, in wrapper
    with atomic_transaction(session, error_message):
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 144, in __exit__
    next(self.gen)
  File "/Users/master/Desktop/Plubot/plubot-backend/utils/transaction_utils.py", line 50, in atomic_transaction
    session.commit()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1143, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_insertmany_context(dialect, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2128, in _exec_insertmany_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2120, in _exec_insertmany_context
    dialect.do_execute(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "flow_edges" violates foreign key constraint "flow_edges_source_flow_id_fkey"
DETALLE:  Key (source_flow_id)=(20678) is not present in table "flows".

[SQL: INSERT INTO flow_edges (chatbot_id, source_flow_id, target_flow_id, condition, label, edge_type, frontend_id, source_handle, target_handle, animated, edge_metadata, created_at, updated_at, is_deleted) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3: ... 2482 characters truncated ... 10, p11, p12, p13, sen_counter) ORDER BY sen_counter RETURNING flow_edges.id, flow_edges.id AS id__1]
[parameters: {'label__0': None, 'frontend_id__0': '11901', 'condition__0': '', 'source_handle__0': 'output', 'animated__0': True, 'source_flow_id__0': 20678, 'chatbot_id__0': 259, 'target_handle__0': 'input', 'edge_type__0': 'default', 'created_at__0': datetime.datetime(2025, 8, 7, 6, 33, 8, 36625), 'target_flow_id__0': 20679, 'edge_metadata__0': 'null', 'updated_at__0': datetime.datetime(2025, 8, 7, 6, 33, 8, 36629), 'is_deleted__0': False, 'label__1': None, 'frontend_id__1': '11902', 'condition__1': '', 'source_handle__1': 'default', 'animated__1': True, 'source_flow_id__1': 20679, 'chatbot_id__1': 259, 'target_handle__1': 'input', 'edge_type__1': 'eliteEdge', 'created_at__1': datetime.datetime(2025, 8, 7, 6, 33, 8, 36630), 'target_flow_id__1': 20680, 'edge_metadata__1': 'null', 'updated_at__1': datetime.datetime(2025, 8, 7, 6, 33, 8, 36630), 'is_deleted__1': False, 'label__2': None, 'frontend_id__2': '11903', 'condition__2': '', 'source_handle__2': 'output-cond-decision-a3aac460-default-yes', 'animated__2': True, 'source_flow_id__2': 20680, 'chatbot_id__2': 259, 'target_handle__2': 'target', 'edge_type__2': 'eliteEdge', 'created_at__2': datetime.datetime(2025, 8, 7, 6, 33, 8, 36631), 'target_flow_id__2': 20682, 'edge_metadata__2': 'null', 'updated_at__2': datetime.datetime(2025, 8, 7, 6, 33, 8, 36632), 'is_deleted__2': False, 'label__3': None, 'frontend_id__3': '11904', 'condition__3': '', 'source_handle__3': 'output-cond-decision-a3aac460-default-no', 'animated__3': True, 'source_flow_id__3': 20680, 'chatbot_id__3': 259, 'target_handle__3': 'target' ... 12 parameters truncated ... 'chatbot_id__4': 259, 'target_handle__4': 'target', 'edge_type__4': 'eliteEdge', 'created_at__4': datetime.datetime(2025, 8, 7, 6, 33, 8, 36634), 'target_flow_id__4': 20684, 'edge_metadata__4': 'null', 'updated_at__4': datetime.datetime(2025, 8, 7, 6, 33, 8, 36634), 'is_deleted__4': False, 'label__5': None, 'frontend_id__5': '11906', 'condition__5': '', 'source_handle__5': 'source', 'animated__5': True, 'source_flow_id__5': 20683, 'chatbot_id__5': 259, 'target_handle__5': 'input', 'edge_type__5': 'eliteEdge', 'created_at__5': datetime.datetime(2025, 8, 7, 6, 33, 8, 36635), 'target_flow_id__5': 20681, 'edge_metadata__5': 'null', 'updated_at__5': datetime.datetime(2025, 8, 7, 6, 33, 8, 36635), 'is_deleted__5': False, 'label__6': None, 'frontend_id__6': '11907', 'condition__6': '', 'source_handle__6': 'source', 'animated__6': True, 'source_flow_id__6': 20684, 'chatbot_id__6': 259, 'target_handle__6': 'input', 'edge_type__6': 'eliteEdge', 'created_at__6': datetime.datetime(2025, 8, 7, 6, 33, 8, 36636), 'target_flow_id__6': 20681, 'edge_metadata__6': 'null', 'updated_at__6': datetime.datetime(2025, 8, 7, 6, 33, 8, 36636), 'is_deleted__6': False, 'label__7': None, 'frontend_id__7': '11908', 'condition__7': '', 'source_handle__7': 'source', 'animated__7': True, 'source_flow_id__7': 20682, 'chatbot_id__7': 259, 'target_handle__7': 'input', 'edge_type__7': 'eliteEdge', 'created_at__7': datetime.datetime(2025, 8, 7, 6, 33, 8, 36637), 'target_flow_id__7': 20681, 'edge_metadata__7': 'null', 'updated_at__7': datetime.datetime(2025, 8, 7, 6, 33, 8, 36637), 'is_deleted__7': False}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-07 03:33:12,874 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:12] "[35m[1mPATCH /api/flow/259 HTTP/1.1[0m" 500 -
2025-08-07 03:33:22,248 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:22,754 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-d3ff0172', 'label': 'Inicio'}, 'id': 'start-d3ff0172', 'position': {'x': 860.17102162546, 'y': -550.1186614208252}, 'type': 'start', 'width': 229, 'height': 156, 'selected': False, 'positionAbsolute': {'x': 860.17102162546, 'y': -550.1186614208252}, 'dragging': False}, {'data': {'id': 'end-8d2375fe', 'label': 'Fin'}, 'id': 'end-8d2375fe', 'position': {'x': 1719.1921331667663, 'y': 443.14667971055474}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'id': 'message-e7acdc11', 'label': 'Mensaje', 'lastUpdated': '2025-08-05T07:29:34.000Z', 'message': 'Hola, buenas tardes {{cliente}}, el precio es de {{precio}}, nuestra dirreci√≥n es {{direccion}}', 'variables': [{'id': 1754373613844, 'name': 'cliente', 'value': 'juan'}, {'id': 1754373995922, 'name': 'precio', 'value': '$100'}, {'id': 1754377769347, 'name': 'direccion', 'value': 'Calle Felicidad, 111'}]}, 'id': 'message-e7acdc11', 'position': {'x': 1098.1055673491073, 'y': -381.9914076452159}, 'type': 'message', 'width': 587, 'height': 113, 'selected': False, 'positionAbsolute': {'x': 1098.1055673491073, 'y': -381.9914076452159}, 'dragging': False}, {'data': {'conditions': [{'color': '#22c55e', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-yes', 'isValid': True, 'order': 0, 'text': 'S√≠', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#ef4444', 'createdAt': '2025-08-07T03:14:19.418Z', 'id': 'cond-decision-a3aac460-default-no', 'isValid': True, 'order': 1, 'text': 'No', 'updatedAt': '2025-08-07T03:14:19.418Z'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'text': 'Nueva condici√≥n'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-a3aac460', 'label': 'Decisi√≥n'}, 'id': 'decision-a3aac460', 'position': {'x': 1101.9218377009618, 'y': -151.86118240472103}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': True, 'positionAbsolute': {'x': 1101.9218377009618, 'y': -151.86118240472103}, 'dragging': False}, {'data': {'color': '#22c55e', 'conditionId': 'cond-decision-a3aac460-default-yes', 'index': 0, 'instruction': 'S√≠', 'label': 'S√≠', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'S√≠'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'position': {'x': 741.6986889851466, 'y': 145.27541320466423}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#ef4444', 'conditionId': 'cond-decision-a3aac460-default-no', 'index': 1, 'instruction': 'No', 'label': 'No', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'No'}, 'id': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'position': {'x': 1102.3026224127445, 'y': 201.2144852355006}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'index': 2, 'instruction': 'Nueva condici√≥n', 'label': 'Nueva condici√≥n', 'lastUpdated': '2025-08-07T03:14:58.978Z', 'sourceNode': 'decision-a3aac460', 'text': 'Nueva condici√≥n'}, 'id': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'position': {'x': 1407.214280434757, 'y': 176.3977555764488}, 'type': 'option', 'width': 260, 'height': 141}], 'edges': [{'id': '11901', 'source': 'start-d3ff0172', 'target': 'message-e7acdc11', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11902', 'source': 'message-e7acdc11', 'target': 'decision-a3aac460', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11903', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'sourceHandle': 'output-cond-decision-a3aac460-default-yes', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11904', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'sourceHandle': 'output-cond-decision-a3aac460-default-no', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11905', 'source': 'decision-a3aac460', 'target': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'sourceHandle': 'output-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11906', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-no', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11907', 'source': 'option-decision-a3aac460-condition-20f2b4af-4215-472a-a6e8-a778ff6abadd', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11908', 'source': 'option-decision-a3aac460-cond-decision-a3aac460-default-yes', 'target': 'end-8d2375fe', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-07 03:33:22,755 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 03:33:23,233 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:33:23,438 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 03:33:23,750 - api.flow_api - INFO - DB query for flows returned 0 items.
2025-08-07 03:33:23,921 - api.flow_api - INFO - DB query for edges returned 0 items.
2025-08-07 03:33:23,921 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:33:24,265 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:25,247 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Cargando nombre...', 'nodes': [], 'edges': [], 'viewport': {'x': 0, 'y': 0, 'zoom': 1}}
2025-08-07 03:33:25,248 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=0, edges_count=0, name='N/A'
2025-08-07 03:33:25,330 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 03:33:25,330 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 03:33:25,498 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:25] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:25,836 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [], 'edges': []}
2025-08-07 03:33:25,836 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=0, edges_count=0, name='N/A'
2025-08-07 03:33:25,935 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=0, edges_count=0, name='None'
2025-08-07 03:33:26,522 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=0, edges_count=0, name='None'
2025-08-07 03:33:30,937 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:30] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:31,441 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:33:31,939 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:31] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:32,677 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 03:33:32,678 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 03:33:32,849 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:32] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:32,949 - api.flow_api - INFO - DB query for flows returned 0 items.
2025-08-07 03:33:33,123 - api.flow_api - INFO - DB query for edges returned 0 items.
2025-08-07 03:33:33,124 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:33:33,406 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Cargando nombre...', 'nodes': [], 'edges': [], 'viewport': {'x': 0, 'y': 0, 'zoom': 1}}
2025-08-07 03:33:33,406 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=0, edges_count=0, name='N/A'
2025-08-07 03:33:33,455 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Cargando nombre...', 'nodes': [], 'edges': [], 'viewport': {'x': 0, 'y': 0, 'zoom': 1}}
2025-08-07 03:33:33,455 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=0, edges_count=0, name='N/A'
2025-08-07 03:33:33,461 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:33] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:34,094 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=0, edges_count=0, name='None'
2025-08-07 03:33:34,140 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=0, edges_count=0, name='None'
2025-08-07 03:33:34,606 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 03:33:34,606 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 03:33:34,658 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 03:33:34,658 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 03:33:34,775 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:34] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:34,832 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:34] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:37,360 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 03:33:37,360 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 03:33:37,535 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:37] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:39,196 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:39,699 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:33:40,217 - api.flow_api - INFO - DB query for flows returned 0 items.
2025-08-07 03:33:40,388 - api.flow_api - INFO - DB query for edges returned 0 items.
2025-08-07 03:33:40,388 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:33:40,725 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:48,432 - root - INFO - Sistema de logging configurado correctamente
2025-08-07 03:33:48,441 - root - INFO - Sistema de logging configurado correctamente
2025-08-07 03:33:48,450 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-07 03:33:48,450 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-07 03:33:51,399 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:33:54,408 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:33:57,376 - api.flow_api - INFO - DB query for flows returned 0 items.
2025-08-07 03:33:57,545 - api.flow_api - INFO - DB query for edges returned 0 items.
2025-08-07 03:33:57,545 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:33:57,882 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:33:57] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:34:01,211 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:34:01] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:34:01,740 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 03:34:01,911 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:34:01] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:35:04,997 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:35:04] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:35:05,518 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'id': 'start-53b6501a', 'type': 'start', 'position': {'x': 588.2073833109642, 'y': -275.13288216140666}, 'data': {'id': 'start-53b6501a', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 231, 'height': 158, 'selected': True, 'positionAbsolute': {'x': 588.2073833109642, 'y': -275.13288216140666}, 'dragging': False}, {'id': 'message-9ef98613', 'type': 'message', 'position': {'x': 868.8251041338972, 'y': -87.9639741734688}, 'data': {'id': 'message-9ef98613', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 868.8251041338972, 'y': -87.9639741734688}, 'dragging': False}, {'id': 'decision-af2d2312', 'type': 'decision', 'position': {'x': 827.8438964312654, 'y': 100.54958125863789}, 'data': {'id': 'decision-af2d2312', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'Opci√≥n B', 'color': '#e74c3c'}, {'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 827.8438964312654, 'y': 100.54958125863789}, 'dragging': False}, {'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'type': 'option', 'position': {'x': 546.4396035398598, 'y': 365.8404523259197}, 'data': {'sourceNode': 'decision-af2d2312', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db', 'lastUpdated': '2025-08-07T06:34:26.122Z', 'index': 0, 'label': 'Opci√≥n A'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 546.4396035398598, 'y': 365.8404523259197}, 'dragging': False}, {'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'type': 'option', 'position': {'x': 864.726983363634, 'y': 467.69709643398994}, 'data': {'sourceNode': 'decision-af2d2312', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c', 'lastUpdated': '2025-08-07T06:34:26.122Z', 'index': 1, 'label': 'Opci√≥n B'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 864.726983363634, 'y': 467.69709643398994}, 'dragging': False}, {'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'type': 'option', 'position': {'x': 1180.296915687845, 'y': 371.5836746098664}, 'data': {'sourceNode': 'decision-af2d2312', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-07T06:34:26.122Z', 'index': 2, 'label': 'Nueva condici√≥n'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1180.296915687845, 'y': 371.5836746098664}, 'dragging': False}, {'id': 'end-3fb59be4', 'type': 'end', 'position': {'x': 1240.388053971093, 'y': 834.1131991357482}, 'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 303, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1240.388053971093, 'y': 834.1131991357482}, 'dragging': False}], 'edges': [{'id': 'reactflow__edge-start-53b6501aoutput-message-9ef98613input', 'source': 'start-53b6501a', 'target': 'message-9ef98613', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-message-9ef98613default-decision-af2d2312input', 'source': 'message-9ef98613', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'edge-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2source-end-3fb59be4input', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79source-end-3fb59be4input', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bcsource-end-3fb59be4input', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-07 03:35:05,518 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 03:35:06,195 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 03:35:08,068 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 03:35:08,068 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 03:35:08,237 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:35:08] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:35:08,908 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'id': 'start-53b6501a', 'type': 'start', 'position': {'x': 588.2073833109642, 'y': -275.13288216140666}, 'data': {'id': 'start-53b6501a', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 231, 'height': 144, 'selected': True, 'positionAbsolute': {'x': 588.2073833109642, 'y': -275.13288216140666}, 'dragging': False}, {'id': 'message-9ef98613', 'type': 'message', 'position': {'x': 868.8251041338972, 'y': -87.9639741734688}, 'data': {'id': 'message-9ef98613', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': False, 'positionAbsolute': {'x': 868.8251041338972, 'y': -87.9639741734688}, 'dragging': False}, {'id': 'decision-af2d2312', 'type': 'decision', 'position': {'x': 827.8438964312654, 'y': 100.54958125863789}, 'data': {'id': 'decision-af2d2312', 'label': 'Decisi√≥n', 'handleIds': ['output-0', 'output-1'], 'conditions': [{'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'Opci√≥n A', 'color': '#3498db'}, {'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'Opci√≥n B', 'color': '#e74c3c'}, {'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'Nueva condici√≥n', 'condition': '', 'color': '#FFA500'}]}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 827.8438964312654, 'y': 100.54958125863789}, 'dragging': False}, {'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'type': 'option', 'position': {'x': 546.4396035398598, 'y': 365.8404523259197}, 'data': {'sourceNode': 'decision-af2d2312', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'Opci√≥n A', 'instruction': 'Opci√≥n A', 'color': '#3498db', 'lastUpdated': '2025-08-07T06:34:26.122Z', 'index': 0, 'label': 'Opci√≥n A'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 546.4396035398598, 'y': 365.8404523259197}, 'dragging': False}, {'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'type': 'option', 'position': {'x': 864.726983363634, 'y': 467.69709643398994}, 'data': {'sourceNode': 'decision-af2d2312', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'Opci√≥n B', 'instruction': 'Opci√≥n B', 'color': '#e74c3c', 'lastUpdated': '2025-08-07T06:34:26.122Z', 'index': 1, 'label': 'Opci√≥n B'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 864.726983363634, 'y': 467.69709643398994}, 'dragging': False}, {'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'type': 'option', 'position': {'x': 1180.296915687845, 'y': 371.5836746098664}, 'data': {'sourceNode': 'decision-af2d2312', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'Nueva condici√≥n', 'instruction': 'Nueva condici√≥n', 'color': '#FFA500', 'lastUpdated': '2025-08-07T06:34:26.122Z', 'index': 2, 'label': 'Nueva condici√≥n'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1180.296915687845, 'y': 371.5836746098664}, 'dragging': False}, {'id': 'end-3fb59be4', 'type': 'end', 'position': {'x': 1240.388053971093, 'y': 834.1131991357482}, 'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 303, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1240.388053971093, 'y': 834.1131991357482}, 'dragging': False}], 'edges': [{'id': 'reactflow__edge-start-53b6501aoutput-message-9ef98613input', 'source': 'start-53b6501a', 'target': 'message-9ef98613', 'sourceHandle': 'output', 'targetHandle': 'input'}, {'id': 'reactflow__edge-message-9ef98613default-decision-af2d2312input', 'source': 'message-9ef98613', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'edge-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}, {'id': 'reactflow__edge-option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2source-end-3fb59be4input', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79source-end-3fb59be4input', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input'}, {'id': 'reactflow__edge-option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bcsource-end-3fb59be4input', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input'}]}
2025-08-07 03:35:08,909 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 03:35:09,581 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 03:35:10,088 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 03:35:10,088 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 03:35:10,259 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:35:10] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:35:29,217 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:35:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:35:29,730 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:35:30,242 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 03:35:30,411 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 03:35:30,412 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:35:30,750 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:35:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:38:35,279 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:38:35] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:38:35,792 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 03:38:35,965 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:38:35] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:41:16,045 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:41:16] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:41:16,603 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'id': 'start-53b6501a', 'label': 'Inicio'}, 'id': 'start-53b6501a', 'position': {'x': 619.2073833109642, 'y': -202.13288216140666}, 'type': 'start', 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 619.2073833109642, 'y': -202.13288216140666}, 'dragging': False}, {'data': {'id': 'message-9ef98613', 'label': 'Mensaje', 'message': 'Hola {{cliente}}', 'variables': [{'name': 'cliente', 'value': 'Seba', 'id': 1754548806502}], 'lastUpdated': '2025-08-07T06:40:39.835Z'}, 'id': 'message-9ef98613', 'position': {'x': 870.8251041338972, 'y': -19.963974173468785}, 'type': 'message', 'width': 226, 'height': 104, 'selected': False, 'positionAbsolute': {'x': 870.8251041338972, 'y': -19.963974173468785}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'label': 'Decisi√≥n', 'isEditing': False, 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 842.8438964312654, 'y': 165.5495812586379}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 842.8438964312654, 'y': 165.5495812586379}, 'dragging': False}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1262.388053971093, 'y': 748.1131991357482}, 'type': 'end', 'width': 303, 'height': 132, 'selected': True, 'positionAbsolute': {'x': 1262.388053971093, 'y': 748.1131991357482}, 'dragging': False}, {'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'type': 'option', 'position': {'x': 561.4396035398598, 'y': 423.8404523259197}, 'data': {'sourceNode': 'decision-af2d2312', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A', 'instruction': 'A', 'color': '#3498db', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'index': 0, 'label': 'A'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 561.4396035398598, 'y': 423.8404523259197}, 'dragging': False}, {'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'type': 'option', 'position': {'x': 859.726983363634, 'y': 455.69709643398994}, 'data': {'sourceNode': 'decision-af2d2312', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B', 'instruction': 'B', 'color': '#e74c3c', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'index': 1, 'label': 'B'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 859.726983363634, 'y': 455.69709643398994}, 'dragging': False}, {'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'type': 'option', 'position': {'x': 1147.296915687845, 'y': 431.5836746098664}, 'data': {'sourceNode': 'decision-af2d2312', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C', 'instruction': 'C', 'color': '#FFA500', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'index': 2, 'label': 'C'}, 'draggable': True, 'deletable': True, 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1147.296915687845, 'y': 431.5836746098664}, 'dragging': False}], 'edges': [{'id': '11925', 'source': 'start-53b6501a', 'target': 'message-9ef98613', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11926', 'source': 'message-9ef98613', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11930', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11931', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11932', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'edge-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#3498db', 'strokeWidth': 2}}, {'id': 'edge-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#e74c3c', 'strokeWidth': 2}}, {'id': 'edge-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'style': {'stroke': '#FFA500', 'strokeWidth': 2}}]}
2025-08-07 03:41:16,604 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 03:41:17,282 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 03:41:20,001 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 03:41:20,002 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 03:41:20,171 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:41:20] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:42:16,157 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:42:16] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:42:16,705 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:42:17,221 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 03:42:17,391 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 03:42:17,392 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:42:17,731 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:42:17] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:42:24,627 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:42:24] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:42:25,140 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 03:42:25,310 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:42:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:43:58,980 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:43:58] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:43:59,488 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 03:43:59,658 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:43:59] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:53:33,469 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:53:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:53:33,979 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:53:34,491 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 03:53:34,658 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 03:53:34,658 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:53:34,995 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:53:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:57:10,060 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:57:10] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:57:10,573 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 03:57:10,744 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:57:10] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:59:22,808 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:59:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 03:59:23,331 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 03:59:23,842 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 03:59:24,010 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 03:59:24,010 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 03:59:24,348 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 03:59:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:02:12,982 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:02:12] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:02:13,512 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:02:13,681 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:02:13] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:02:28,695 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:02:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:02:29,104 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:02:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:02:29,622 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:02:29,793 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:02:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:02:38,346 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:02:38] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:02:38,866 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:02:39,039 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:02:39] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:05:27,947 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:05:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:05:28,470 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 04:05:28,981 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 04:05:29,151 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 04:05:29,151 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 04:05:29,490 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:05:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:07:57,995 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:07:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:07:58,530 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:07:58,702 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:07:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:13:46,195 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:13:46] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:13:46,719 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 04:13:47,227 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 04:13:47,395 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 04:13:47,395 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 04:13:47,734 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:13:47] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:13:54,688 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:13:54] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 04:13:55,786 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:13:55] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 04:14:03,183 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:14:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:14:03,698 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:14:03,869 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:14:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:20:03,127 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:20:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:20:03,649 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 04:20:04,174 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 04:20:04,344 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 04:20:04,345 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 04:20:04,734 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:20:04] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:20:23,448 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:20:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:20:23,970 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 498.43960353985983, 'y': 229.84045232591973}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 498.43960353985983, 'y': 229.84045232591973}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 867.726983363634, 'y': 300.69709643398994}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 867.726983363634, 'y': 300.69709643398994}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1187.296915687845, 'y': 245.58367460986642}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1187.296915687845, 'y': 245.58367460986642}, 'dragging': False}, {'data': {'id': 'message-9ef98613', 'label': 'Mensaje', 'lastUpdated': '2025-08-07T06:40:39.835Z', 'message': 'Hola {{cliente}}', 'variables': [{'id': 1754548806502, 'name': 'cliente', 'value': 'Seba'}]}, 'id': 'message-9ef98613', 'position': {'x': 886.8251041338972, 'y': -229.96397417346878}, 'type': 'message', 'width': 226, 'height': 104, 'selected': False, 'positionAbsolute': {'x': 886.8251041338972, 'y': -229.96397417346878}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 847.8438964312654, 'y': -45.450418741362114}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 847.8438964312654, 'y': -45.450418741362114}, 'dragging': False}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1246.388053971093, 'y': 645.1131991357482}, 'type': 'end', 'width': 303, 'height': 132, 'selected': True, 'positionAbsolute': {'x': 1246.388053971093, 'y': 645.1131991357482}, 'dragging': False}, {'data': {'id': 'start-53b6501a', 'label': 'Inicio'}, 'id': 'start-53b6501a', 'position': {'x': 643.2073833109642, 'y': -408.13288216140666}, 'type': 'start', 'width': 229, 'height': 156, 'selected': False, 'positionAbsolute': {'x': 643.2073833109642, 'y': -408.13288216140666}, 'dragging': False}], 'edges': [{'id': '11927', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11928', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11929', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11933', 'source': 'start-53b6501a', 'target': 'message-9ef98613', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11934', 'source': 'message-9ef98613', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11935', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11936', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11937', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-07 04:20:23,971 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 04:20:24,653 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 04:20:27,892 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 04:20:27,892 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 04:20:28,065 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:20:28] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:20:34,298 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:20:34] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:20:34,821 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 498.43960353985983, 'y': 229.84045232591973}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 498.43960353985983, 'y': 229.84045232591973}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 859.726983363634, 'y': 274.69709643398994}, 'type': 'option', 'width': 260, 'height': 141, 'selected': True, 'positionAbsolute': {'x': 859.726983363634, 'y': 274.69709643398994}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1181.296915687845, 'y': 261.5836746098664}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1181.296915687845, 'y': 261.5836746098664}, 'dragging': False}, {'data': {'id': 'message-9ef98613', 'label': 'Mensaje', 'lastUpdated': '2025-08-07T06:40:39.835Z', 'message': 'Hola {{cliente}}', 'variables': [{'id': 1754548806502, 'name': 'cliente', 'value': 'Seba'}]}, 'id': 'message-9ef98613', 'position': {'x': 870.8251041338972, 'y': -222.96397417346878}, 'type': 'message', 'width': 226, 'height': 104, 'selected': False, 'positionAbsolute': {'x': 870.8251041338972, 'y': -222.96397417346878}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 844.8438964312654, 'y': -46.450418741362114}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 844.8438964312654, 'y': -46.450418741362114}, 'dragging': False}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1246.388053971093, 'y': 645.1131991357482}, 'type': 'end', 'width': 303, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1246.388053971093, 'y': 645.1131991357482}, 'dragging': False}, {'data': {'id': 'start-53b6501a', 'label': 'Inicio'}, 'id': 'start-53b6501a', 'position': {'x': 643.2073833109642, 'y': -408.13288216140666}, 'type': 'start', 'width': 229, 'height': 156, 'selected': False, 'positionAbsolute': {'x': 643.2073833109642, 'y': -408.13288216140666}, 'dragging': False}], 'edges': [{'id': '11927', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11928', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11929', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11933', 'source': 'start-53b6501a', 'target': 'message-9ef98613', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11934', 'source': 'message-9ef98613', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11935', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11936', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11937', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-07 04:20:34,822 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 04:20:35,504 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 04:20:36,708 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 04:20:36,708 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 04:20:36,881 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:20:36] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:21:11,180 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:21:11] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:21:11,701 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 04:21:12,219 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 04:21:12,390 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 04:21:12,390 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 04:21:12,732 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:21:12] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:21:19,389 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:21:19] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:21:19,912 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:21:20,085 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:21:20] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:28:15,906 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:28:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:28:16,467 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 04:28:16,985 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 04:28:17,155 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 04:28:17,156 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 04:28:17,496 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:28:17] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:29:33,699 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:29:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:29:34,235 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:29:34,408 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:29:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:29:38,750 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:29:38,922 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:29:38] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:30:02,929 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:30:02] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:30:03,485 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:30:03,658 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:30:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:36:45,893 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:36:45] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 04:36:47,182 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:36:47] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-07 04:45:44,384 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:45:44] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 04:45:45,471 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:45:45] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 04:45:45,545 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:45:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:45:46,062 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 04:45:46,575 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 04:45:46,744 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 04:45:46,744 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 04:45:47,084 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:45:47] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:47:26,600 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:47:26] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:47:27,133 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:47:27,304 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:47:27] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:48:06,550 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:48:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:48:07,059 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:48:07,228 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:48:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:53:51,149 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:53:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:53:51,660 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 04:53:52,173 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 04:53:52,343 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 04:53:52,344 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 04:53:52,681 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:53:52] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:54:16,779 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:54:16] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:54:17,286 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:54:17,455 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:54:17] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:56:00,582 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:56:00] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:56:01,098 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:56:01,267 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:56:01] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:57:06,980 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:57:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:57:07,491 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:57:07,660 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:57:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:57:21,188 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:57:21] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:57:21,711 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:57:21,882 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:57:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:57:35,220 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:57:35] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:57:35,743 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:57:35,916 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:57:35] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:57:37,517 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 04:57:37,688 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:57:37] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:59:51,545 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:59:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 04:59:52,053 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 04:59:52,568 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 04:59:52,738 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 04:59:52,738 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 04:59:53,075 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 04:59:53] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:13:27,334 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:13:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:13:27,868 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 05:13:28,384 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 05:13:28,554 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 05:13:28,555 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 05:13:28,898 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:13:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:17:15,023 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:17:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:17:15,743 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 05:17:15,930 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:17:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:18:14,736 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:18:14] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:18:15,264 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 05:18:15,434 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:18:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:20:59,432 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:20:59] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:20:59,959 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'dragging': False}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'dragging': False}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'type': 'option', 'width': 260, 'height': 141, 'selected': False, 'positionAbsolute': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'dragging': False}, {'data': {'id': 'message-9ef98613', 'label': 'Mensaje', 'lastUpdated': '2025-08-07T06:40:39.835Z', 'message': 'Hola {{cliente}}', 'variables': [{'id': 1754548806502, 'name': 'cliente', 'value': 'Seba'}]}, 'id': 'message-9ef98613', 'position': {'x': 1356.713551592078, 'y': -375.9213229616483}, 'type': 'message', 'width': 226, 'height': 104, 'selected': True, 'positionAbsolute': {'x': 1356.713551592078, 'y': -375.9213229616483}, 'dragging': False}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'type': 'decision', 'width': 150, 'height': 40, 'selected': False, 'positionAbsolute': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'dragging': False}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'type': 'end', 'width': 303, 'height': 132, 'selected': False, 'positionAbsolute': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'dragging': False}, {'data': {'id': 'start-53b6501a', 'label': 'Inicio'}, 'id': 'start-53b6501a', 'position': {'x': 964.5924703234664, 'y': -536.459620559416}, 'type': 'start', 'width': 229, 'height': 156, 'selected': False, 'positionAbsolute': {'x': 964.5924703234664, 'y': -536.459620559416}, 'dragging': False}], 'edges': [{'id': '11938', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11939', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11940', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11941', 'source': 'start-53b6501a', 'target': 'message-9ef98613', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}, {'id': '11942', 'source': 'message-9ef98613', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11943', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11944', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11945', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}]}
2025-08-07 05:20:59,959 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 05:21:00,641 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 05:21:04,106 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 05:21:04,107 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 05:21:04,277 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:21:04] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:26:48,239 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:26:48] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:26:48,766 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 05:26:49,287 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 05:26:49,459 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 05:26:49,460 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 05:26:49,843 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:26:49] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:27:00,667 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:27:00] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 05:27:01,186 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 05:27:01,356 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 05:27:01] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:01:07,094 - root - INFO - Sistema de logging configurado correctamente
2025-08-07 15:01:07,102 - root - INFO - Sistema de logging configurado correctamente
2025-08-07 15:01:07,118 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-07 15:01:07,118 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-07 15:01:38,022 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:38] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:01:38,026 - app - WARNING - Authentication error: Signature has expired
2025-08-07 15:01:38,027 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:38] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 15:01:38,048 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:38] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 15:01:38,050 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:38] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 15:01:38,054 - app - WARNING - Authentication error: Signature has expired
2025-08-07 15:01:38,057 - app - WARNING - Authentication error: Signature has expired
2025-08-07 15:01:38,057 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:38] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 15:01:38,058 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:38] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 15:01:38,066 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:38] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 15:01:38,069 - app - WARNING - Authentication error: Signature has expired
2025-08-07 15:01:38,070 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:38] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 15:01:41,684 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:41] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 15:01:45,522 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:45] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 15:01:45,567 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:01:48,512 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 15:01:49,044 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 15:01:49,219 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 15:01:49,219 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 15:01:49,559 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:01:49] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:04:31,895 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:04:31] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:04:32,404 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:04:32,573 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:04:32] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:05:06,201 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:05:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:05:06,710 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:05:06,879 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:05:06] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:06:39,011 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:06:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:06:39,565 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:06:39,802 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:06:39] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:10:58,577 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:10:58] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:10:59,104 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 15:10:59,623 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 15:10:59,864 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 15:10:59,864 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 15:11:00,204 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:11:00] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:11:02,845 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:11:03,020 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:11:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:15:43,786 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:15:43] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:15:44,308 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:15:44,481 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:15:44] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:18:37,586 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:18:37] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:18:38,106 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 15:18:38,637 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 15:18:38,809 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 15:18:38,810 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 15:18:39,151 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:18:39] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:27:33,236 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:27:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:27:33,750 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 15:27:34,267 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 15:27:34,438 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 15:27:34,438 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 15:27:34,778 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:27:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:28:00,120 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:28:00] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:28:00,632 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:28:00,801 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:28:00] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:34:09,563 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:34:09] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:34:10,079 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 15:34:10,597 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 15:34:10,767 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 15:34:10,768 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 15:34:11,109 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:34:11] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:34:57,334 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:34:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:34:57,844 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:34:58,012 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:34:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:35:33,276 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:35:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:35:33,790 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:35:33,959 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:35:33] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:35:45,142 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:35:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:35:45,658 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:35:45,831 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:35:45] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:38:50,951 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:38:50] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:38:51,458 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:38:51,626 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:38:51] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:41:57,165 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:41:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:41:57,673 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 15:41:58,198 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 15:41:58,370 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 15:41:58,370 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 15:41:58,710 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:41:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:44:24,308 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:44:24] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 15:44:25,521 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:44:25] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-07 15:45:39,665 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:45:39] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 15:45:40,770 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:45:40] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 15:45:40,847 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:45:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:45:41,367 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 15:45:41,538 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:45:41] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:47:40,432 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:47:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 15:47:40,948 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 15:47:41,468 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 15:47:41,640 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 15:47:41,641 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 15:47:41,981 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 15:47:41] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:04:46,061 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:04:46] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:04:46,581 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 16:04:47,110 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 16:04:47,282 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 16:04:47,283 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 16:04:47,632 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:04:47] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:13:11,316 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:13:11] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:13:11,832 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 16:13:12,351 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 16:13:12,526 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 16:13:12,526 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 16:13:12,867 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:13:12] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:14:06,413 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:14:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:14:06,930 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:14:07,110 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:14:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:16:20,409 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:16:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:16:20,936 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:16:21,106 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:16:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:17:24,407 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:17:24] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:17:24,409 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:17:24] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:17:24,417 - app - WARNING - Authentication error: Signature has expired
2025-08-07 16:17:24,419 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:17:24] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 16:17:24,424 - app - WARNING - Authentication error: Signature has expired
2025-08-07 16:17:24,426 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:17:24] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 16:17:24,429 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:17:24] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 16:17:24,432 - app - WARNING - Authentication error: Signature has expired
2025-08-07 16:17:24,433 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:17:24] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 16:17:24,433 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:17:24] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 16:17:24,436 - app - WARNING - Authentication error: Signature has expired
2025-08-07 16:17:24,436 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:17:24] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 16:17:24,437 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:17:24] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 16:17:24,439 - app - WARNING - Authentication error: Signature has expired
2025-08-07 16:17:24,439 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:17:24] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 16:18:13,970 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:18:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:18:14,492 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 16:18:15,024 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 16:18:15,193 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 16:18:15,193 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 16:18:15,531 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:18:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:23:56,835 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:23:56] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:23:57,368 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 16:23:57,885 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 16:23:58,055 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 16:23:58,055 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 16:23:58,393 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:23:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:30:06,263 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:30:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:30:06,790 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 16:30:07,311 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 16:30:07,482 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 16:30:07,483 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 16:30:07,821 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:30:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:32:55,679 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:32:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:32:56,193 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:32:56,361 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:32:56] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:34:28,182 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:34:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:34:28,701 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:34:28,868 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:34:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:39:31,554 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:39:31] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:39:32,078 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 16:39:32,610 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 16:39:32,783 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 16:39:32,784 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 16:39:33,126 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:39:33] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:40:30,481 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:40:30] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:40:30,993 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:40:31,162 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:40:31] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:41:09,840 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:41:09] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:41:10,350 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:41:10,518 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:41:10] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:41:55,722 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:41:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:41:56,229 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:41:56,397 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:41:56] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:42:07,832 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:42:07] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:42:08,339 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:42:08,507 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:42:08] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:42:27,393 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:42:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:42:27,909 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:42:28,078 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:42:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:47:07,113 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:07] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:47:07,116 - app - WARNING - Authentication error: Signature has expired
2025-08-07 16:47:07,116 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:07] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 16:47:07,120 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:07] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 16:47:07,121 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:07] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 16:47:07,125 - app - WARNING - Authentication error: Signature has expired
2025-08-07 16:47:07,125 - app - WARNING - Authentication error: Signature has expired
2025-08-07 16:47:07,126 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:07] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 16:47:07,126 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:07] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 16:47:07,134 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:07] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 16:47:07,136 - app - WARNING - Authentication error: Signature has expired
2025-08-07 16:47:07,136 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:07] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 16:47:09,045 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:09] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 16:47:10,150 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:10] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 16:47:10,685 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 16:47:11,210 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 16:47:11,382 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 16:47:11,382 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 16:47:11,720 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:47:11] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:48:28,682 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:48:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:48:29,185 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:48:29,352 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:48:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:50:57,878 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:50:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:50:58,384 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:50:58,551 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:50:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:52:43,771 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:52:43] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:52:44,279 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 16:52:44,798 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 16:52:44,969 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 16:52:44,969 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 16:52:45,307 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:52:45] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:53:51,868 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:53:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:53:52,373 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:53:52,542 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:53:52] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:58:10,474 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:58:10] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:58:10,988 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 16:58:11,512 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 16:58:11,684 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 16:58:11,685 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 16:58:12,023 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:58:12] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:58:12,594 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:58:12,767 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:58:12] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:58:34,281 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:58:34] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 16:58:34,801 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 16:58:34,970 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 16:58:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:01:57,468 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:01:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:01:57,994 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:01:58,167 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:01:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:02:55,190 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:02:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:02:55,701 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:02:55,870 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:02:55] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:05:24,181 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:05:24] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:05:24,739 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 17:05:25,263 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 17:05:25,435 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 17:05:25,436 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 17:05:25,787 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:05:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:06:24,292 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:06:24] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:06:24,806 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:06:24,985 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:06:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:06:36,796 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:06:36] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:06:37,331 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:06:37,503 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:06:37] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:20:15,612 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:20:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:20:16,143 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 17:20:16,663 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 17:20:16,834 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 17:20:16,838 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 17:20:17,179 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:20:17] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:23:13,894 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:23:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:23:14,413 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:23:14,584 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:23:14] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:23:33,551 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:23:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:23:34,066 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:23:34,238 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:23:34] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:23:46,088 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:23:46] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:23:46,620 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:23:46,792 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:23:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:24:18,522 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:24:18] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:24:19,037 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:24:19,207 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:24:19] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:24:25,550 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:24:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:24:26,072 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:24:26,243 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:24:26] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:28:15,941 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:28:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:28:16,458 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 17:28:16,969 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 17:28:17,140 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 17:28:17,140 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 17:28:17,481 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:28:17] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:32:36,325 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:32:36] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:32:36,851 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:32:37,022 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:32:37] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:33:26,359 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:33:26] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 17:33:27,620 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:33:27] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-07 17:36:52,307 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:36:52] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 17:36:53,417 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:36:53] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 17:36:53,479 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:36:53] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:36:53,999 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 17:36:54,602 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 17:36:54,775 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 17:36:54,775 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 17:36:55,117 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:36:55] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:41:04,092 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:41:04] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:41:04,691 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:41:04,859 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:41:04] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:41:09,587 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:41:09] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:41:10,141 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:41:10,335 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:41:10] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:42:27,022 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:42:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:42:27,557 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 17:42:28,092 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 17:42:28,274 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 17:42:28,274 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 17:42:28,823 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:42:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:43:17,833 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:43:17] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:43:18,357 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:43:18,538 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:43:18] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:43:27,703 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:43:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:43:28,207 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:43:28,374 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:43:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:43:39,307 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:43:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:43:39,824 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:43:39,997 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:43:39] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:44:53,485 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:44:53] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:44:54,003 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:44:54,170 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:44:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:46:29,182 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:46:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:46:29,704 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:46:29,873 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:46:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:46:39,670 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:46:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:46:40,177 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:46:40,347 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:46:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:46:45,290 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:46:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:46:45,818 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:46:45,988 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:46:45] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 17:46:46,652 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 17:46:46,820 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 17:46:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:01:40,515 - root - INFO - Sistema de logging configurado correctamente
2025-08-07 18:01:40,523 - root - INFO - Sistema de logging configurado correctamente
2025-08-07 18:01:40,539 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-07 18:01:40,539 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-07 18:01:47,055 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:01:47] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:01:47,069 - app - ERROR - Exception on /api/flow/259 [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3304, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 617, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: no se pudo traducir el nombre ¬´dpg-cvqulmmuk2gs73c2ea00-a.oregon-postgres.render.com¬ª a una direcci√≥n: nodename nor servname provided, or not known


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 167, in decorator
    verify_jwt_in_request(
  File "/opt/homebrew/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 94, in verify_jwt_in_request
    jwt_data, jwt_header, jwt_location = _decode_jwt_from_request(
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 368, in _decode_jwt_from_request
    verify_token_not_blocklisted(jwt_header, decoded_token)
  File "/opt/homebrew/lib/python3.11/site-packages/flask_jwt_extended/internal_utils.py", line 58, in verify_token_not_blocklisted
    if jwt_manager._token_in_blocklist_callback(jwt_header, jwt_data):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/master/Desktop/Plubot/plubot-backend/app.py", line 84, in check_if_token_in_blocklist
    token = db.session.query(TokenBlocklist.id).filter_by(jti=jti).scalar()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2805, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2778, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2306, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2181, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2050, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1144, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3280, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2444, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3304, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 617, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) no se pudo traducir el nombre ¬´dpg-cvqulmmuk2gs73c2ea00-a.oregon-postgres.render.com¬ª a una direcci√≥n: nodename nor servname provided, or not known

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-08-07 18:01:47,081 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:01:47] "[35m[1mGET /api/flow/259 HTTP/1.1[0m" 500 -
2025-08-07 18:01:59,042 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:01:59] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:01:59,046 - app - ERROR - Exception on /api/flow/259 [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3304, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 617, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: no se pudo traducir el nombre ¬´dpg-cvqulmmuk2gs73c2ea00-a.oregon-postgres.render.com¬ª a una direcci√≥n: nodename nor servname provided, or not known


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 167, in decorator
    verify_jwt_in_request(
  File "/opt/homebrew/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 94, in verify_jwt_in_request
    jwt_data, jwt_header, jwt_location = _decode_jwt_from_request(
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 368, in _decode_jwt_from_request
    verify_token_not_blocklisted(jwt_header, decoded_token)
  File "/opt/homebrew/lib/python3.11/site-packages/flask_jwt_extended/internal_utils.py", line 58, in verify_token_not_blocklisted
    if jwt_manager._token_in_blocklist_callback(jwt_header, jwt_data):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/master/Desktop/Plubot/plubot-backend/app.py", line 84, in check_if_token_in_blocklist
    token = db.session.query(TokenBlocklist.id).filter_by(jti=jti).scalar()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2805, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2778, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2306, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2181, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2050, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in _connection_for_bind
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1144, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3280, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2444, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3304, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 617, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) no se pudo traducir el nombre ¬´dpg-cvqulmmuk2gs73c2ea00-a.oregon-postgres.render.com¬ª a una direcci√≥n: nodename nor servname provided, or not known

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-08-07 18:01:59,052 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:01:59] "[35m[1mGET /api/flow/259 HTTP/1.1[0m" 500 -
2025-08-07 18:02:14,312 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:02:14] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:02:17,371 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 18:02:20,929 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 18:02:21,187 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 18:02:21,188 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 18:02:21,646 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:02:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:04:05,380 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:04:05] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:04:05,898 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 18:04:06,073 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:04:06] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:09:55,987 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:09:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:09:56,494 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 18:09:57,018 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 18:09:57,192 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 18:09:57,193 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 18:09:57,534 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:09:57] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:12:03,823 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:12:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:12:04,332 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 18:12:04,500 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:12:04] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:12:50,227 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:12:50] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:12:50,743 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 18:12:50,912 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:12:50] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:13:55,102 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:13:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:13:55,614 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 18:13:55,785 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:13:55] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:13:59,291 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 18:13:59,461 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:13:59] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:21:56,935 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:21:56] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:21:57,458 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 18:21:57,985 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 18:21:58,160 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 18:21:58,160 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 18:21:58,503 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:21:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:26:59,443 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:26:59] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:26:59,969 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 18:27:00,498 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 18:27:00,669 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 18:27:00,669 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 18:27:01,012 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:27:01] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:36:09,343 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:36:09] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:36:09,865 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 18:36:10,382 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 18:36:10,553 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 18:36:10,553 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 18:36:10,899 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:36:10] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:40:58,516 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:40:58] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:40:58,522 - app - WARNING - Authentication error: Signature has expired
2025-08-07 18:40:58,524 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:40:58] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 18:40:58,531 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:40:58] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 18:40:58,532 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:40:58] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 18:40:58,534 - app - WARNING - Authentication error: Signature has expired
2025-08-07 18:40:58,534 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:40:58] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 18:40:58,535 - app - WARNING - Authentication error: Signature has expired
2025-08-07 18:40:58,536 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:40:58] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 18:40:58,551 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:40:58] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 18:40:58,554 - app - WARNING - Authentication error: Signature has expired
2025-08-07 18:40:58,555 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:40:58] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 18:41:12,548 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:41:12] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 18:41:13,706 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:41:13] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 18:41:13,759 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:41:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:41:14,275 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 18:41:14,793 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 18:41:14,966 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 18:41:14,966 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 18:41:15,330 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:41:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:45:00,575 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:45:00] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:45:01,118 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 18:45:01,291 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:45:01] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 18:45:43,190 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:45:43] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 18:45:43,194 - app - WARNING - Authentication error: Signature has expired
2025-08-07 18:45:43,195 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:45:43] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 18:50:22,711 - app - WARNING - Authentication error: Missing Authorization Header
2025-08-07 18:50:22,722 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 18:50:22] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 19:40:38,541 - root - INFO - Sistema de logging configurado correctamente
2025-08-07 19:40:38,549 - root - INFO - Sistema de logging configurado correctamente
2025-08-07 19:40:38,568 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-08-07 19:40:38,568 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-07 19:40:47,265 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:40:47] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 19:40:51,010 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:40:51] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 19:40:55,895 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:40:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 19:40:59,174 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 19:40:59,711 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 19:40:59,929 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 19:40:59,929 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 19:41:00,268 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:41:00] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 19:41:28,179 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:41:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 19:41:28,693 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 19:41:28,863 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:41:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 19:50:45,597 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:50:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 19:50:46,104 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 19:50:46,621 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 19:50:46,793 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 19:50:46,793 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 19:50:47,131 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:50:47] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 19:53:54,316 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:53:54] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 19:53:54,829 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 19:53:54,997 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:53:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 19:54:57,863 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:54:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 19:54:58,389 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 19:54:58,559 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 19:54:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:02:52,534 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:02:52] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:02:53,039 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 20:02:53,558 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 20:02:53,729 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 20:02:53,730 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 20:02:54,073 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:02:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:11:13,347 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:11:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:11:13,865 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 20:11:14,379 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 20:11:14,550 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 20:11:14,550 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 20:11:14,887 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:11:14] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:17:17,845 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:17:17] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:17:18,372 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 20:17:18,891 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 20:17:19,062 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 20:17:19,063 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 20:17:19,403 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:17:19] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:18:03,978 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:18:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:18:04,593 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 20:18:04,763 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:18:04] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:18:45,654 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:18:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:18:46,176 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 20:18:46,346 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:18:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:18:52,262 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:18:52] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:18:52,778 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 20:18:52,949 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:18:52] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:18:57,981 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:18:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:18:58,505 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 20:18:58,676 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:18:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:19:32,138 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:19:32] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:19:32,653 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 20:19:32,823 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:19:32] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:31:18,106 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:31:18] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:31:18,689 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 20:31:19,320 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 20:31:19,601 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 20:31:19,602 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 20:31:19,942 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:31:19] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:32:32,069 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:32:32] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:32:32,592 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 20:32:32,762 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:32:32] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:33:23,774 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:33:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:33:24,291 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'id': 'start-53b6501a', 'label': 'Inicio'}, 'id': 'start-53b6501a', 'position': {'x': 964.5924703234664, 'y': -536.459620559416}, 'type': 'start', 'width': 229, 'height': 142}], 'edges': [{'id': '11946', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11947', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11948', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11951', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11952', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11953', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-start-53b6501aoutput-decision-af2d2312input', 'source': 'start-53b6501a', 'target': 'decision-af2d2312', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-07 20:33:24,291 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=6, edges_count=7, name='N/A'
2025-08-07 20:33:24,977 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=6, edges_count=7, name='None'
2025-08-07 20:33:27,792 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 20:33:27,792 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 20:33:27,967 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:33:27] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:33:28,471 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 20:33:28,993 - api.flow_api - INFO - DB query for flows returned 6 items.
2025-08-07 20:33:29,174 - api.flow_api - INFO - DB query for edges returned 7 items.
2025-08-07 20:33:29,174 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 20:33:29,514 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:33:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:33:37,660 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:33:37] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:33:38,173 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 20:33:38,345 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:33:38] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:33:49,981 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:33:49] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:33:50,915 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 20:33:51,084 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:33:51] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:34:02,822 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:34:02] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:34:03,336 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'type': 'decision', 'width': 150, 'height': 40}, {'id': 'start-2f611a4c', 'type': 'start', 'position': {'x': 990.6499260169787, 'y': -570.5875421925685}, 'data': {'id': 'start-2f611a4c', 'label': 'Inicio'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 229, 'height': 142, 'selected': False, 'positionAbsolute': {'x': 990.6499260169787, 'y': -570.5875421925685}, 'dragging': False}, {'id': 'message-879eb9b3', 'type': 'message', 'position': {'x': 1318.6193621488765, 'y': -378.4589937949351}, 'data': {'id': 'message-879eb9b3', 'label': 'Mensaje'}, 'draggable': True, 'selectable': True, 'connectable': True, 'style': {'opacity': 1, 'visibility': 'visible'}, 'hidden': False, 'width': 212, 'height': 101, 'selected': True, 'positionAbsolute': {'x': 1318.6193621488765, 'y': -378.4589937949351}, 'dragging': False}], 'edges': [{'id': '11954', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11955', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11956', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11957', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11958', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11959', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': 'reactflow__edge-message-879eb9b3default-decision-af2d2312input', 'source': 'message-879eb9b3', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'reactflow__edge-start-2f611a4coutput-message-879eb9b3input', 'source': 'start-2f611a4c', 'target': 'message-879eb9b3', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-07 20:34:03,336 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 20:34:04,060 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 20:34:07,165 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 20:34:07,165 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 20:34:07,337 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:34:07] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:34:35,985 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:34:35] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:34:36,497 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 20:34:37,013 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 20:34:37,186 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 20:34:37,186 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 20:34:37,524 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:34:37] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:43:03,453 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:43:03,457 - app - WARNING - Authentication error: Signature has expired
2025-08-07 20:43:03,458 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:03] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 20:43:03,473 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:03] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 20:43:03,473 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:03] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 20:43:03,476 - app - WARNING - Authentication error: Signature has expired
2025-08-07 20:43:03,476 - app - WARNING - Authentication error: Signature has expired
2025-08-07 20:43:03,477 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:03] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 20:43:03,477 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:03] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 20:43:03,495 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:03] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 20:43:03,498 - app - WARNING - Authentication error: Signature has expired
2025-08-07 20:43:03,499 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:03] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 20:43:05,280 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:05] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 20:43:06,384 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:06] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 20:43:06,939 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 20:43:07,461 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 20:43:07,633 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 20:43:07,633 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 20:43:07,985 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:43:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:55:56,903 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:55:56] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 20:55:57,422 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 20:55:57,942 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 20:55:58,114 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 20:55:58,115 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 20:55:58,837 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 20:55:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:01:42,410 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:01:42] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:01:42,920 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 21:01:43,435 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 21:01:43,606 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 21:01:43,607 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 21:01:43,944 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:01:43] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:04:51,784 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:04:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:04:52,302 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 21:04:52,472 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:04:52] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:09:25,885 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:09:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:09:26,402 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 21:09:26,939 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 21:09:27,149 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 21:09:27,150 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 21:09:27,515 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:09:27] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:14:06,027 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:14:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:14:06,955 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 21:14:07,127 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:14:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:23:22,445 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:23:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:23:22,964 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 21:23:23,491 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 21:23:23,666 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 21:23:23,667 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 21:23:24,007 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:23:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:27:51,064 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:27:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:27:51,661 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 21:27:51,832 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:27:51] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:29:05,512 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:29:05] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 21:29:06,728 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:29:06] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-07 21:40:43,639 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:40:43] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 21:40:44,748 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:40:44] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 21:40:44,834 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:40:44] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:40:45,356 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 21:40:45,899 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 21:40:46,070 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 21:40:46,071 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 21:40:46,417 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:40:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:44:20,463 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:44:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:44:20,983 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 21:44:21,153 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:44:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:50:24,884 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:50:24] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:50:25,410 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 21:50:26,057 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 21:50:26,232 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 21:50:26,233 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 21:50:26,586 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:50:26] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:55:39,187 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:55:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 21:55:39,796 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 21:55:40,324 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 21:55:40,495 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 21:55:40,496 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 21:55:40,833 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 21:55:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:00:11,620 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:00:11] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:00:12,168 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:00:12,340 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:00:12] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:00:23,181 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:00:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:00:23,686 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:00:23,854 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:00:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:02:40,480 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:02:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:02:41,010 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 22:02:41,539 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 22:02:41,710 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 22:02:41,710 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 22:02:42,053 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:02:42] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:07:07,924 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:07:07] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:07:08,443 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:07:08,611 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:07:08] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:08:01,870 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:08:01] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:08:02,389 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 22:08:02,907 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 22:08:03,079 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 22:08:03,079 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 22:08:03,422 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:08:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:15:26,935 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:15:26] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:15:27,459 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 22:15:28,187 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 22:15:28,360 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 22:15:28,360 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 22:15:28,697 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:15:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:20:08,364 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:20:08] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:20:08,912 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:20:09,083 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:20:09] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:22:38,696 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:22:38] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:22:39,210 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 22:22:39,728 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 22:22:39,899 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 22:22:39,899 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 22:22:40,237 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:22:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:27:25,471 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:27:25] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:27:26,001 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:27:26,174 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:27:26] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:27:40,942 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:27:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:27:41,476 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 22:27:41,995 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 22:27:42,166 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 22:27:42,167 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 22:27:42,516 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:27:42] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:30:01,742 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:30:01] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:30:02,294 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:30:02,464 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:30:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:36:34,247 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:36:34] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:36:34,776 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 22:36:35,292 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 22:36:35,465 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 22:36:35,466 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 22:36:35,809 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:36:35] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:40:02,242 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:40:02] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:40:02,766 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:40:02,937 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:40:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:41:30,801 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:30] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:41:30,804 - app - WARNING - Authentication error: Signature has expired
2025-08-07 22:41:30,804 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:30] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 22:41:30,837 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:30] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 22:41:30,839 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:30] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-07 22:41:30,852 - app - WARNING - Authentication error: Signature has expired
2025-08-07 22:41:30,853 - app - WARNING - Authentication error: Signature has expired
2025-08-07 22:41:30,854 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:30] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 22:41:30,854 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:30] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-07 22:41:30,887 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:30] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 22:41:30,894 - app - WARNING - Authentication error: Signature has expired
2025-08-07 22:41:30,894 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:30] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-07 22:41:33,349 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:33] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 22:41:34,473 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:34] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 22:41:35,069 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:41:35,242 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:35] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:41:51,668 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:51] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:41:52,190 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 22:41:52,710 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 22:41:52,881 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 22:41:52,882 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 22:41:53,226 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:41:53] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:42:36,100 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:42:36] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:42:36,631 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:42:36,804 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:42:36] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:44:30,363 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:44:30] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:44:31,270 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:44:31,439 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:44:31] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:48:18,646 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:48:18] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:48:19,165 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 22:48:19,686 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 22:48:19,857 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 22:48:19,857 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 22:48:20,197 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:48:20] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:50:28,553 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:50:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:50:29,452 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:50:29,638 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:50:29] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:51:35,480 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:51:35] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:51:36,023 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:51:36,192 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:51:36] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:51:45,594 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:51:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:51:46,143 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:51:46,314 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:51:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:51:59,789 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:51:59] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:52:00,308 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 22:52:00,477 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:52:00] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:55:29,359 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:55:29] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 22:55:29,881 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 22:55:30,403 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 22:55:30,577 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 22:55:30,577 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 22:55:30,920 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 22:55:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:02:22,847 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:02:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:02:23,363 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 23:02:23,880 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 23:02:24,053 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 23:02:24,053 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 23:02:24,395 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:02:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:03:55,283 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:03:55] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-07 23:03:56,478 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:03:56] "POST /api/auth/logout HTTP/1.1" 200 -
2025-08-07 23:06:08,978 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:08] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:08,983 - app - WARNING - Authentication error: Missing Authorization Header
2025-08-07 23:06:08,985 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:08] "[31m[1mPATCH /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-07 23:06:14,802 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:14] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-07 23:06:15,925 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:15] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-07 23:06:15,978 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:16,497 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:06:16,669 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:16] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:20,738 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:21,419 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'id': 'message-879eb9b3', 'label': 'Mensaje'}, 'id': 'message-879eb9b3', 'position': {'x': 1318.6193621488765, 'y': -378.4589937949351}, 'type': 'message', 'width': 210, 'height': 99}, {'data': {'id': 'start-2f611a4c', 'label': 'Inicio'}, 'id': 'start-2f611a4c', 'position': {'x': 990.6499260169787, 'y': -570.5875421925685}, 'type': 'start', 'width': 229, 'height': 156}], 'edges': [{'id': '11961', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11962', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11963', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11964', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11965', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11966', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11967', 'source': 'message-879eb9b3', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11968', 'source': 'start-2f611a4c', 'target': 'message-879eb9b3', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}]}
2025-08-07 23:06:21,420 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 23:06:22,117 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 23:06:24,157 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'id': 'message-879eb9b3', 'label': 'Mensaje'}, 'id': 'message-879eb9b3', 'position': {'x': 1318.6193621488765, 'y': -378.4589937949351}, 'type': 'message', 'width': 210, 'height': 99}, {'data': {'id': 'start-2f611a4c', 'label': 'Inicio'}, 'id': 'start-2f611a4c', 'position': {'x': 990.6499260169787, 'y': -570.5875421925685}, 'type': 'start', 'width': 229, 'height': 156}], 'edges': [{'id': '11961', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11962', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11963', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11964', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11965', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11966', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11967', 'source': 'message-879eb9b3', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11968', 'source': 'start-2f611a4c', 'target': 'message-879eb9b3', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}]}
2025-08-07 23:06:24,158 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 23:06:24,218 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 23:06:24,218 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 23:06:24,391 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:24] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:25,935 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 23:06:26,463 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 23:06:26,463 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 23:06:26,639 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:26] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:27,154 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:27,679 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'type': 'option', 'width': 150, 'height': 42}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'type': 'option', 'width': 150, 'height': 42}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'type': 'option', 'width': 150, 'height': 42}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'type': 'end', 'width': 150, 'height': 42}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'type': 'decision', 'width': 150, 'height': 42}, {'data': {'id': 'message-879eb9b3', 'label': 'Mensaje'}, 'id': 'message-879eb9b3', 'position': {'x': 1318.6193621488765, 'y': -378.4589937949351}, 'type': 'message', 'width': 210, 'height': 99}, {'data': {'id': 'start-2f611a4c', 'label': 'Inicio'}, 'id': 'start-2f611a4c', 'position': {'x': 990.6499260169787, 'y': -570.5875421925685}, 'type': 'start', 'width': 150, 'height': 42}], 'edges': [{'id': '11961', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11962', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11963', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11964', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11965', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11966', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11967', 'source': 'message-879eb9b3', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11968', 'source': 'start-2f611a4c', 'target': 'message-879eb9b3', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}]}
2025-08-07 23:06:27,680 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 23:06:28,371 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 23:06:28,827 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'id': 'message-879eb9b3', 'label': 'Mensaje'}, 'id': 'message-879eb9b3', 'position': {'x': 1318.6193621488765, 'y': -378.4589937949351}, 'type': 'message', 'width': 210, 'height': 99}, {'data': {'id': 'start-2f611a4c', 'label': 'Inicio'}, 'id': 'start-2f611a4c', 'position': {'x': 990.6499260169787, 'y': -570.5875421925685}, 'type': 'start', 'width': 229, 'height': 156}], 'edges': [{'id': '11961', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11962', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11963', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11964', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11965', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11966', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11967', 'source': 'message-879eb9b3', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11968', 'source': 'start-2f611a4c', 'target': 'message-879eb9b3', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}]}
2025-08-07 23:06:28,829 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 23:06:28,903 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 23:06:28,903 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 23:06:29,073 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:29] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:29,517 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 23:06:30,098 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 23:06:30,098 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 23:06:30,271 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:30] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:33,241 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:33] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:34,199 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'type': 'option', 'width': 198, 'height': 76}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'type': 'end', 'width': 198, 'height': 76}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'type': 'decision', 'width': 198, 'height': 76}, {'data': {'id': 'message-879eb9b3', 'label': 'Mensaje'}, 'id': 'message-879eb9b3', 'position': {'x': 1318.6193621488765, 'y': -378.4589937949351}, 'type': 'message', 'width': 210, 'height': 99}, {'data': {'id': 'start-2f611a4c', 'label': 'Inicio'}, 'id': 'start-2f611a4c', 'position': {'x': 990.6499260169787, 'y': -570.5875421925685}, 'type': 'start', 'width': 198, 'height': 76}], 'edges': [{'id': '11961', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11962', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11963', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True}, {'id': '11964', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11965', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11966', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11967', 'source': 'message-879eb9b3', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True}, {'id': '11968', 'source': 'start-2f611a4c', 'target': 'message-879eb9b3', 'sourceHandle': 'output', 'targetHandle': 'input', 'type': 'default', 'animated': True}]}
2025-08-07 23:06:34,200 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 23:06:34,890 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 23:06:35,408 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 23:06:35,409 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 23:06:35,581 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:35] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:38,580 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:38] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:06:39,097 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 23:06:39,642 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 23:06:39,834 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 23:06:39,834 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 23:06:40,175 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:06:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:07:49,456 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:07:49] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:07:49,975 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:07:50,147 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:07:50] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:07:55,955 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:07:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:07:56,491 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:07:56,662 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:07:56] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:08:04,306 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:08:04] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:08:04,820 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:08:04,990 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:08:04] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:11:02,489 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:11:02] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:11:02,998 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:11:03,167 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:11:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:14:46,761 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:14:46] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:14:47,283 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 23:14:47,806 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 23:14:47,979 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 23:14:47,979 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 23:14:48,320 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:14:48] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:15:35,650 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:15:35] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:15:36,159 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:15:36,328 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:15:36] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:15:41,769 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:15:41] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:15:42,307 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:15:42,477 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:15:42] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:22:01,551 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:22:01] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:22:02,055 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 23:22:02,575 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 23:22:02,745 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 23:22:02,745 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 23:22:03,080 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:22:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:24:19,314 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:24:19] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:24:19,852 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:24:20,425 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:24:20] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:24:24,318 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:24:24,485 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:24:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:24:27,477 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:24:27] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:24:27,996 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:24:28,166 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:24:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:24:36,619 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:24:36] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:24:37,122 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:24:37,288 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:24:37] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:26:41,841 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:26:41] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:26:42,356 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'id': 'message-879eb9b3', 'label': 'Mensaje'}, 'id': 'message-879eb9b3', 'position': {'x': 1342.2428432322254, 'y': -414.96801001465616}, 'type': 'message', 'width': 210, 'height': 99, 'selected': False, 'positionAbsolute': {'x': 1342.2428432322254, 'y': -414.96801001465616}, 'dragging': False}, {'data': {'id': 'start-2f611a4c', 'label': 'Inicio'}, 'id': 'start-2f611a4c', 'position': {'x': 990.6499260169787, 'y': -570.5875421925685}, 'type': 'start', 'width': 229, 'height': 142}], 'edges': [{'id': '11969', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': '11970', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': '11971', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': '11972', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': '11973', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': '11974', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': 'reactflow__edge-message-879eb9b3default-decision-af2d2312input', 'source': 'message-879eb9b3', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'reactflow__edge-start-2f611a4coutput-message-879eb9b3input', 'source': 'start-2f611a4c', 'target': 'message-879eb9b3', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-07 23:26:42,357 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 23:26:43,053 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 23:26:45,300 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 23:26:45,301 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 23:26:45,472 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:26:45] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:27:23,478 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:27:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:27:23,980 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 23:27:24,498 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 23:27:24,671 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 23:27:24,671 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 23:27:25,020 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:27:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:28:39,762 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:28:39] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:28:40,275 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:28:40,444 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:28:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:32:15,532 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:32:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:32:16,042 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:32:16,217 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:32:16] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:32:41,491 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:32:41] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:32:42,004 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 23:32:42,712 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 23:32:42,885 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 23:32:42,885 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 23:32:43,230 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:32:43] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:39:06,717 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:39:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:39:07,226 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 23:39:07,739 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 23:39:07,908 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 23:39:07,909 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 23:39:08,245 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:39:08] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:39:13,144 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:39:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:39:13,656 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:39:13,826 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:39:13] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:41:40,012 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:41:40] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:41:40,517 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:41:40,684 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:41:40] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:41:49,903 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:41:49] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:41:50,415 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:41:50,587 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:41:50] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:43:07,362 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:43:07] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:43:07,864 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:43:08,036 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:43:08] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:48:26,814 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:48:26] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:48:27,329 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 23:48:27,949 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 23:48:28,121 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 23:48:28,122 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 23:48:28,461 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:48:28] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:49:53,296 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:49:53] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:49:53,811 - api.flow_api - INFO - [PATCH /api/flow/259] Received raw data: {'plubotId': '259', 'flowName': 'Amor ', 'nodes': [{'data': {'color': '#3498db', 'conditionId': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'index': 0, 'instruction': 'A', 'label': 'A', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'A'}, 'id': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'position': {'x': 1009.5062393104484, 'y': 49.994300545488585}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#e74c3c', 'conditionId': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'index': 1, 'instruction': 'B', 'label': 'B', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'B'}, 'id': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'position': {'x': 1322.7267154285787, 'y': 125.16911554255745}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'color': '#FFA500', 'conditionId': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'index': 2, 'instruction': 'C', 'label': 'C', 'lastUpdated': '2025-08-07T06:41:06.219Z', 'sourceNode': 'decision-af2d2312', 'text': 'C'}, 'id': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'position': {'x': 1634.8212617695879, 'y': 61.6644484919274}, 'type': 'option', 'width': 260, 'height': 141}, {'data': {'id': 'end-3fb59be4', 'label': 'Fin'}, 'id': 'end-3fb59be4', 'position': {'x': 1639.8148151601424, 'y': 404.82149199129765}, 'type': 'end', 'width': 303, 'height': 132}, {'data': {'conditions': [{'color': '#3498db', 'id': '1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'text': 'A'}, {'color': '#e74c3c', 'id': 'e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'text': 'B'}, {'color': '#FFA500', 'condition': '', 'id': 'condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'text': 'C'}], 'handleIds': ['output-0', 'output-1'], 'id': 'decision-af2d2312', 'isEditing': False, 'label': 'Decisi√≥n', 'question': 'Camino A, B o C'}, 'id': 'decision-af2d2312', 'position': {'x': 1339.2384170930845, 'y': -204.79713859268193}, 'type': 'decision', 'width': 150, 'height': 40}, {'data': {'id': 'message-879eb9b3', 'label': 'Mensaje'}, 'id': 'message-879eb9b3', 'position': {'x': 1342.2428432322254, 'y': -414.96801001465616}, 'type': 'message', 'width': 210, 'height': 99}, {'data': {'id': 'start-2f611a4c', 'label': 'Inicio'}, 'id': 'start-2f611a4c', 'position': {'x': 990.6499260169787, 'y': -570.5875421925685}, 'type': 'start', 'width': 229, 'height': 142}], 'edges': [{'id': '11977', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'sourceHandle': 'output-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': '11978', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'sourceHandle': 'output-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': '11979', 'source': 'decision-af2d2312', 'target': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'sourceHandle': 'output-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'targetHandle': 'target', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': '11980', 'source': 'option-decision-af2d2312-e93b10fc-f2de-4c94-966a-2dedacc1f1b2', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': '11981', 'source': 'option-decision-af2d2312-condition-2fee83b8-2809-4ca4-b1cd-a59161fbbe79', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': '11982', 'source': 'option-decision-af2d2312-1989cb78-0ec7-40ca-8fd1-97a5cc2be4bc', 'target': 'end-3fb59be4', 'sourceHandle': 'source', 'targetHandle': 'input', 'type': 'eliteEdge', 'animated': True, 'data': {'lodLevel': 'FULL'}}, {'id': 'reactflow__edge-message-879eb9b3default-decision-af2d2312input', 'source': 'message-879eb9b3', 'target': 'decision-af2d2312', 'sourceHandle': 'default', 'targetHandle': 'input'}, {'id': 'reactflow__edge-start-2f611a4coutput-message-879eb9b3input', 'source': 'start-2f611a4c', 'target': 'message-879eb9b3', 'sourceHandle': 'output', 'targetHandle': 'input'}]}
2025-08-07 23:49:53,811 - api.flow_api - INFO - [PATCH /api/flow/259] Extracted: nodes_count=7, edges_count=8, name='N/A'
2025-08-07 23:49:54,501 - api.flow_api - INFO - [update_full_flow - plubot_id=259] Starting update. Received: nodes_count=7, edges_count=8, name='None'
2025-08-07 23:49:56,232 - services.cache_service - INFO - Cach√© de flujo invalidada para plubot: 259
2025-08-07 23:49:56,233 - api.flow_api - INFO - Flujo actualizado para plubot 259 por usuario 77
2025-08-07 23:49:56,401 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:49:56] "PATCH /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:51:49,525 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:51:49] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:51:50,034 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-07 23:51:50,558 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-07 23:51:50,736 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-07 23:51:50,737 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-07 23:51:51,076 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:51:51] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:52:01,752 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:52:01] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-07 23:52:02,254 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-07 23:52:02,420 - werkzeug - INFO - 127.0.0.1 - - [07/Aug/2025 23:52:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:05:00,527 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:05:00] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:05:01,426 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-08 00:05:01,952 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-08 00:05:02,129 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-08 00:05:02,130 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-08 00:05:02,471 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:05:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:05:54,246 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:05:54] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:05:54,757 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:05:54,924 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:05:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:07:58,414 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:07:58] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:07:58,418 - app - WARNING - Authentication error: Signature has expired
2025-08-08 00:07:58,418 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:07:58] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-08 00:07:58,422 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:07:58] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-08 00:07:58,423 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:07:58] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-08 00:07:58,424 - app - WARNING - Authentication error: Signature has expired
2025-08-08 00:07:58,425 - app - WARNING - Authentication error: Signature has expired
2025-08-08 00:07:58,426 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:07:58] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-08 00:07:58,426 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:07:58] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-08 00:07:58,433 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:07:58] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-08 00:07:58,435 - app - WARNING - Authentication error: Signature has expired
2025-08-08 00:07:58,436 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:07:58] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-08 00:08:00,431 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:08:00] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-08 00:08:01,541 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:08:01] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-08 00:08:02,076 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:08:02,244 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:08:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:08:10,031 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:08:10] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:08:10,546 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:08:10,715 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:08:10] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:08:23,483 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:08:23] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:08:24,375 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:08:24,547 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:08:24] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:10:57,066 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:10:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:10:57,579 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-08 00:10:58,094 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-08 00:10:58,266 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-08 00:10:58,267 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-08 00:10:58,611 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:10:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:11:06,677 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:11:06] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:11:07,188 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:11:07,358 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:11:07] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:13:14,963 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:13:14] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:13:15,477 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:13:15,649 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:13:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:14:20,580 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:14:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:14:21,468 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:14:21,636 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:14:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:17:47,831 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:17:47] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:17:48,344 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-08 00:17:48,858 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-08 00:17:49,027 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-08 00:17:49,028 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-08 00:17:49,367 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:17:49] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:19:09,982 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:19:09] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:19:10,497 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:19:10,669 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:19:10] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:19:46,016 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:19:46] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:19:46,534 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:19:46,714 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:19:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:19:55,167 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:19:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:19:55,676 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:19:55,846 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:19:55] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:20:15,078 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:20:15] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:20:15,595 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:20:15,765 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:20:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:46:13,567 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:46:13] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:46:14,096 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-08 00:46:14,616 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-08 00:46:14,786 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-08 00:46:14,786 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-08 00:46:15,125 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:46:15] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:48:20,011 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:48:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:48:20,606 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:48:20,780 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:48:20] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:49:55,285 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:49:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:49:56,565 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:49:56,737 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:49:56] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:52:28,587 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:52:28] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:52:29,120 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-08 00:52:29,641 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-08 00:52:29,812 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-08 00:52:29,812 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-08 00:52:30,217 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:52:30] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:52:45,431 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:52:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:52:45,965 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:52:46,138 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:52:46] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:55:00,564 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:55:00] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:55:01,098 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:55:01,270 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:55:01] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:55:01,603 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:55:01,782 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:55:01] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:55:18,522 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:55:18] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:55:19,045 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:55:19,215 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:55:19] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:56:57,938 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:56:57] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:56:58,478 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:56:58,649 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:56:58] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 00:57:02,907 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 00:57:03,077 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 00:57:03] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:00:19,857 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:00:19] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:00:20,392 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-08 01:00:20,914 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-08 01:00:21,086 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-08 01:00:21,086 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-08 01:00:21,432 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:00:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:01:22,678 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:01:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:01:23,199 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:01:23,373 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:01:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:07:52,561 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:07:52] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:07:53,099 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-08 01:07:53,612 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-08 01:07:53,782 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-08 01:07:53,782 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-08 01:07:54,126 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:07:54] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:08:45,497 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:45] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:08:45,501 - app - WARNING - Authentication error: Signature has expired
2025-08-08 01:08:45,501 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:45] "[31m[1mGET /api/flow/259 HTTP/1.1[0m" 401 -
2025-08-08 01:08:45,507 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:45] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-08 01:08:45,508 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:45] "OPTIONS /api/auth/refresh HTTP/1.1" 200 -
2025-08-08 01:08:45,513 - app - WARNING - Authentication error: Signature has expired
2025-08-08 01:08:45,514 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:45] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-08 01:08:45,514 - app - WARNING - Authentication error: Signature has expired
2025-08-08 01:08:45,515 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:45] "[31m[1mPOST /api/auth/refresh HTTP/1.1[0m" 401 -
2025-08-08 01:08:45,537 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:45] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
2025-08-08 01:08:45,542 - app - WARNING - Authentication error: Signature has expired
2025-08-08 01:08:45,542 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:45] "[31m[1mPOST /api/auth/logout HTTP/1.1[0m" 401 -
2025-08-08 01:08:48,077 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:48] "OPTIONS /api/auth/login HTTP/1.1" 200 -
2025-08-08 01:08:49,191 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:49] "POST /api/auth/login HTTP/1.1" 200 -
2025-08-08 01:08:49,747 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:08:49,917 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:08:49] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:10:02,285 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:10:02] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:10:02,813 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:10:02,990 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:10:02] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:10:19,022 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:10:19] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:10:19,545 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:10:19,717 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:10:19] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:12:22,425 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:12:22] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:12:22,960 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:12:23,132 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:12:23] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:12:37,431 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:12:37] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:12:37,956 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:12:38,127 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:12:38] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:15:43,128 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:15:43] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:15:43,663 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-08 01:15:44,181 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-08 01:15:44,355 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-08 01:15:44,356 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-08 01:15:44,700 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:15:44] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:16:03,577 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:16:03] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:16:04,103 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:16:04,274 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:16:04] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:16:24,323 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:16:24] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:16:24,852 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:16:25,026 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:16:25] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:16:44,608 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:16:44] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:16:45,124 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:16:45,294 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:16:45] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:16:55,430 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:16:55] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:16:56,367 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:16:56,540 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:16:56] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:18:38,373 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:18:38] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:18:38,891 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:18:39,062 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:18:39] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:18:44,745 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:18:44] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:18:45,278 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:18:45,450 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:18:45] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:19:10,490 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:19:10] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:19:11,011 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:19:11,182 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:19:11] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:19:20,646 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:19:20] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:19:21,166 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:19:21,338 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:19:21] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:19:32,911 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:19:32] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:19:33,429 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
2025-08-08 01:19:33,600 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:19:33] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:22:31,476 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:22:31] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:22:32,015 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-08 01:22:32,536 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-08 01:22:32,717 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-08 01:22:32,718 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-08 01:22:33,060 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:22:33] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:33:56,164 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:33:56] "OPTIONS /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:33:56,676 - api.flow_api - INFO - Cache miss for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8.
2025-08-08 01:33:57,195 - api.flow_api - INFO - DB query for flows returned 7 items.
2025-08-08 01:33:57,365 - api.flow_api - INFO - DB query for edges returned 8 items.
2025-08-08 01:33:57,366 - api.flow_api - INFO - Flow data for plubot 259 stored in cache with key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8
2025-08-08 01:33:57,700 - werkzeug - INFO - 127.0.0.1 - - [08/Aug/2025 01:33:57] "GET /api/flow/259 HTTP/1.1" 200 -
2025-08-08 01:34:00,800 - api.flow_api - INFO - Cache hit for key flow:259:3d70130104a259d52b8698d2cf836f6162d015a5fd078344d59b1e1aeeff65f8. Returning cached data.
